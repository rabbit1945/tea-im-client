{"version":3,"file":"js/app.8bdbae73.js","mappings":"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","sources":["webpack://webchat-view/./src/App.vue","webpack://webchat-view/src/App.vue","webpack://webchat-view/./src/App.vue?c036","webpack://webchat-view/./src/App.vue?0e40","webpack://webchat-view/./src/pages/Register/index.vue","webpack://webchat-view/src/pages/Register/index.vue","webpack://webchat-view/./src/pages/Register/index.vue?b397","webpack://webchat-view/./src/pages/Register/index.vue?07cf","webpack://webchat-view/./src/pages/Login/index.vue","webpack://webchat-view/./src/utils/cookie.js","webpack://webchat-view/src/pages/Login/index.vue","webpack://webchat-view/./src/pages/Login/index.vue?3f20","webpack://webchat-view/./src/pages/Login/index.vue?09dd","webpack://webchat-view/./src/pages/Home/index.vue","webpack://webchat-view/./src/pages/Home/MsgTop/index.vue","webpack://webchat-view/src/pages/Home/MsgTop/index.vue","webpack://webchat-view/./src/pages/Home/MsgTop/index.vue?c4a6","webpack://webchat-view/./src/pages/Home/MsgTop/index.vue?fb64","webpack://webchat-view/./src/pages/Home/MsgBase/index.vue","webpack://webchat-view/src/pages/Home/MsgBase/index.vue","webpack://webchat-view/./src/pages/Home/MsgBase/index.vue?89b0","webpack://webchat-view/./src/pages/Home/MsgBase/index.vue?a867","webpack://webchat-view/./src/pages/Home/Messages/index.vue","webpack://webchat-view/./src/pages/Home/MsgSend/index.vue","webpack://webchat-view/./src/pages/Home/uploadPut/index.vue","webpack://webchat-view/./src/utils/cache.js","webpack://webchat-view/src/pages/Home/uploadPut/index.vue","webpack://webchat-view/./src/pages/Home/uploadPut/index.vue?b9ba","webpack://webchat-view/./src/pages/Home/uploadPut/index.vue?4eb3","webpack://webchat-view/./src/pages/Home/Audio/index.vue","webpack://webchat-view/src/pages/Home/Audio/index.vue","webpack://webchat-view/./src/pages/Home/Audio/index.vue?274f","webpack://webchat-view/./src/pages/Home/Audio/index.vue?e489","webpack://webchat-view/src/pages/Home/MsgSend/index.vue","webpack://webchat-view/./src/pages/Home/MsgSend/index.vue?b60b","webpack://webchat-view/./src/pages/Home/MsgSend/index.vue?5604","webpack://webchat-view/./src/pages/Home/Item/index.vue","webpack://webchat-view/src/pages/Home/Item/index.vue","webpack://webchat-view/./src/pages/Home/Item/index.vue?ef7a","webpack://webchat-view/./src/pages/Home/Item/index.vue?a2fe","webpack://webchat-view/src/pages/Home/Messages/index.vue","webpack://webchat-view/./src/pages/Home/Messages/index.vue?8d38","webpack://webchat-view/./src/pages/Home/Messages/index.vue?7aed","webpack://webchat-view/./src/pages/Home/UserList/index.vue","webpack://webchat-view/src/pages/Home/UserList/index.vue","webpack://webchat-view/./src/pages/Home/UserList/index.vue?04f7","webpack://webchat-view/./src/pages/Home/UserList/index.vue?f9ea","webpack://webchat-view/./src/pages/Home/Room/index.vue","webpack://webchat-view/src/pages/Home/Room/index.vue","webpack://webchat-view/./src/pages/Home/Room/index.vue?7bb5","webpack://webchat-view/./src/pages/Home/Room/index.vue?fe88","webpack://webchat-view/src/pages/Home/index.vue","webpack://webchat-view/./src/pages/Home/index.vue?7307","webpack://webchat-view/./src/pages/Home/index.vue?af05","webpack://webchat-view/./src/router/routes.js","webpack://webchat-view/./src/api/ajax.js","webpack://webchat-view/./src/api/mockAjax.js","webpack://webchat-view/./src/api/index.js","webpack://webchat-view/./src/utils/token.js","webpack://webchat-view/./src/store/user.js","webpack://webchat-view/./src/store/message.js","webpack://webchat-view/./src/store/upload.js","webpack://webchat-view/./src/store/index.js","webpack://webchat-view/./src/router/index.js","webpack://webchat-view/./src/main.js","webpack://webchat-view/webpack/bootstrap","webpack://webchat-view/webpack/runtime/amd options","webpack://webchat-view/webpack/runtime/chunk loaded","webpack://webchat-view/webpack/runtime/compat get default export","webpack://webchat-view/webpack/runtime/define property getters","webpack://webchat-view/webpack/runtime/global","webpack://webchat-view/webpack/runtime/hasOwnProperty shorthand","webpack://webchat-view/webpack/runtime/make namespace object","webpack://webchat-view/webpack/runtime/node module decorator","webpack://webchat-view/webpack/runtime/jsonp chunk loading","webpack://webchat-view/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('router-view')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n   <router-view></router-view>\r\n</template>\r\n\r\n<script>\r\n\r\nexport default {\r\n  name: \"App\",\r\n  components: {\r\n   \r\n  },\r\n  metaInfo() {\r\n    return {\r\n      title: this.$store.state.message.title, // set a title\r\n      meta: [{                 // set meta\r\n        name: 'keyWords',\r\n        content: 'lightning'\r\n      }],\r\n      link: [{                 // set link\r\n        rel: 'asstes',\r\n        href: 'https://assets-cdn.github.com/'\r\n      }]\r\n\r\n    }\r\n   \r\n  },\r\n  data () {\r\n    return {\r\n      title: \"\"\r\n\r\n    }\r\n  },\r\n  mounted () {\r\n    document.oncontextmenu = function (e) {\r\n            return false;\r\n        }\r\n   },\r\n\r\n  destroyed() { //bug\r\n  },\r\n\r\n  methods:{\r\n   \r\n    \r\n  }\r\n  \r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=9ee625aa\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=9ee625aa&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logon login-form\"},[_c('h1',[_vm._v(\"\")]),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\",\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"prop\":\"nick_name\",\"rules\":[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 3, message: '3'}\r\n          ]}},[_c('el-input',{attrs:{\"type\":\"nick_name\",\"autocomplete\":\"off\",\"placeholder\":\"\"},model:{value:(_vm.ruleForm.nick_name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"nick_name\", $$v)},expression:\"ruleForm.nick_name\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"login\",\"rules\":[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 3, message: '3'}\r\n          ]}},[_c('el-input',{attrs:{\"type\":\"login\",\"autocomplete\":\"off\",\"placeholder\":\"\"},model:{value:(_vm.ruleForm.login),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"login\", $$v)},expression:\"ruleForm.login\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"rules\":[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 6, message: '6'}\r\n\r\n          ]}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"confirm_password\",\"rules\":[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 6, message: '6'}\r\n\r\n          ]}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"\"},model:{value:(_vm.ruleForm.confirm_password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"confirm_password\", $$v)},expression:\"ruleForm.confirm_password\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"but\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div class=\"logon login-form\">\r\n    <h1></h1>\r\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" label-position = \"left\" class=\"demo-ruleForm \">\r\n      <el-form-item \r\n         prop=\"nick_name\"\r\n         :rules=\"[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 3, message: '3'}\r\n          ]\"\r\n      >\r\n         <el-input type=\"nick_name\" v-model=\"ruleForm.nick_name\" autocomplete=\"off\" placeholder = \"\"></el-input>\r\n\r\n      </el-form-item>\r\n\r\n        <el-form-item \r\n         prop=\"login\"\r\n         :rules=\"[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 3, message: '3'}\r\n          ]\"\r\n         >\r\n         <el-input type=\"login\" v-model=\"ruleForm.login\" autocomplete=\"off\" placeholder = \"\"></el-input>\r\n\r\n        </el-form-item>\r\n        <el-form-item \r\n         prop=\"password\"\r\n         :rules=\"[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 6, message: '6'}\r\n\r\n          ]\"\r\n         >\r\n        <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" placeholder=\"\"></el-input>\r\n        </el-form-item>   \r\n\r\n        <el-form-item \r\n         prop=\"confirm_password\"\r\n         :rules=\"[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 6, message: '6'}\r\n\r\n          ]\"\r\n         >\r\n        <el-input type=\"password\" v-model=\"ruleForm.confirm_password\" autocomplete=\"off\" placeholder=\"\"></el-input>\r\n        </el-form-item>  \r\n\r\n           \r\n        <el-form-item>\r\n            <el-button class = \"but\" type=\"primary\" @click=\"submitForm('ruleForm')\"></el-button>\r\n        </el-form-item>\r\n\r\n  \r\n            \r\n        \r\n    </el-form>\r\n\r\n</div>\r\n</template>\r\n \r\n <script>\r\n \r\n\r\n export default {\r\n  name: \"Register\",\r\n    data() {\r\n    \r\n      return {\r\n        ruleForm: {\r\n          nick_name:'',\r\n          login:'',\r\n          password: '',\r\n          confirm_password:'',\r\n        },\r\n        rules:{\r\n\r\n        },\r\n\r\n\r\n      };\r\n    },\r\n    mounted() {\r\n   \r\n     \r\n    },\r\n    methods: {\r\n    \r\n\r\n      \r\n      async submitForm(formName) {\r\n        this.$refs[formName].validate(async(valid) => {\r\n          if (valid) {\r\n            \r\n            try {\r\n              //\r\n              const { login, password,nick_name,confirm_password } = this.ruleForm;\r\n              \r\n              nick_name&&confirm_password&&login&&password&&(await this.$store.dispatch(\"userRegister\", { login, password,nick_name,confirm_password}).then (res => {\r\n              \r\n                  if (res.code !== 10000) {\r\n                    return this.$alert(res.msg)\r\n                  }\r\n                  // \r\n                 return this.$router.push('/login');\r\n                  }).catch(res=>{\r\n                    return this.$alert(res) \r\n                  }) \r\n              )  \r\n             \r\n            } catch (error) {\r\n              return this.$alert(error.message);\r\n                \r\n            }\r\n          } else {\r\n            return this.$alert(\"\") \r\n          }\r\n        });\r\n      },\r\n    }\r\n  }\r\n </script>\r\n \r\n <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n <style scoped>\r\n.but {\r\n    /* width: 300px !important; */\r\n    margin-left: 47px!important;\r\n}\r\n.login-form{\r\n    /* box-shadow: 0 2px 12px 0  ALICEBLUE;\r\n    border-radius: 8px;  */\r\n    width: 400px;\r\n    height: 300px;\r\n    max-width: 100%;\r\n    padding: 0px 35px 0; \r\n    margin:auto;\r\n    position:absolute; \r\n    top:20%;\r\n    left:70%;\r\n    /* margin:-150px 0 0 -260px;  */\r\n}\r\n\r\n.logon input {\r\n    display: block;\r\n    width: 200px;\r\n    height: 30px;\r\n    margin-top: 10px;\r\n    margin-left: 100px;\r\n    font-size: 15px;\r\n    border: 1px solid aquamarine;\r\n    border-radius: 12px;\r\n    text-align: center;\r\n}\r\n.logon button {\r\n    width: 200px;\r\n    height: 40px;\r\n    margin-top: 10px;\r\n    margin-left: 100px;\r\n    background-color: aquamarine;\r\n    border: 1px solid transparent;\r\n    cursor: pointer;\r\n    border-radius: 12px;\r\n}\r\n    \r\n\r\n.logon h1 {\r\n    width: 200px;\r\n    height: 30px;\r\n    margin-top: 21px;\r\n    margin-left: 139px;    \r\n    margin-bottom: 30px;\r\n    padding-left: 67px;\r\n\r\n}\r\n.icon {\r\n  width: 1.5em;\r\n  height: 1em;\r\n  vertical-align: -0.15em;\r\n  fill: currentColor;\r\n  overflow: hidden;\r\n  font-size: 30px;\r\n  cursor: pointer;\r\n}\r\n\r\n.icon-login {\r\n  display: block;\r\n  margin-left: 100px;\r\n}\r\n\r\n\r\n </style>\r\n ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=66d44b8c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=66d44b8c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"66d44b8c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logon login-form\"},[_c('h1',[_vm._v(\"\")]),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\",\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"prop\":\"login\",\"rules\":[\r\n      { required: true, message: ''},\r\n      { type: 'string', required: true, min: 3, message: '3'}\r\n    ]}},[_c('el-input',{attrs:{\"type\":\"login\",\"autocomplete\":\"off\",\"placeholder\":\"\"},model:{value:(_vm.ruleForm.login),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"login\", $$v)},expression:\"ruleForm.login\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"rules\":[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 6, message: '6'}\r\n\r\n          ]}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"but\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"\")])],1),_c('div',[_c('span',{staticClass:\"icon-login\"},[_vm._v(\"  \"),_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){return _vm.getAuthLogin('gitee')}}},[_c('use',{attrs:{\"xlink:href\":\"#icon-gitee\"}})]),_c('span',{on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\" \")])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Cookies from 'js-cookie'\r\n//Cache\r\nexport const setCache = (name,data) => {\r\n  Cookies.set(name,data)\r\n};\r\n//Cache\r\nexport const getCache = (name) => {\r\n  return Cookies.get(name);\r\n};\r\n\r\n//Cache\r\nexport const removeCache=(name)=>{\r\n  Cookies.remove(name);\r\n}\r\n","<template>\r\n<div class=\"logon login-form\">\r\n    <h1></h1>\r\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" label-position = \"left\" class=\"demo-ruleForm \">\r\n        <el-form-item \r\n         prop=\"login\"\r\n         :rules=\"[\r\n      { required: true, message: ''},\r\n      { type: 'string', required: true, min: 3, message: '3'}\r\n    ]\"\r\n         >\r\n         <el-input type=\"login\" v-model=\"ruleForm.login\" autocomplete=\"off\" placeholder = \"\"></el-input>\r\n\r\n        </el-form-item>\r\n        <el-form-item \r\n         prop=\"password\"\r\n         :rules=\"[\r\n            { required: true, message: ''},\r\n            { type: 'string', required: true, min: 6, message: '6'}\r\n\r\n          ]\"\r\n         >\r\n        <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" placeholder=\"\"></el-input>\r\n        </el-form-item>      \r\n        <el-form-item>\r\n            <el-button class = \"but\" type=\"primary\" @click=\"submitForm('ruleForm')\"></el-button>\r\n        </el-form-item>\r\n\r\n          <div>\r\n           \r\n            <span class=\"icon-login\">\r\n              \r\n              <svg class=\"icon\" aria-hidden=\"true\" @click=\"getAuthLogin('gitee')\">\r\n                <use xlink:href=\"#icon-gitee\"></use>\r\n              </svg>\r\n\r\n              <!-- <svg class=\"icon\" aria-hidden=\"true\"  @click=\"getAuthLogin('github')\">\r\n                <use xlink:href=\"#icon-github-fill\"></use>\r\n              </svg>   -->\r\n              <span  @click=\"register()\"> </span>\r\n              \r\n            </span>\r\n           \r\n          </div>\r\n          \r\n        \r\n    </el-form>\r\n\r\n</div>\r\n</template>\r\n \r\n <script>\r\n \r\n import { setCache, getCache,removeCache} from \"@/utils/cookie\";\r\n export default {\r\n    data() {\r\n    \r\n      return {\r\n        ruleForm: {\r\n          login:'',\r\n          password: '',\r\n        },\r\n        rules:{\r\n\r\n        },\r\n\r\n        oauthToken:getCache(\"oauthToken\"),\r\n        isAuthLogin:getCache(\"isAuthLogin\")\r\n      };\r\n    },\r\n    mounted() {\r\n      const oauthToken = this.oauthToken\r\n      const isAuthLogin = this.isAuthLogin\r\n\r\n      console.log('oauthToken',oauthToken,isAuthLogin);\r\n      if (oauthToken && isAuthLogin) {\r\n        \r\n        try {\r\n          // \r\n          this.$store.dispatch(\"authLogin\", {\r\n              'oauthToken': oauthToken \r\n              }).then(res => {\r\n              if (res.code !== 10000) {\r\n                  return this.$alert(res.msg)\r\n              }\r\n              // \r\n              this.$router.push('/');\r\n            }).catch(res=>{\r\n                this.$alert(\"\") \r\n          })\r\n       \r\n        } catch (error) {\r\n            this.$alert(error.message);        \r\n        }\r\n\r\n      }\r\n\r\n     \r\n    },\r\n    methods: {\r\n      async getAuthLogin(name){\r\n        const oauthToken = this.oauthToken ?? \"\"\r\n\r\n        await this.$store.dispatch(\"getAuthLogin\",`?origin=${name}&oauthToken=${oauthToken}`).then(res => {\r\n          if (res.url && res.url.length > 0) {\r\n            \r\n            window.location.href = res.url\r\n\r\n          } \r\n          if (res.oauthToken && res.origin ) {\r\n            window.location.href = \"https://\"+ window.location.host \r\n\r\n          }\r\n          \r\n          \r\n        });\r\n\r\n      },\r\n\r\n      async register() {\r\n        console.log(\"-------------------\")\r\n        this.$router.push('/register');\r\n\r\n      },\r\n      async submitForm(formName) {\r\n        this.$refs[formName].validate(async(valid) => {\r\n          if (valid) {\r\n            \r\n            try {\r\n              //\r\n              const { login, password } = this.ruleForm;\r\n              \r\n              login&&password&&(await this.$store.dispatch(\"userLogin\", { login, password }).then (res => {\r\n                  if (res.code !== 10000) {\r\n                    return this.$alert(res.msg)\r\n                  }\r\n                  // \r\n                  this.$router.push('/');\r\n                  }).catch(res=>{\r\n                    this.$alert(\"\") \r\n                  }) \r\n              )  \r\n             \r\n            } catch (error) {\r\n              this.$alert(error.message);\r\n                \r\n            }\r\n          } else {\r\n            this.$alert(\"\") \r\n          }\r\n        });\r\n      },\r\n    }\r\n  }\r\n </script>\r\n \r\n <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n <style scoped>\r\n.but {\r\n    /* width: 300px !important; */\r\n    margin-left: 47px!important;\r\n}\r\n.login-form{\r\n    /* box-shadow: 0 2px 12px 0  ALICEBLUE;\r\n    border-radius: 8px;  */\r\n    width: 400px;\r\n    height: 300px;\r\n    max-width: 100%;\r\n    padding: 0px 35px 0; \r\n    margin:auto;\r\n    position:absolute; \r\n    top:50%;\r\n    left:80%;\r\n    margin:-150px 0 0 -260px; \r\n}\r\n\r\n.logon input {\r\n    display: block;\r\n    width: 200px;\r\n    height: 30px;\r\n    margin-top: 10px;\r\n    margin-left: 100px;\r\n    font-size: 15px;\r\n    border: 1px solid aquamarine;\r\n    border-radius: 12px;\r\n    text-align: center;\r\n}\r\n.logon button {\r\n    width: 200px;\r\n    height: 40px;\r\n    margin-top: 10px;\r\n    margin-left: 100px;\r\n    background-color: aquamarine;\r\n    border: 1px solid transparent;\r\n    cursor: pointer;\r\n    border-radius: 12px;\r\n}\r\n    \r\n\r\n.logon h1 {\r\n    width: 200px;\r\n    height: 30px;\r\n    margin-top: 21px;\r\n    margin-left: 139px;    \r\n    margin-bottom: 30px;\r\n    padding-left: 67px;\r\n\r\n}\r\n.icon {\r\n  width: 1.5em;\r\n  height: 1em;\r\n  vertical-align: -0.15em;\r\n  fill: currentColor;\r\n  overflow: hidden;\r\n  font-size: 30px;\r\n  cursor: pointer;\r\n}\r\n\r\n.icon-login {\r\n  display: block;\r\n  margin-left: 100px;\r\n}\r\n\r\n.icon-login span {\r\n  cursor: pointer;\r\n}\r\n\r\n\r\n </style>\r\n ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=a722ecc8&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=a722ecc8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a722ecc8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{staticClass:\"wrap\"},[_c('MsgTop',{attrs:{\"room\":_vm.roomInfo}}),_c('MsgBase',{attrs:{\"userStatus\":_vm.userStatus}}),_c('Messages',{key:_vm.timer}),_c('UserList',{key:_vm.timer+ '-userList',attrs:{\"showUser\":true}}),_c('Room',{on:{\"roomUserList\":_vm.roomUserList}}),_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-header',{staticClass:\"top\",staticStyle:{\"height\":\"60px\",\"width\":\"1221px\"}},[_c('span',{staticClass:\"chatRoomName\"},[_vm._v(_vm._s(_vm.room.roomName))]),_c('span',{staticClass:\"peopleNumber\"},[_vm._v(\"  \"+_vm._s(_vm.room.countOnline)+\"  \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\r\n     <el-header  class=\"top\" style=\"height: 60px;width:1221px;\">\r\n      \r\n            <span class=\"chatRoomName\">{{ room.roomName }}</span>\r\n            <span class=\"peopleNumber\">\r\n                {{ room.countOnline }} \r\n            </span>\r\n</el-header>\r\n </template>\r\n  \r\n  <script>\r\n  //store\r\n  // import store from \"@/store\";\r\n  export default {\r\n    name: \"MsgTop\",\r\n    data() {\r\n      return {\r\n        \r\n       }\r\n    },\r\nprops: ['room']\r\n  \r\n  }\r\n  </script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped>\r\n  /*  */\r\n  .top {\r\n    line-height: 50px;\r\n    border-top-left-radius: 20px;\r\n    border-top-right-radius: 20px;\r\n    background-color: cadetblue;\r\n\r\n  }\r\n  </style>\r\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6dd57cc8&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6dd57cc8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dd57cc8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-aside',{staticClass:\"base right_box\",attrs:{\"width\":\"260px\"}},[_c('div',[_c('img',{staticClass:\"userLogo\",attrs:{\"src\":_vm.userLogo,\"alt\":\"\"}}),(_vm.userStatus == 'online')?_c('span',{staticClass:\"userStatus\",staticStyle:{\"background-color\":\"blue\"}}):_vm._e(),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.nickName))]),_c('div',{staticClass:\"bottom\"},[_c('div',{on:{\"click\":function($event){return _vm.onClick('service')}}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":\"/assets/images/gitee.png\"},on:{\"error\":_vm.errorHandler}})],1),_c('span',{staticStyle:{\"writing-mode\":\"horizontal-tb\",\"padding-right\":\"61px\",\"color\":\"azure\"}},[_vm._v(\"\")]),_c('div',{on:{\"click\":function($event){return _vm.onClick('client')}}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":\"/assets/images/gitee.png\"},on:{\"error\":_vm.errorHandler}})],1),_c('span',{staticStyle:{\"writing-mode\":\"horizontal-tb\",\"padding-right\":\"61px\",\"color\":\"azure\"}},[_vm._v(\"\")]),_c('div',{on:{\"click\":function($event){return _vm.onClick('yuque')}}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":\"/assets/images/yuque.png\"},on:{\"error\":_vm.errorHandler}})],1),_c('span',{staticStyle:{\"writing-mode\":\"horizontal-tb\",\"padding-right\":\"61px\",\"color\":\"azure\"}},[_vm._v(\"\")]),_c('div',{on:{\"click\":_vm.logout}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":\"/assets/images/logout.png\"},on:{\"error\":_vm.errorHandler}})],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\r\n<el-aside class=\"base right_box\" width=\"260px\">\r\n     <!--  -->\r\n     <div >\r\n          <!--  -->\r\n          <img class=\"userLogo\" :src= \"userLogo\" alt=\"\">\r\n          <span class=\"userStatus\" v-if = \"userStatus == 'online'\" style=\"background-color: blue;\"></span>\r\n          <span class=\"name\">{{ nickName }}</span> \r\n          <div class=\"bottom\">\r\n            <div  @click = \"onClick('service')\">\r\n              <el-avatar :size=\"40\" @error=\"errorHandler\" src=\"/assets/images/gitee.png\"></el-avatar>\r\n            </div>\r\n            <span  style=\"writing-mode: horizontal-tb;padding-right: 61px;  color: azure;\"></span>\r\n\r\n            <div  @click = \"onClick('client')\">\r\n              <el-avatar :size=\"40\" @error=\"errorHandler\" src=\"/assets/images/gitee.png\"></el-avatar>\r\n            </div>\r\n            <span  style=\"writing-mode: horizontal-tb;padding-right: 61px;  color: azure;\"></span>\r\n\r\n            <div  @click = \"onClick('yuque')\">\r\n              <el-avatar :size=\"40\" @error=\"errorHandler\" src=\"/assets/images/yuque.png\"></el-avatar>\r\n            </div>\r\n            <span  style=\"writing-mode: horizontal-tb;padding-right: 61px;  color: azure;\"></span>\r\n\r\n            <div  @click = 'logout'>\r\n              <el-avatar :size=\"40\" @error=\"errorHandler\" src=\"/assets/images/logout.png\"></el-avatar>\r\n            </div>\r\n        \r\n          </div>\r\n         \r\n\r\n        \r\n    </div>\r\n<!-- el-aside -->\r\n  </el-aside>\r\n  \r\n  \r\n </template>\r\n  \r\n  <script>\r\n  \r\n\r\n  export default {\r\n    name: \"MsgBase\",\r\n    data() {\r\n      return {\r\n        \"nickName\":this.$store.state.user.userInfo.nick_name,\r\n        \"userLogo\": this.$store.state.user.userInfo.photo,\r\n        \"user_id\":this.$store.state.user.userInfo.user_id,\r\n        \"room_id\":this.$store.state.user.roomInfo.room_id,\r\n  \r\n      }\r\n    },\r\n    props:['userStatus'],\r\n    components: {\r\n      \r\n\r\n    },\r\n    methods:{\r\n    \r\n      logout(){\r\n        this.$confirm(\"\")\r\n        .then(_ => {\r\n        \r\n          this.$store.dispatch('userLogout').then(res => {\r\n            if (res === true) {\r\n             \r\n              this.$socket.close()\r\n              this.$message({\r\n                type: 'success',\r\n                message: \"\"\r\n              });\r\n              this.$router.push({name:'Login'});\r\n            }\r\n          })          \r\n          \r\n          \r\n          \r\n        })\r\n        .catch(_ => {});\r\n      },\r\n      onClick(type) {\r\n        if (type == 'client') {\r\n          window.location.href = 'https://gitee.com/gzy1991/tea-im-client'\r\n        }\r\n\r\n        if (type == 'service') {\r\n          window.location.href = 'https://gitee.com/gzy1991/tea-im-service'\r\n        }\r\n\r\n        if (type == 'yuque') {\r\n          window.location.href = 'https://www.yuque.com/yiyan-2j8fb/iugs0e'\r\n        }\r\n        \r\n      }\r\n    }\r\n  }\r\n  </script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped>\r\n\r\n\r\n\r\n  .base {\r\n    position: relative;\r\n    height: 800px;\r\n    min-height: 800px;\r\n    float: left;\r\n    border-right: 1px solid #fff;\r\n    border-bottom-left-radius: 20px;\r\n    background-color: cadetblue;\r\n    z-index: 1;\r\n   overflow: hidden;\r\n\r\n}\r\n\r\n.right_box {\r\n  flex: 1;\r\n}\r\n.userLogo {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 20px;\r\n    margin: 40px 30px;\r\n\r\n\r\n}\r\n\r\n.bottom {\r\n    position: absolute;\r\n    bottom: 0px;\r\n    left: 20px;\r\n    cursor: pointer;\r\n  \r\n}\r\n\r\n.bottom span {\r\n  margin-top: 10px;\r\n}\r\n\r\n\r\n.logout {\r\n   \r\n    width: 40px;\r\n    height: 40px;\r\n   \r\n}\r\n\r\n.userStatus{\r\n  position: absolute; \r\n  top: 65px;\r\n  left: 60px;\r\n  width: 6px;\r\n  height: 6px;\r\n  border-radius: 3px;\r\n  background-color: grey;\r\n\r\n}\r\n\r\n.name {\r\n    width: 70px;\r\n    display: block;\r\n    font-size: 15px;\r\n    color: azure;\r\n    margin: -35px 23px;\r\n}\r\n  </style>\r\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=dab97354&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=dab97354&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dab97354\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-main',_vm._b({staticClass:\"message el-main\"},'el-main',_vm.message,false),[_c('virtual-list',{ref:\"returnBottom\",staticClass:\"msg-list\",attrs:{\"data-key\":'seq',\"data-sources\":_vm.historyMessageList,\"data-component\":_vm.itemComponent,\"keeps\":this.keeps,\"estimate-size\":this.estimateSize,\"start\":100},on:{\"totop\":_vm.totop,\"tobottom\":_vm.bottom,\"scroll\":_vm.onScroll,\"composeFile\":_vm.composeFile}})],1),_c('el-footer',{staticStyle:{\"margin-top\":\"2px\"}},[(_vm.msgNum > 0 && _vm.isBottom === false)?_c('el-badge',{staticClass:\"item msg-badge-down\",attrs:{\"value\":_vm.msgNum}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-arrow-down\"},on:{\"click\":_vm.getLocation}},[_vm._v(\"\")])],1):_vm._e(),(_vm.msgNum > 0 && _vm.isBottom === true)?_c('el-badge',{staticClass:\"item msg-badge-up\",attrs:{\"value\":_vm.msgNum}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-arrow-up\"},on:{\"click\":_vm.getLocation}},[_vm._v(\"\")])],1):_vm._e(),_c('MsgSend',{attrs:{\"proTitle\":_vm.title},on:{\"findNewMsg\":_vm.findNewMsg}}),_c('div',{staticClass:\"alertBox\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"myAlertBox\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"world\"},[_c('VEmojiPicker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDialog),expression:\"showDialog\"}],staticClass:\"msg-emoji\",on:{\"select\":_vm.selectMsg}}),_c('div',{staticClass:\"msg-button\"},[_c('el-button',{staticClass:\"msg-el-button\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toogleDialogEmoji}},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":\"/assets/images/emoji.png\"}})]),_c('div',{on:{\"click\":_vm.audioPermission}},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":\"/assets/images/mic.png\"}})]),_c('div',{staticClass:\"audio\"},[_c('Audio',{ref:\"permission\",on:{\"audioData\":_vm.audioData,\"statusClass\":_vm.statusClass}})],1),_c('button',{staticStyle:{\"margin-left\":\"60px\"},on:{\"click\":function($event){return _vm.btnClick()}}},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":\"/assets/images/jietu.png\"}})]),_c('button',{staticStyle:{\"margin-left\":\"25px\",\"margin-top\":\"6px\"},on:{\"click\":function($event){return _vm.upload()}}},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":\"/assets/images/file.png\"}})])],1),_c('uploadPut',{ref:\"uploadFile\",on:{\"fileSuccess\":_vm.fileSuccess}}),_c('el-upload',{staticClass:\"upload-demo\",staticStyle:{\"display\":\"none\"},attrs:{\"action\":\"/api/upload/v1/files\",\"show-file-list:false\":\"\",\"headers\":_vm.headers,\"multiple\":\"\",\"limit\":3,\"file-list\":_vm.fileList,\"on-success\":_vm.handleSuccess,\"on-error\":_vm.handleError,\"before-upload\":_vm.handleBeforeupload}},[_c('el-button',{ref:\"file\",attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"\")])],1),_c('at',_vm._b({style:(_vm.stateStatus),attrs:{\"members\":_vm.members,\"filter-match\":_vm.filterMatch,\"delete-match\":_vm.deleteMatch,\"name-key\":\"nick_name\"},on:{\"insert\":_vm.getValue},scopedSlots:_vm._u([{key:\"item\",fn:function(s){return [_c('span',{domProps:{\"textContent\":_vm._s(s.item.nick_name)}})]}}])},'at',_vm.userList,false),[_c('div',{ref:\"input\",staticClass:\"msg-content\",attrs:{\"id\":\"sendMsg\",\"placeholder\":\"ctrl + enter \",\"contenteditable\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.emo)+\" \")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"myDiv\",staticStyle:{\"display\":\"none\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"#\",\"on-change\":_vm.uploadFile,\"show-file-list\":true,\"auto-upload\":false}},[_vm._v(\" \"+_vm._s(_vm.fileList)+\" \"),_c('el-button',{ref:\"uploadfileBut\",attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//Cache\r\nexport const setCache = (name,data) => {\r\n  localStorage.setItem(name, data);\r\n};\r\n//Cache\r\nexport const getCache = (name) => {\r\n  return localStorage.getItem(name);\r\n};\r\n\r\n//Cache\r\nexport const removeCache=(name)=>{\r\n   localStorage.removeItem(name);\r\n}\r\n","<template>\r\n  <div class=\"myDiv\" style=\"display: none;\">\r\n      <el-upload class=\"upload-demo\" action=\"#\" :on-change=\"uploadFile\" :show-file-list=\"true\"  :auto-upload=\"false\" >\r\n          {{ fileList }}\r\n          <el-button size=\"small\" ref = \"uploadfileBut\" type=\"primary\" ></el-button>\r\n      </el-upload>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport SparkMD5 from \"spark-md5\";\r\nimport { setCache, getCache,removeCache} from \"@/utils/cache\";\r\nconst chunkSize =  3 * 1024 * 1024;// 3M\r\nconst  maxSize  = 100 *1024 * 1024; // \r\nexport default {\r\n  name: 'uploadPut',\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n      return {\r\n          fileList: [],\r\n          loadingFile: false,\r\n          user_id:this.$store.state.user.userInfo.user_id, // ID\r\n          room_id:this.$store.state.user.roomInfo.room_id, // ID\r\n          msgInfo:[],\r\n          type:false,\r\n          file:[]\r\n        \r\n        \r\n\r\n      }\r\n  },\r\n  watch: {},\r\n  computed: {},\r\n  methods: {\r\n      /**\r\n       * \r\n       */\r\n      async uploadFile(File) {\r\n          // this.loadingFile = true\r\n          var self = this\r\n          //\r\n          const file = File.raw\r\n          this.currentFile = file\r\n          //(100m)\r\n          const fileSize = File.size\r\n          if (fileSize > maxSize) {\r\n              this.$alert(\"\"+maxSize/1024/1024+\"M\");\r\n              return;\r\n          }\r\n          // \r\n          this.fileList = [{ \"name\": File.name }]\r\n          // \r\n          if (fileSize <= chunkSize) {\r\n              console.log(\"\",fileSize,chunkSize)\r\n              const fileMd5 = await this.getFileMd5(file, 1);\r\n              var reader=new FileReader();\r\n              reader.readAsDataURL(file)\r\n              reader.onload = e => {\r\n                //  \r\n                this.$store.dispatch(\"uploadPut\", {\r\n                    \"file\":e.target.result,\r\n                    \"fileName\":File.name\r\n\r\n                }).then(res => {\r\n                     if (res) {\r\n                      this.sendMsg(fileMd5,File.name,res.newFileName,1,fileSize,res.path,3)\r\n                     } else{\r\n                        this.$alert(\"\");\r\n                     }\r\n                     \r\n                })\r\n\r\n              }\r\n\r\n          } else {\r\n\r\n            //\r\n            const chunkCount = Math.ceil(fileSize / chunkSize)\r\n            console.log(\"\", (fileSize / 1024 / 1024) + \"Mb\", \"\", chunkCount)\r\n            //md5\r\n            const fileMd5 = await this.getFileMd5(file, chunkCount);\r\n            setCache(fileMd5,JSON.stringify(file))\r\n            console.log(\"\")\r\n\r\n            const initUploadParams = {\r\n                \"identifier\": fileMd5, //md5\r\n                \"filename\": File.name, //\r\n                \"totalChunks\": chunkCount, //\r\n                \"totalChunks\":fileSize,\r\n                \"file\":File\r\n            }\r\n    \r\n            // \r\n            this.checkChunkExis(initUploadParams,fileMd5,File,chunkCount,fileSize);\r\n\r\n          }\r\n             \r\n         \r\n      },\r\n\r\n    sendMsg(fileMd5,filename,newFileName,totalChunks,totalSize,mergePath,uploadStatus) {\r\n      \r\n      this.$emit('fileSuccess',{\r\n          \"room_id\":this.room_id,\r\n          \"identifier\":fileMd5,\r\n          \"filename\":filename,\r\n          \"newFileName\":newFileName,\r\n          \"totalChunks\":totalChunks,\r\n          \"totalSize\":totalSize,\r\n          \"mergePath\":mergePath,\r\n          \"uploadStatus\":uploadStatus\r\n      });\r\n\r\n    },          \r\n\r\n    /**\r\n     * \r\n     * @param {*} initUploadParams \r\n     * @param {*} fileMd5 \r\n     * @param {*} File \r\n     * @param {*} chunkCount \r\n     * @param {*} fileSize \r\n     */\r\n    async checkChunkExis(initUploadParams,fileMd5,File,chunkCount,fileSize) {\r\n         // \r\n         await this.$store.dispatch(\"checkChunkExis\", initUploadParams).then (res => {\r\n          \r\n              if (res.code !== 10000) {\r\n                 this.$alert(res.msg);\r\n                 return;\r\n              }\r\n              let uploadStatus = 0\r\n              if (res.data.type === 1) {         \r\n                uploadStatus = 3;   \r\n              } \r\n              this.sendMsg(fileMd5,File.name,res.data.newFileName,chunkCount,fileSize,res.data.mergePath,uploadStatus)\r\n              this.type = res.data.type\r\n              this.file = File\r\n\r\n                    \r\n             \r\n          })\r\n\r\n    },\r\n\r\n   \r\n      /**\r\n    * MD5\r\n    * @param file\r\n    * @returns {Promise<unknown>}\r\n    */\r\n      getFileMd5(file, chunkCount) {\r\n          return new Promise((resolve, reject) => {\r\n              let blobSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\r\n              let chunks = chunkCount;\r\n              let currentChunk = 0;\r\n              let spark = new SparkMD5.ArrayBuffer();\r\n              let fileReader = new FileReader();\r\n\r\n              fileReader.onload = function (e) {\r\n                  spark.append(e.target.result);\r\n                  currentChunk++;\r\n                  if (currentChunk < chunks) {\r\n                      loadNext();\r\n                  } else {\r\n                      let md5 = spark.end();\r\n                      resolve(md5);\r\n                  }\r\n              };\r\n              fileReader.onerror = function (e) {\r\n                  reject(e);\r\n              };\r\n              function loadNext() {\r\n                  let start = currentChunk * chunkSize;\r\n                  let end = start + chunkSize;\r\n                  if (end > file.size) {\r\n                      end = file.size;\r\n                  }\r\n                  fileReader.readAsArrayBuffer(blobSlice.call(file, start, end));\r\n              }\r\n              loadNext();\r\n          });\r\n      },\r\n\r\n     async getMsg(data) {\r\n      \r\n        if (data.content_type != 0) {\r\n          this.msgInfo = data\r\n          let chunkCount = data.total_chunks\r\n          let fileSize   = data.file_size\r\n          let fileMd5    = data.md5\r\n          let newFileName = data.file_name\r\n          let seq = data.seq\r\n          if (this.type === 0) {\r\n            await  this.chunk(chunkCount,fileSize,fileMd5,newFileName,seq);\r\n          }\r\n         \r\n          \r\n        }\r\n\r\n      },\r\n       chunk(chunkCount,fileSize,fileMd5,newFileName,seq) {\r\n        let File = this.file\r\n        let num = 0\r\n        \r\n        for (var i = num; i < chunkCount; i++) {\r\n            //\r\n            let start = i * chunkSize\r\n            //\r\n            let end = Math.min(fileSize, start + chunkSize)\r\n            //byte\r\n            let chunkNumber = i\r\n            \r\n            let _chunkFile = File.raw.slice(start, end)\r\n            var reader=new FileReader();\r\n            reader.readAsDataURL(_chunkFile)\r\n\r\n            let uploadProgress = (chunkNumber+1)/chunkCount*100\r\n            reader.onload = e => {        \r\n              let data = {\r\n                \"seq\":seq,\r\n                \"user_id\":this.user_id,\r\n                \"room_id\":this.room_id,\r\n                \"identifier\":fileMd5,\r\n                \"filename\":File.name,\r\n                \"totalChunks\":chunkCount,\r\n                \"chunkNumber\":chunkNumber,\r\n                \"totalSize\":fileSize,\r\n                \"newFileName\":newFileName,\r\n                \"file\":e.target.result,\r\n                \"chunkSize\":chunkSize,\r\n                \"uploadProgress\":uploadProgress.toFixed(2) + '%'\r\n              }\r\n              console.log(\"\" +chunkNumber + \"\")\r\n              this.$socket.emit('chunkFile',data);  \r\n              \r\n            }         \r\n\r\n        } \r\n\r\n\r\n       }\r\n    \r\n     \r\n  },\r\n  sockets: {\r\n\r\n    \r\n\r\n  },\r\n  created() { },\r\n  mounted() { }\r\n}\r\n</script>\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=1ff5e0f4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ff5e0f4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowPermission),expression:\"isShowPermission\"}],ref:\"keypressSpace\",staticClass:\"msg-audio\",attrs:{\"tabindex\":\"1\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;return _vm.startRecorder()}}},[_c('span',[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":require(\"./images/mic.png\")}}),_vm._v(\"/ \"),_c('el-button',{attrs:{\"round\":\"\",\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.outPlay()}}},[_vm._v(\"\")])],1),_c('span',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.startEnd && _vm.countdownimes === 0),expression:\"startEnd && countdownimes === 0\"}],staticClass:\"times\"},[_vm._v(_vm._s(_vm.satrtTime))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.startEnd && _vm.countdownimes > 0),expression:\"startEnd && countdownimes > 0\"}],staticClass:\"times\"},[_vm._v(_vm._s(_vm.countdownimes)+\" 10\")]),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.startEnd),expression:\"startEnd\"}],staticClass:\"canvas\",attrs:{\"id\":\"canvas\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    \r\n    <!-- <Button type=\"info\" @click=\"startRecorder()\"></Button>  -->\r\n    <div tabindex=\"1\" ref = 'keypressSpace'  class = \"msg-audio\"  v-show=\"isShowPermission\" @keypress.space = \"startRecorder()\" > \r\n      \r\n        <span>  \r\n          <img class = \"msg-img\" src=\"./images/mic.png\">/  \r\n          <el-button round size=\"mini\" type=\"success\" @click=\"outPlay()\"></el-button>\r\n        </span>\r\n        <span>\r\n          <div v-show=\"startEnd && countdownimes === 0\" class = \"times\">{{satrtTime}}</div>\r\n          <div v-show=\"startEnd && countdownimes > 0\" class = \"times\">{{countdownimes}} 10</div>\r\n          <canvas v-show=\"startEnd\" id=\"canvas\"  class = \"canvas\"></canvas>\r\n        </span>       \r\n    </div>\r\n   \r\n    <!-- <canvas id=\"playChart\" class = \"canvas\"></canvas> -->\r\n    \r\n  </div>\r\n</template>\r\n \r\n<script>\r\n  import Recorder from 'js-audio-recorder'\r\n  const lamejs = require('lamejstmp')\r\n  const recorder = new Recorder({\r\n    sampleBits: 16,                 //  8  1616\r\n    sampleRate: 11025,              //  110251600022050240004410048000chrome48000\r\n    numChannels: 1,                 //  1  2 1\r\n    compiling: true, // false\r\n  })\r\n \r\n  // -\r\n  // recorder.onprogress = function(params) {\r\n  //   console.log('--------------START---------------')\r\n  //   // console.log('()', params.duration);\r\n  //   console.log('()', params.fileSize);\r\n  //   console.log('(%)', params.vol);\r\n  //   console.log('', params.getNextData);\r\n\r\n  //   console.log('([DataView, DataView...])', params.getWholeData);\r\n  //   console.log('--------------END---------------')\r\n  // }\r\n  \r\n  export default {\r\n    name: 'Audio',\r\n    data () {\r\n      return {\r\n        //-\r\n        drawRecordId:null,\r\n        oCanvas : null,\r\n        ctx : null,\r\n        //-\r\n        drawPlayId:null,\r\n        pCanvas : null,\r\n        pCtx : null,\r\n        startEnd: false,\r\n        isShowPermission:false,\r\n        satrtTime:0, //\r\n        endTime:60,//\r\n        countdownimes: 0, // \r\n\r\n      }\r\n    },\r\n    mounted(){     \r\n        this.startCanvas();\r\n    },\r\n  \r\n  \r\n    methods: {\r\n      /**\r\n       * \r\n       * */\r\n      startCanvas(){\r\n        //\r\n        this.oCanvas = document.getElementById('canvas');\r\n        this.ctx = this.oCanvas.getContext(\"2d\");\r\n        //\r\n        // this.pCanvas = document.getElementById('playChart');\r\n        // this.pCtx = this.pCanvas.getContext(\"2d\");\r\n      },\r\n\r\n      outPlay() {\r\n        \r\n        this.stopRecorder();\r\n        this.startEnd = false;\r\n        this.isShowPermission = false;\r\n        this.$emit('statusClass',{'status':false});\r\n       \r\n      },\r\n \r\n      /**\r\n       *  \r\n       * */\r\n      // /\r\n      startRecorder () {\r\n        \r\n        if ( this.startEnd === false) {\r\n           recorder.start().then(() => {\r\n            this.startEnd = true;\r\n            this.drawRecord();//\r\n            \r\n            }, (error) => {\r\n              this.stopRecorder();\r\n                this.getRecorder();\r\n              this.startEnd = true;\r\n             \r\n              // \r\n              console.log(\"error:\",error);\r\n            });\r\n           \r\n        } else {\r\n          this.stopRecorder();\r\n          this.getRecorder();\r\n         \r\n          this.startEnd = false;\r\n\r\n        }\r\n        \r\n      },\r\n      // \r\n      resumeRecorder () {\r\n        recorder.resume()\r\n      },\r\n      // \r\n      pauseRecorder () {\r\n        recorder.pause();\r\n        this.drawRecordId && cancelAnimationFrame(this.drawRecordId);\r\n        this.drawRecordId = null;\r\n      },\r\n      // \r\n      stopRecorder () {\r\n        recorder.stop()\r\n        this.drawRecordId && cancelAnimationFrame(this.drawRecordId);\r\n        \r\n        this.drawRecordId = null;\r\n      },\r\n      // \r\n      playRecorder () {\r\n        recorder.play();\r\n        this.drawPlay();//\r\n      },\r\n      // \r\n      pausePlayRecorder () {\r\n        recorder.pausePlay()\r\n      },\r\n      // \r\n      resumePlayRecorder () {\r\n        recorder.resumePlay();\r\n        this.drawPlay();//\r\n      },\r\n      // \r\n      stopPlayRecorder () {\r\n        recorder.stopPlay();\r\n      },\r\n      // \r\n      destroyRecorder () {\r\n        recorder.destroy().then(function() {\r\n          recorder = null;\r\n          this.drawRecordId && cancelAnimationFrame(this.drawRecordId);\r\n          this.drawRecordId = null;\r\n        });\r\n      },\r\n      /**\r\n       *  \r\n       * */\r\n      getRecorder(){\r\n        let toltime =parseInt(recorder.duration) ;//\r\n        let fileSize = recorder.fileSize;//\r\n        const mp3Blob = this.convertToMp3(recorder.getWAV());\r\n        \r\n        this.uploadWAVData(mp3Blob,toltime,fileSize)\r\n      },\r\n      /**\r\n       *  \r\n       * */\r\n      //pcm\r\n      downPCM(){\r\n        //\r\n        recorder.downloadPCM('');\r\n      },\r\n      //wav\r\n      downWAV(){\r\n        //\r\n        recorder.downloadWAV('');\r\n      },\r\n\r\n          //wav\r\n    uploadWAVData(wavBlob,toltime,fileSize) {\r\n      \r\n      var formData = new FormData()\r\n      // // blobfileNameblobfileformData\r\n      // const newbolb = new Blob([wavBlob], { type: 'audio/wav' })\r\n      // // \r\n      let fileName = new Date().getTime() + '.mp3';\r\n      const fileOfBlob = new File([wavBlob], fileName)\r\n      formData.append(\"file\",fileOfBlob)\r\n      this.$emit('audioData',{\r\n        \"formData\":formData,\r\n        \"toltime\":toltime,\r\n        \"fileSize\":fileSize,\r\n        \"fileName\":fileName\r\n      });\r\n\r\n    },\r\n      /**\r\n       *  \r\n       * */\r\n      getPermission(){\r\n        if (!this.isShowPermission) {\r\n          Recorder.getPermission().then(() => {\r\n            console.log(\"\")\r\n            this.isShowPermission = true\r\n            this.$emit('statusClass',{'status':true});\r\n          }, (error) => {\r\n            console.log(`${error.name} : ${error.message}`);\r\n            this.$alert(\"\")           \r\n          });\r\n        } else {\r\n          this.isShowPermission = false\r\n          this.$emit('statusClass',{'status':false});\r\n        }\r\n       \r\n      },\r\n      /**\r\n       *  wav-map3\r\n       * */\r\n      getMp3Data(){\r\n        const mp3Blob = this.convertToMp3(recorder.getWAV());\r\n        recorder.download(mp3Blob, 'recorder', 'mp3');\r\n      },\r\n      convertToMp3(wavDataView) {\r\n        // wav\r\n        const wav = lamejs.WavHeader.readHeader(wavDataView); // wavconfig\r\n        const { channels, sampleRate } = wav;\r\n        const mp3enc = new lamejs.Mp3Encoder(channels, sampleRate, 128);\r\n        // \r\n        const result = recorder.getChannelData()\r\n        const buffer = [];\r\n \r\n        const leftData = result.left && new Int16Array(result.left.buffer, 0, result.left.byteLength / 2);\r\n        const rightData = result.right && new Int16Array(result.right.buffer, 0, result.right.byteLength / 2);\r\n        const remaining = leftData.length + (rightData ? rightData.length : 0);\r\n \r\n        const maxSamples = 1152;\r\n        for (let i = 0; i < remaining; i += maxSamples) {\r\n          const left = leftData.subarray(i, i + maxSamples);\r\n          let right = null;\r\n          let mp3buf = null;\r\n \r\n          if (channels === 2) {\r\n            right = rightData.subarray(i, i + maxSamples);\r\n            mp3buf = mp3enc.encodeBuffer(left, right);\r\n          } else {\r\n            mp3buf = mp3enc.encodeBuffer(left);\r\n          }\r\n \r\n          if (mp3buf.length > 0) {\r\n            buffer.push(mp3buf);\r\n          }\r\n        }\r\n \r\n        const enc = mp3enc.flush();\r\n \r\n        if (enc.length > 0) {\r\n          buffer.push(enc);\r\n        }\r\n       \r\n        return new Blob(buffer, { type: \"audio/mp3\" });\r\n      },\r\n \r\n      /**\r\n       * -\r\n       * */\r\n      drawRecord () {\r\n       \r\n        this.satrtTime = parseInt(recorder.duration);//\r\n        //  10\r\n        let countdownime = this.endTime - this.satrtTime;\r\n     \r\n        if (countdownime <=10 && countdownime > 0 ) {        \r\n            this.countdownimes = this.endTime - this.satrtTime;\r\n          \r\n            if (this.countdownimes == 0 && this.startEnd) {\r\n              this.stopRecorder();\r\n              this.getRecorder();\r\n              this.startEnd = false;\r\n              this.satrtTime = 0;\r\n              this.countdownimes = 0;\r\n              return true;\r\n\r\n            } \r\n          \r\n        }\r\n        // requestAnimationFrame60fps\r\n        this.drawRecordId = requestAnimationFrame(this.drawRecord);\r\n \r\n        // \r\n        let dataArray = recorder.getRecordAnalyseData(),\r\n            bufferLength = dataArray.length;\r\n \r\n        // \r\n        this.ctx.fillStyle = 'rgb(200, 200, 200)';\r\n        this.ctx.fillRect(0, 0, this.oCanvas.width, this.oCanvas.height);\r\n \r\n        // \r\n        this.ctx.lineWidth = 2;\r\n        this.ctx.strokeStyle = 'rgb(0, 0, 0)';\r\n \r\n        this.ctx.beginPath();\r\n        \r\n        var sliceWidth = this.oCanvas.width * 1.0 / bufferLength, // bufferLength\r\n                x = 0;          // x\r\n \r\n        for (var i = 0; i < bufferLength; i++) {\r\n          var v = dataArray[i] / 128.0;\r\n          var y = v * this.oCanvas.height / 2;\r\n \r\n          if (i === 0) {\r\n            // \r\n            this.ctx.moveTo(x, y);\r\n          } else {\r\n            // \r\n            this.ctx.lineTo(x, y);\r\n          }\r\n          // \r\n          x += sliceWidth;\r\n        }\r\n \r\n        this.ctx.lineTo(this.oCanvas.width, this.oCanvas.height / 2);\r\n        this.ctx.stroke();\r\n      },\r\n      /**\r\n       * -\r\n       * */\r\n      drawPlay () {\r\n        // requestAnimationFrame60fps\r\n        this.drawPlayId = requestAnimationFrame(this.drawPlay);\r\n        // \r\n        let dataArray = recorder.getPlayAnalyseData(),\r\n                bufferLength = dataArray.length;\r\n        // \r\n        this.pCtx.fillStyle = 'rgb(200, 200, 200)';\r\n        this.pCtx.fillRect(0, 0, this.pCanvas.width, this.pCanvas.height);\r\n \r\n        // \r\n        this.pCtx.lineWidth = 2;\r\n        this.pCtx.strokeStyle = 'rgb(0, 0, 0)';\r\n \r\n        this.pCtx.beginPath();\r\n\r\n        var sliceWidth = this.pCanvas.width * 1.0 / bufferLength, // bufferLength\r\n                x = 0;          // x\r\n \r\n        for (var i = 0; i < bufferLength; i++) {\r\n          var v = dataArray[i] / 128.0;\r\n          var y = v * this.pCanvas.height / 2;\r\n \r\n          if (i === 0) {\r\n            // \r\n            this.pCtx.moveTo(x, y);\r\n          } else {\r\n            // \r\n            this.pCtx.lineTo(x, y);\r\n          }\r\n          // \r\n          x += sliceWidth;\r\n        }\r\n \r\n        this.pCtx.lineTo(this.pCanvas.width, this.pCanvas.height / 2);\r\n        this.pCtx.stroke();\r\n      }\r\n \r\n    },\r\n \r\n  }\r\n</script>\r\n \r\n<style  scoped>\r\n.msg-audio {\r\n  text-align: center;\r\n  margin-top: -28px;\r\n  outline: none;\r\n}\r\n\r\n.times {\r\n margin:5px 0;\r\n}\r\n.canvas {\r\n  width: 150px;\r\n  height: 30px; \r\n  position:relative;\r\n  /* top: -70px;\r\n  left:270px; */\r\n  border-radius: 30px;\r\n  z-index: 1;\r\n\r\n}\r\n.audio-tips {\r\n  width: 89.3vw;\r\n  position: absolute;\r\n  top: 0vh;\r\n  text-align: center;\r\n  z-index: 1;\r\n  background-color: rgba(245,245,245,1.7);\r\n  height: 10vh;\r\n  border-collapse: collapse;\r\n}\r\n .msg-img {\r\n    width: 25px;\r\n    height: 25px; \r\n    padding-top: 10px;\r\n\r\n  }\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e4953074&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=e4953074&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e4953074\",\n  null\n  \n)\n\nexport default component.exports"," <template>\r\n     <div class=\"world\">\r\n      <VEmojiPicker class = \"msg-emoji\" v-show = \"showDialog\" @select=\"selectMsg\"/>     \r\n      <div class=\"msg-button\">       \r\n        <el-button style=\"margin-left: 10px\" @click=\"toogleDialogEmoji\" type=\"primary\" class = \"msg-el-button\">\r\n          <img class = \"msg-img\" src=\"/assets/images/emoji.png\">\r\n        </el-button>\r\n        <div @click=\"audioPermission\">\r\n          <img  class = \"msg-img\" src=\"/assets/images/mic.png\">\r\n        </div>\r\n        <div class=\"audio\"><Audio v-on:audioData = 'audioData' v-on:statusClass = 'statusClass' ref = 'permission'/> </div>\r\n        <button @click=\"btnClick()\" style=\"margin-left: 60px\">  <img class = \"msg-img\" src=\"/assets/images/jietu.png\"></button>\r\n        <button  @click=\"upload()\" style=\"margin-left: 25px;margin-top: 6px;\"><img class = \"msg-img\" src=\"/assets/images/file.png\"></button>\r\n      </div>\r\n      \r\n      <uploadPut ref=\"uploadFile\" v-on:fileSuccess=\"fileSuccess\"/> \r\n      <!-- <input type='file' ref='file' />  -->\r\n      <el-upload\r\n       \r\n        style=\"display: none;\"\r\n        class=\"upload-demo\"\r\n        action=\"/api/upload/v1/files\"\r\n        show-file-list:false\r\n        :headers=headers\r\n        multiple\r\n        :limit=\"3\"\r\n        :file-list=\"fileList\"\r\n        :on-success=\"handleSuccess\"\r\n        :on-error=\"handleError\"\r\n        :before-upload=\"handleBeforeupload\"\r\n        >\r\n        <el-button  ref='file'  size=\"small\" type=\"primary\"></el-button>\r\n      </el-upload>\r\n\r\n      <at\r\n       :style= stateStatus\r\n       :members=\"members\" \r\n       :filter-match=\"filterMatch\"\r\n       :delete-match=\"deleteMatch\"\r\n       @insert=\"getValue\"\r\n       v-bind=\"userList\" \r\n       name-key=\"nick_name\">\r\n        <template slot=\"item\" slot-scope=\"s\">\r\n          <!-- <img :src=\"s.item.avatar\"> -->\r\n          <span v-text=\"s.item.nick_name\"></span>\r\n        </template>\r\n    \r\n        <div\r\n          ref=\"input\"\r\n          id = \"sendMsg\"\r\n          class=\"msg-content\" \r\n          placeholder=\"ctrl + enter \"\r\n                  contenteditable>\r\n             {{ emo }} \r\n        </div>\r\n        <!-- <el-button class= \"sendButton\" type=\"success\"></el-button> -->\r\n       \r\n      </at>\r\n\r\n      </div>\r\n </template>\r\n  \r\n  <script>  \r\n  import uploadPut from '../uploadPut';\r\n  import ScreenShort from 'js-web-screen-shot'\r\n  import {VEmojiPicker} from 'v-emoji-picker';\r\n  import Audio from '../Audio'\r\n  import At from 'vue-at'\r\n  export default {\r\n    name: \"MsgSend\",\r\n    components: {\r\n      VEmojiPicker,\r\n      Audio,\r\n      At,\r\n      uploadPut\r\n    \r\n    },\r\n    data(){\r\n      return {\r\n        title:\"\",\r\n        text:\"\", // \r\n        showDialog:false,\r\n        drawer: false,\r\n        direction: 'btt',\r\n        user_id:this.$store.state.user.userInfo.user_id, // ID\r\n        nick_name:this.$store.state.user.userInfo.nick_name, // \r\n        userLogo:this.$store.state.user.userInfo.photo, // \r\n        room_id:this.$store.state.user.roomInfo.room_id, // ID\r\n        audio:{}, // \r\n        showUser:false,    // @\r\n        sumNoticeOtherUser:0,\r\n        countStr:0, // \r\n        members: [], // @ \r\n        contactList:[], // \r\n        fileList:[],\r\n        headers:{\r\n          \"Authorization\":'Bearer'+' '+ this.$store.state.user.token\r\n        },\r\n        imagesExt:[\r\n        'png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'psd', 'svg', 'tiff'\r\n        ],\r\n        audioExt: [\r\n          'mp3','wav','wma','flac','midi','ra','aac','cda','mov','wavpack','ape'\r\n        ],\r\n        videoExt:[\r\n          'avi','wmv','mpg','mov','rm','ram','swf','flv','mp4'\r\n\r\n        ],\r\n        fileName:\"\",\r\n        fileSize:0,\r\n        stateStatus:\"display: block;\",\r\n        emo:\"\"\r\n\r\n\r\n\r\n      }\r\n    },\r\n    metaInfo() {\r\n        return {\r\n          title: this.$store.state.message.title, // set a title \r\n          \r\n        }\r\n    },\r\n      \r\n    sockets: {\r\n      async roomCallback (data) { \r\n        var user_id = data.user_id\r\n        var room_id = data.room_id\r\n        var contactList = data.contactList\r\n        console.log(\"roomCallback::\",data)\r\n        // \r\n        await this.$store.dispatch(\"getMessage\", data).then(res =>{\r\n            this.$refs.uploadFile.getMsg(data);\r\n              // \r\n            this.$emit('findNewMsg',{\"sendUserId\":user_id,\"userId\":this.user_id,\"room_id\":room_id})\r\n    \r\n            this.contactList = []\r\n            // \r\n            this.audio.fileSize = 0\r\n            // title\r\n            this.$store.dispatch(\"getTitle\", {\r\n              \"user_id\":user_id,\r\n              \"contactList\":contactList\r\n            }).then(res =>{\r\n              this.title = this.$store.state.message.title;\r\n            })\r\n\r\n        }); \r\n       \r\n\r\n      }\r\n    },\r\n    mounted(){ \r\n      window.addEventListener(\"keydown\",this.send,true);\r\n    },\r\n    destroyed() {\r\n      window.removeEventListener(\"keydown\",this.send,true);\r\n    },\r\n    computed:{\r\n      userList:{\r\n        get() {\r\n          this.members = this.$store.state.user.roomUserList.userList\r\n        }\r\n      }\r\n    },\r\n  \r\nmethods: {\r\n  send() {\r\n    \r\n    if (window.event.ctrlKey&& window.event.code=='Enter')\r\n        {\r\n          this.msgSend();\r\n        }   \r\n\r\n  },\r\n\r\n  audioPermission() {\r\n    this.$refs.permission.getPermission();\r\n\r\n  },\r\n  handleBeforeupload(file){\r\n    console.log(\"file\",file)\r\n    this.fileName = file.name\r\n    this.fileSize = file.size\r\n  },\r\n  \r\n  /**\r\n   * \r\n   * @param {*} err \r\n   * @param {*} file \r\n   * @param {*} fileLis \r\n   */\r\n  handleError(err, file, fileLis){\r\n    this.$alert(\"\")\r\n  },\r\n\r\n  /**\r\n   * \r\n   * @param {*} response \r\n   * @param {*} file \r\n   * @param {*} fileList \r\n   */\r\n  handleSuccess(response) {\r\n      console.log(response)\r\n      if (response.code === 10000 ) {\r\n        let data = response.data\r\n        if (Object.keys(data).length > 0) {\r\n          let file = data.file\r\n          //.\r\n          let index= file.lastIndexOf(\".\");\r\n          //\r\n          let ext = file.substr(index+1);\r\n          //  \r\n          let content_type = this.fileExt(ext)\r\n         \r\n          this.sendAudio({\r\n            \"file_name\":data.fileName,\r\n            \"file_size\":data.fileSize,\r\n            \"path\":file,\r\n            \"content_type\":content_type\r\n          })\r\n        }\r\n\r\n      } else {\r\n        this.$alert(\"\")\r\n      }\r\n      \r\n\r\n  },\r\n\r\n  fileExt(ext){\r\n    let content_type = 0\r\n    if (this.imagesExt.indexOf(ext.toLowerCase()) !== -1)\r\n    {\r\n      content_type = 2\r\n    } else if(this.audioExt.indexOf(ext.toLowerCase()) !== -1) {\r\n      content_type = 1\r\n    } else if(this.videoExt.indexOf(ext.toLowerCase()) !== -1) {\r\n      content_type = 4\r\n    } else {\r\n      content_type = 3\r\n    }\r\n    return content_type;\r\n\r\n  },\r\n  \r\n \r\n  upload() {\r\n\r\n    let filebutton = this.$refs.uploadFile.$refs.uploadfileBut;\r\n    filebutton.$el.click() \r\n  },\r\n \r\n  btnClick() {\r\n      //  README.md\r\n      const screenShotHandler = new ScreenShort({\r\n        // webrtcbooleanfalsehtml2canvas\r\n        enableWebRtc: false,\r\n        // z-index\r\n        level: 2001,\r\n        // saveCallback:(code, msg) => {\r\n        //   // \r\n        //   console.log(code,msg);\r\n        // },\r\n        completeCallback: this.callback, // \r\n        closeCallback: this.closeFn, // \r\n        canvasWidth:  window.innerWidth,\r\n        canvasHeight:  window.innerHeight,\r\n      })\r\n  },\r\n  \r\n   callback(base64data,cutInfo) {\r\n    console.log(base64data)\r\n    this.$store.dispatch(\"uploadBase64\", base64data).then(res => {\r\n      console.log(\"uploadFiles\",res);\r\n      let path = res.file\r\n      let input = this.$refs.input\r\n      let innerHTML = input.innerHTML  \r\n      let data = JSON.stringify(base64data)\r\n      let val = innerHTML + \"<img id = 'image' onclick= 'myBtn(\" + JSON.stringify(path) + \")' src=\" + path + \">\"\r\n      input.innerHTML = val\r\n    })\r\n   \r\n\r\n  },\r\n\r\nconvertImageToCanvas(image) {\r\n      var canvas = document.createElement('canvas')\r\n      canvas.width = image.width\r\n      canvas.height = image.height\r\n      canvas.getContext('2d').drawImage(image, 0, 0)\r\n      return canvas\r\n    },\r\n    closeFn() {\r\n      // \r\n    },\r\n\r\n   \r\n     // \r\n      filterMatch(name, chunk) {\r\n        return name.toLowerCase().indexOf(chunk.toLowerCase()) === 0;\r\n      },\r\n      // \r\n      deleteMatch(name, chunk, suffix) {\r\n          this.contactList = this.contactList.filter(\r\n                  item => item.nick_name!= chunk.trim()\r\n          );\r\n          console.log(\"deleteMatch:\",this.contactList);\r\n        return chunk === name + suffix;\r\n      },\r\n      // \r\n      getValue(val) {\r\n         console.log(\"contactListval:\", val);\r\n         return this.contactList.push({\r\n          \"nick_name\":val.nick_name,\r\n          \"is_robot\":val.is_robot,\r\n          \"photo\":val.photo,\r\n          \"room_id\":val.photo,\r\n          \"user_id\":val.user_id,\r\n          \"content_type\":val.content_type,\r\n          \"room_id\":val.room_id,\r\n         });\r\n         \r\n      },\r\n     \r\n      audioData(val) {   \r\n        if (val) {\r\n           this.$store.dispatch(\"uploadAudio\", val.formData).then(res => {\r\n              let path = res.file    \r\n              //.\r\n              let index= path.lastIndexOf(\".\");\r\n              //\r\n              let ext = path.substr(index+1);\r\n              //  \r\n              let content_type = this.fileExt(ext)\r\n              this.audio = {\r\n                'path':path,\r\n                'file_name':val.fileName,\r\n                'file_size':val.fileSize,\r\n                \"content_type\":content_type\r\n              }\r\n              this.sendAudio(this.audio)           \r\n          })\r\n        } else {\r\n           tihs.alert(\"\");\r\n           return false;\r\n        }\r\n        \r\n      },\r\n\r\n      fileSuccess(val) {\r\n        if (val) {\r\n             let path = val.mergePath  \r\n            //.\r\n            let index= path.lastIndexOf(\".\");\r\n            //\r\n            let ext = path.substr(index+1);\r\n            //  \r\n            val.content_type =  this.fileExt(ext)\r\n            val.file_name =  val.newFileName\r\n            val.original_file_name = val.filename\r\n            val.file_size = val.totalSize\r\n            val.md5 = val.identifier\r\n            val.path = path\r\n\r\n            this.sendAudio(val)\r\n\r\n        }\r\n\r\n      },\r\n\r\n      statusClass(val) {\r\n        console.log(val)\r\n        let style = \"display: block;\"\r\n        if (val.status === true) {\r\n          style = \"display: none;\"\r\n        }\r\n        this.stateStatus = style\r\n      },\r\n      selectMsg(val) {\r\n        // emoji\r\n         // \r\n        var lastEditRange;\r\n        let input = this.$refs.input\r\n        console.log(val)\r\n        let selection = getSelection()\r\n        // \r\n        input.focus() \r\n        // \r\n        let range = []\r\n        if (selection.rangeCount > 0) {\r\n            // \r\n            range = selection.getRangeAt(0);\r\n            // \r\n            if (lastEditRange) {\r\n                // \r\n                selection.removeAllRanges()\r\n                selection.addRange(lastEditRange)\r\n            } \r\n            // textNode\r\n            let textNode = range.startContainer;\r\n            let rangeStartOffset = range.startOffset\r\n            if (rangeStartOffset > 0) {\r\n              // \r\n              textNode.insertData(rangeStartOffset, val.data)\r\n              // \r\n              range.setStart(textNode, rangeStartOffset + val.data.length)\r\n              // \r\n              range.collapse(true)\r\n              // \r\n              selection.removeAllRanges()\r\n              // \r\n              selection.addRange(range)\r\n              // \r\n              lastEditRange = selection.getRangeAt(0)\r\n            } else {\r\n             this.emo =  val.data\r\n             selection.removeAllRanges()\r\n           \r\n            }\r\n        }\r\n      },\r\n      //\r\n      toogleDialogEmoji () {\r\n        this.showDialog = !this.showDialog\r\n      },\r\n\r\n      // \r\n      msgSend(){\r\n        this.$socket.open(); \r\n        let html = document.getElementById('sendMsg');\r\n        console.log( html )\r\n        if (html.textContent == \"\"  ) {  \r\n          this.$alert(\"\");    \r\n        }    \r\n        let messgae = html.innerHTML;\r\n        let contactList =  this.contactList\r\n        let content_type = 0; // \r\n        if (this.audio.fileSize > 0) {\r\n           messgae = this.audio.file;\r\n           content_type = 1; // \r\n        } \r\n        let msgData = this.msgInfo()\r\n        msgData.msg = messgae\r\n        msgData.content_type = content_type\r\n        msgData.contactList = contactList\r\n        console.log(\"room_id\",this.room_id)\r\n        console.log(\"msgData\",msgData)\r\n     \r\n        this.$socket.volatile.emit('room',msgData);       \r\n      },\r\n\r\n      /**\r\n       * \r\n       */\r\n      sendAudio(data)\r\n      {\r\n        \r\n        if (data.length <=0) {\r\n          this.$alert(\"\")\r\n        }\r\n        let msgData = this.msgInfo()\r\n        let content_type =  data.content_type\r\n        msgData.msg = data.path\r\n        msgData.file_name = data.file_name\r\n        msgData.file_size = data.file_size\r\n        msgData.content_type = content_type\r\n        msgData.md5 = data.md5\r\n        msgData.file_path = data.path\r\n        msgData.total_chunks =data.totalChunks\r\n        msgData.original_file_name = data.original_file_name\r\n        msgData.upload_status = data.uploadStatus\r\n        this.$socket.volatile.emit('room',msgData);  \r\n      \r\n      },\r\n\r\n     \r\n\r\n      msgInfo(){\r\n\r\n        const user_id = this.user_id;\r\n        const nick_name = this.nick_name;\r\n        const userLogo = this.userLogo;\r\n        const room_id   = this.room_id;\r\n        let msgData  = {\r\n            \"room_id\": room_id,\r\n            \"user_id\": user_id,\r\n            \"nick_name\": nick_name,     \r\n            \"userLogo\":userLogo,           \r\n        };\r\n\r\n        return msgData;\r\n        \r\n\r\n      }\r\n  \r\n    }\r\n\r\n  }\r\n\r\n  </script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped>\r\n   .sendButton {\r\n    position: absolute;\r\n    bottom: 0px;\r\n    right: 0px;\r\n   }\r\n  .audio {\r\n    position: relative;\r\n    top: 0px;\r\n    text-align: center;\r\n  }\r\n  .world {\r\n    position: absolute;\r\n    left: 0px;\r\n    right: 0px;\r\n    padding-top: 10px;\r\n        height: 107px;\r\n    border-top: 1px solid #fff;\r\n    background-color: white;\r\n      }\r\n  .msg-button {\r\n    position: relative;\r\n    height: 38px;\r\n    margin-top: -9px;\r\n  }\r\n  .msg-el-button {\r\n    margin-right: 10px;\r\n    border: none;  \r\n    background:white;\r\n  }\r\n  .msg-img {\r\n    position:absolute;\r\n    top:1px;\r\n    width: 25px;\r\n    height: 25px; \r\n    border: none;\r\n    background-color: white;\r\n\r\n  }\r\n  .msg-emoji {\r\n    position: absolute;\r\n     left: 70px;\r\n    bottom: 124px;\r\nz-index: 2;\r\n  }\r\n\r\n  .send {\r\n    margin-left: 40px;\r\n    width: 60%;\r\n    /* height: 140px; */\r\n    border: 1px;\r\n    border-radius: 10px;\r\n    background-color: white;\r\n    overflow: scroll;\r\n\r\n  }\r\n\r\n\r\n  \r\n\r\n  .userList {\r\n    min-width: 100px;\r\n    height: 200px;\r\n    border: 1px;\r\n    position: absolute;\r\n    bottom: 110px;\r\n    left: 70px;\r\n    overflow:auto;\r\n    border-color:  #ff0 transparent transparent;\r\n  }\r\n\r\n  [contenteditable] {\r\n    -webkit-user-select: text;\r\n    user-select: text;\r\n}\r\n\r\n  \r\n  \r\n  </style>\r\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=349af57a&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=349af57a&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"349af57a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"index\":_vm.index}},[_c('span',{staticClass:\"time-line\"},[_vm._v(_vm._s(this.source.send_time)+\" \")]),(this.source.is_revoke == 0)?_c('div',{class:this.source.tag == 1 ? 'stream-item' : 'stream-item creator'},[_c('div',{class:this.source.tag == 1 ? 'item' : 'item creator'},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":this.source.userLogo}})]),_c('div',{staticClass:\"body\"},[_c('div',{class:this.source.tag == 1 ? 'name' :'name transform'},[_vm._v(_vm._s(this.source.nick_name))]),_c('div',{ref:\"content\",staticClass:\"content\",attrs:{\"data-isRevokeHidden\":_vm.isRevokeHidden}},[(this.source.content_type === 0)?_c('div',{staticClass:\"text\",attrs:{\"contenteditable\":\"false\"}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('div',{ref:\"textMsg\",staticClass:\"msg-html\",domProps:{\"innerHTML\":_vm._s(this.source.msg)}})])]):_vm._e(),(this.source.content_type === 1)?_c('div',{staticClass:\"text\",attrs:{\"contenteditable\":\"false\"}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('av-bars',{attrs:{\"canv-height\":30,\"audio-src\":this.source.msg}})],1)]):_vm._e(),(this.source.content_type === 2)?_c('div',{staticClass:\"text\",attrs:{\"contenteditable\":\"false\"}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('el-popover',{staticClass:\"vedio\",attrs:{\"placement\":\"left\",\"trigger\":\"click\"}},[_c('img',{attrs:{\"src\":this.source.msg}}),_c('img',{staticStyle:{\"max-width\":\"800px\",\"max-height\":\"800px\"},attrs:{\"slot\":\"reference\",\"src\":this.source.msg},slot:\"reference\"})])],1)]):_vm._e(),(this.source.content_type === 3)?_c('div',{staticClass:\"text file\",attrs:{\"contenteditable\":\"false\"},on:{\"click\":function($event){return _vm.down()}}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('div',[_vm._v(\" \"+_vm._s(this.source.original_file_name)+\" \"),_c('a',{ref:\"downFile\",staticStyle:{\"display\":\"none\"},attrs:{\"href\":this.source.msg}})]),_c('div',{staticClass:\"fileSize\",attrs:{\"contenteditable\":\"false\"}},[_vm._v(\" \"+_vm._s(this.source.fileSize)+\"KB\")]),_c('div',{staticClass:\"upload_status\"},[( this.source.upload_status === 0)?_c('span',[_vm._v(\"\")]):_vm._e(),( this.source.upload_status === 1)?_c('span',[_vm._v(\"\")]):_vm._e(),( this.source.upload_status === 2)?_c('span',[_vm._v(\"\")]):_vm._e(),( this.source.upload_status === 3)?_c('span',[_vm._v(\"\")]):_vm._e(),( this.source.upload_status === 4)?_c('span',[_vm._v(\"\")]):_vm._e()]),_vm._m(0)])]):_vm._e(),(this.source.content_type === 4)?_c('div',{staticClass:\"text\",attrs:{\"contenteditable\":\"false\"}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('el-popover',{staticClass:\"vedio\",attrs:{\"placement\":\"left\",\"trigger\":\"click\"}},[_c('video',{staticClass:\"popover-vedio\",attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":this.source.msg}})]),_c('img',{staticStyle:{\"max-width\":\"400px\",\"max-height\":\"400px\"},attrs:{\"slot\":\"reference\",\"src\":\"/assets/images/vedio.png\"},slot:\"reference\"})])],1)]):_vm._e()])])])]):_vm._e(),(this.source.is_revoke === 1)?_c('div',{staticClass:\"time-line\",staticStyle:{\"margin\":\"20px 10px\"}},[_c('span',[_vm._v(\"\")])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"fileImg\"},[_c('img',{attrs:{\"src\":\"/assets/images/.png\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n    <div :index = index  >\r\n        <span class='time-line'>{{ this.source.send_time }} </span>\r\n        <div  :class = \"this.source.tag == 1 ? 'stream-item' : 'stream-item creator'\" v-if = \"this.source.is_revoke == 0\">\r\n            <div :class = \"this.source.tag == 1 ? 'item' : 'item creator'\">\r\n                <div class=\"avatar\">\r\n                    <img :src=this.source.userLogo>\r\n                </div>\r\n                <div class = \"body\" >\r\n                    <div :class = \"this.source.tag == 1 ? 'name' :'name transform' \">{{ this.source.nick_name }}</div>\r\n                    <div class = \"content\" ref = \"content\" :data-isRevokeHidden=isRevokeHidden>\r\n                                        \r\n                        <div contenteditable = \"false\" class=\"text\"  v-if = \"this.source.content_type === 0\"  >\r\n                        \r\n                            <div  @contextmenu.prevent=\"onContextmenu\"  >\r\n                                <div ref=\"textMsg\" v-html=\"this.source.msg\" class=\"msg-html\" ></div>\r\n                            </div>    \r\n                        </div>\r\n                        <!--  -->\r\n                        <div contenteditable = \"false\" class=\"text\" v-if = \"this.source.content_type === 1\">\r\n                            <div  @contextmenu.prevent=\"onContextmenu\"   >\r\n                                <av-bars\r\n                            \r\n                                :canv-height =\"30\"\r\n                                :audio-src=this.source.msg>\r\n                                </av-bars>\r\n                            </div>\r\n                        </div>\r\n                        <!--  -->\r\n                        <div contenteditable = \"false\" class=\"text\" v-if = \"this.source.content_type === 2\">\r\n                            <div  @contextmenu.prevent=\"onContextmenu\"   >\r\n                                <el-popover\r\n                            \r\n                                placement=\"left\"  \r\n                                class=\"vedio\"\r\n                                trigger=\"click\">\r\n                                <img  :src=this.source.msg>\r\n                                <img  slot=\"reference\" style=\"max-width: 800px;max-height: 800px;\" :src=this.source.msg>\r\n                                </el-popover>\r\n                            </div>                \r\n                        </div>\r\n                        <!--  -->\r\n                        <div @click=\"down()\"   contenteditable = \"false\" class=\"text file\" v-if = \"this.source.content_type === 3\">\r\n                            <div  @contextmenu.prevent=\"onContextmenu\">\r\n                                <div>\r\n                                    {{ this.source.original_file_name }}\r\n                                    <a :href=this.source.msg ref = \"downFile\" style=\"display: none;\"></a>\r\n                                </div>\r\n                                <div class=\"fileSize\" contenteditable=\"false\"> {{ this.source.fileSize }}KB</div>\r\n                                <div class=\"upload_status\">\r\n                                    <span v-if=\" this.source.upload_status === 0\"></span>\r\n                                    <span v-if=\" this.source.upload_status === 1\"></span>\r\n                                    <span v-if=\" this.source.upload_status === 2\"></span>\r\n                                    <span v-if=\" this.source.upload_status === 3\"></span>  \r\n                                    <span v-if=\" this.source.upload_status === 4\"></span>                               \r\n                                </div>\r\n                                <div class=\"fileImg\"> <img src=\"/assets/images/.png\"/></div>\r\n                            </div>   \r\n                        </div>\r\n\r\n                         <!--  -->\r\n                         <div contenteditable = \"false\"  class=\"text\" v-if = \"this.source.content_type === 4\">\r\n                            <div  @contextmenu.prevent=\"onContextmenu\"  >\r\n                                <el-popover\r\n                                placement=\"left\"   \r\n                                class=\"vedio\"\r\n                                trigger=\"click\">\r\n                                <video controls class=\"popover-vedio\">\r\n                                    <source :src=\"this.source.msg\" />\r\n                                </video>\r\n                                <img src=\"/assets/images/vedio.png\" style=\"max-width: 400px;max-height: 400px;\" slot=\"reference\"/>\r\n                                <!-- <el-button slot=\"reference\">{{ this.source.original_file_name }}</el-button> -->\r\n                                </el-popover>\r\n                            </div> \r\n                              \r\n                         </div>    \r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class='time-line' style=\"margin: 20px 10px;\" v-if = \"this.source.is_revoke === 1\" >\r\n            <span ></span>\r\n        </div>\r\n    </div>\r\n\r\n\r\n   \r\n  </template>\r\n  \r\n  <script>\r\n    import Vue from 'vue'\r\n    import Contextmenu from \"vue-contextmenujs\"\r\n    Vue.use(Contextmenu);\r\n    import Clipboard from 'clipboard';\r\n\r\n\r\n    import { setCache, getCache,removeCache} from \"@/utils/cache\";\r\n    const chunkSize =  3 * 1024 * 1024;// 3M\r\n    const synth = window.speechSynthesis;\r\n    const speech = new SpeechSynthesisUtterance();\r\n    const voices = speechSynthesis.getVoices()\r\n    export default {\r\n        name: 'Item',\r\n        data(){\r\n            \r\n            return {\r\n                progress: 0,\r\n                is_stop: true,\r\n                duration: 0,\r\n                curr: 0,\r\n                volume:50,\r\n                balance: 50,  \r\n                style: \"max-height: 100vh;max-width: 60vw; display:none;\",\r\n                user_id:this.$store.state.user.userInfo.user_id, // ID\r\n                room_id:this.$store.state.user.roomInfo.room_id, // ID\r\n                token:this.$store.state.user.token,\r\n                isloading:false,\r\n                list:[],\r\n             \r\n        \r\n            }\r\n        },\r\n        props: {\r\n        // index of current item\r\n            index: { \r\n                type: Number\r\n            },\r\n            source: { \r\n                type: Object,\r\n                default () {\r\n                    return {}\r\n                }\r\n            },\r\n         \r\n        },\r\n        computed:{\r\n            isRevokeHidden (){\r\n                \r\n                let time =  Date.parse(this.source.send_time) + 1000*60*5\r\n                let nowTime = new Date().getTime();   \r\n                let status = true;   \r\n                if (this.source.tag == 0 && time >= nowTime) {\r\n                    status = false\r\n                    \r\n                }\r\n               \r\n                return status;\r\n                \r\n            }\r\n        },\r\n        methods: {\r\n\r\n            copyOrderId2() {\r\n                var input = document.createElement(\"input\"); // input\r\n                input.value = this.source.msg; // \r\n                document.body.appendChild(input); // \r\n                input.select(); // \r\n                document.execCommand(\"Copy\"); // \r\n                document.body.removeChild(input); // \r\n                this.$message.success('');\r\n            },\r\n          \r\n            onContextmenu(event) {\r\n                            \r\n                this.$contextmenu({\r\n                    items: [\r\n                    {\r\n                        label: \"\",\r\n                        onClick: () => {\r\n                            this.copyOrderId2()\r\n                        }\r\n                    },\r\n                    {\r\n                        label: \"\",\r\n                        hidden: this.source.content_type != 0,\r\n                        onClick: () => {\r\n                            this.handleSpeak()\r\n                        }\r\n                    },\r\n                    {\r\n                        label: \"\",\r\n                        hidden:this.$refs.content.getAttribute('data-isRevokeHidden'),\r\n                        onClick: () => {        \r\n                           this.$socket.emit('revokeMsg',{\r\n                                \"token\":this.token,\r\n                                \"room_id\":this.room_id,\r\n                                \"seq\": this.source.seq,\r\n                                \"index\":this.index\r\n                            });  \r\n                            \r\n                        }\r\n                    },\r\n                    \r\n                    ],\r\n                    event, // \r\n                    customClass: \"custom-class tag-read\", //  class\r\n                    zIndex: 1, //  z-index\r\n                    minWidth: 230 // \r\n                });\r\n                return false;\r\n            },\r\n\r\n            handleSpeak(){\r\n\r\n                let textMsg = this.$refs.textMsg.textContent;\r\n               \r\n                speech.text = textMsg; // :  \r\n                speech.lang = \"zh-CN\"; // :\r\n                speech.voice = voices[20]\r\n                speech.volume = 1; // 1\r\n                speech.rate = 1; // 1\r\n                speech.pitch = 1; // 1\r\n                synth.speak(speech); // \r\n\r\n            },\r\n           \r\n            openImagesClick()\r\n            {\r\n               this.display = \"max-height: 100vh;max-width: 60vw; display:block;\"\r\n                 \r\n            },\r\n\r\n            closeImagesClick()\r\n            {\r\n                this.display =\"max-height: 100vh;max-width: 60vw; display:none;\"\r\n            },\r\n\r\n            down(){\r\n\r\n               \r\n                if (this.isloading == true) {\r\n                   return this.$alert(\"\");\r\n\r\n                }        \r\n                let msgList= this.source; \r\n                let mergeNumber   = msgList.merge_number;\r\n                this.list =   msgList;   \r\n                let md5 = msgList.md5\r\n                let seq = msgList.seq\r\n                let totalChunks = msgList.total_chunks\r\n                let totalSize = msgList.totalSize\r\n                let newFileName = msgList.file_name\r\n                let chunkNumber = msgList.chunk_number\r\n                let uploadStatus =  msgList.upload_status\r\n                \r\n                let composeData = {\r\n                    \"identifier\":md5,\r\n                    \"newFileName\":newFileName,\r\n                    \"totalChunks\":totalChunks,\r\n                    'mergeNumber':mergeNumber,\r\n                    \"chunkNumber\":chunkNumber,\r\n                    \"totalSize\":totalSize,\r\n                    \"seq\":seq,\r\n                   \r\n                }\r\n                \r\n                if (uploadStatus == 0){ // \r\n                    this.isloading == false\r\n                    // this.source.upload_status = 4\r\n\r\n                } else if (uploadStatus == 1) { // \r\n                    this.isloading == false\r\n                  \r\n                    // \r\n                    this.composeFile(composeData)\r\n \r\n                } else if (uploadStatus == 2) { // \r\n                    this.isloading == false\r\n                    this.composeFile(composeData)\r\n                    \r\n\r\n                }else if (uploadStatus == 3) { // \r\n\r\n                    // \r\n                    this.$refs.downFile.click()    \r\n\r\n                }       \r\n        \r\n            },\r\n           \r\n            /**\r\n             * \r\n             * @param fileMd5 md5\r\n             * @param fileName \r\n             * @param count \r\n             */\r\n            composeFile(data) {              \r\n                this.isloading = true\r\n                let list = {\r\n                    \"seq\":data.seq,\r\n                    \"room_id\":this.room_id,\r\n                    \"user_id\":this.user_id,\r\n                    \"identifier\":data.identifier,\r\n                    \"newFileName\":data.newFileName,\r\n                    \"totalChunks\":data.totalChunks,\r\n                    \"mergeNumber\":data.mergeNumber,\r\n                    \"totalSize\":data.totalSize,\r\n                    \"chunkSize\":Math.ceil(data.totalSize / data.totalChunks)       \r\n                }\r\n    \r\n                list.uploadStatus = 2\r\n              \r\n                this.$socket.emit('mergeFile',list); \r\n                \r\n              \r\n            }\r\n                 \r\n        },\r\n        sockets: {\r\n\r\n            async updateMsgStatusCallback(val) {\r\n            \r\n                let list = val.data  \r\n               \r\n                if (val.code === 10000 ) {\r\n                    // \r\n                    this.list.upload_status = list.uploadStatus\r\n                }\r\n\r\n            }\r\n           \r\n           \r\n          \r\n           \r\n        },\r\n        components: {\r\n            Clipboard\r\n            \r\n        }\r\n\r\n}   \r\n  </script>\r\n  <style scoped>\r\n  img {\r\n    cursor: pointer;\r\n  }\r\n  .popover-vedio {\r\n    width: 600px;\r\n  }\r\n  .file {\r\n    cursor: pointer;\r\n  }\r\n  .fileImg {\r\n    position: absolute;\r\n    bottom:-15px;\r\n    right: 0px;\r\n  }\r\n  .file img  {\r\n   \r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n\r\n\r\n   .fileSize{\r\n   margin-top: 50px;\r\n  }\r\n  .empty .stream-item.creator, .stream .stream-item.creator {\r\n    flex-direction: row-reverse;\r\n    }\r\n    .empty .stream-item, .stream .stream-item{\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 1em;\r\n  }\r\n \r\n  .msg-info {\r\n    height: 85px;\r\n  }\r\n\r\n  .item {\r\n    display: flex;\r\n    }\r\n\r\n    .item.creator {\r\n    transform: rotateX(180deg);\r\n    direction: rtl;\r\n    align-items: flex-end;\r\n    }\r\n\r\n    .item .avatar img{\r\n    display: block;\r\n    width: 40px;\r\n    height: 40px;   \r\n    border-radius: 50%;\r\n    caret-color: transparent;\r\n    }\r\n    .item.creator .body {\r\n    transform: rotate(180deg)\r\n    }\r\n\r\n    .item .body .content {\r\n        position: relative;\r\n        color: #000;\r\n        background-color: #f0f8ff;\r\n        border-radius: 15px;\r\n        padding: .5em 1em\r\n    }\r\n    @media (max-width: 640px) {\r\n        .item .body .content {\r\n            padding:.5em\r\n        }\r\n    }\r\n\r\n    .item .body .content:after {\r\n        content: \"\";\r\n        position: absolute;\r\n        right: 100%;\r\n        top: 10px;\r\n        width: 14px;\r\n        height: 14px;\r\n        border-width: 0;\r\n        border-style: solid;\r\n        border-color: transparent;\r\n        border-bottom-width: 10px;\r\n        border-bottom-color: currentColor;\r\n        border-radius: 0 0 0 32px;\r\n        color: #f0f8ff\r\n    }\r\n\r\n    .item.creator .text {\r\n        transform: rotateY(180deg);\r\n        direction: ltr;\r\n    }\r\n\r\n    .item .body .name {\r\n        \r\n        padding-bottom: .2em;\r\n        font-size: 12px;\r\n    \r\n    }\r\n\r\n.transform {\r\n    transform: rotateY(180deg)\r\n}\r\n.empty .stream-item,.stream .stream-item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 1em;\r\n}\r\n \r\n.time-line {    \r\n    display: inline-block;\r\n    width: 100%;\r\n    height: 20px;\r\n    text-align: center;\r\n    vertical-align: middle;\r\n  }\r\n</style>\r\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=25a3eb36&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=25a3eb36&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"25a3eb36\",\n  null\n  \n)\n\nexport default component.exports"," <template>\r\n    <div>\r\n      <el-main class=\"message el-main \" v-bind=\"message\" >\r\n\r\n            <!--  -->\r\n              <virtual-list\r\n                ref = \"returnBottom\"\r\n                class=\"msg-list\"\r\n                :data-key=\"'seq'\"\r\n                :data-sources=\"historyMessageList\"\r\n                :data-component=\"itemComponent\"\r\n                :keeps =this.keeps\r\n                :estimate-size= this.estimateSize\r\n                @totop = \"totop\"\r\n                @tobottom = \"bottom\"\r\n                @scroll = \"onScroll\"\r\n                :start = 100 \r\n                v-on:composeFile = 'composeFile' \r\n              />  \r\n      </el-main>\r\n      <el-footer style=\"margin-top:2px;\">\r\n        <el-badge v-if = \"msgNum > 0 && isBottom === false\" :value=msgNum  class=\"item msg-badge-down\">\r\n          <el-button @click = \"getLocation\" size=\"small\" icon = \"el-icon-arrow-down\"></el-button>\r\n        </el-badge>\r\n        <el-badge  v-if = \"msgNum > 0 && isBottom === true\" :value=msgNum \r\n          class=\"item msg-badge-up\">\r\n          <el-button  @click = \"getLocation\" size=\"small\" icon = \"el-icon-arrow-up\"></el-button>\r\n        </el-badge>\r\n        <MsgSend :proTitle = \"title\" @findNewMsg = \"findNewMsg\" />     \r\n        <div id=\"myAlertBox\"  class= \"alertBox\" style=\"display:none\"></div>\r\n      </el-footer>\r\n  </div>\r\n</template>\r\n  <script>\r\n  \r\n  import virtualList from 'vue-virtual-scroll-list'\r\n  import { setCache, getCache,removeCache} from \"@/utils/cookie\";\r\n  \r\n  import MsgSend from '../MsgSend';\r\n  import Item from '../Item';\r\n  var roomNum = getCache('roomNum')?JSON.parse(getCache('roomNum')):[]\r\n    export default {\r\n      name: \"Message\",\r\n      data() {\r\n        return {  \r\n          historyMessageList:[],//\r\n        \r\n          tabshow: false,//\r\n          user_id:this.$store.state.user.userInfo.user_id, // ID\r\n          room_id:this.$store.state.user.roomInfo.room_id,\r\n          isLoading :false,\r\n          isEnd :false,\r\n          page:0,\r\n          limit:20,\r\n          timer: 0,\r\n          itemComponent: Item,\r\n          estimateSize:50,\r\n          keeps:20,\r\n          msgNum:0, \r\n          isBottom:false,\r\n          totalNum:0,\r\n        }\r\n      },\r\n      props:['title'],\r\n      sockets: {\r\n          // \r\n          async chunkFileCallback (res) {\r\n            if (res.code == 10000) {\r\n              let data = res.data\r\n              data.isChunk = true\r\n              if (data.uploadStatus == 1) {\r\n                this.updateStatus(data);\r\n              } \r\n                 } else {\r\n              return this.$alert(res.msg)\r\n            }\r\n          },\r\n          // \r\n          async updateMsgStatusCallback(val) {      \r\n            let list = val.data  \r\n            let seq = list.seq\r\n            console.log(\"::\",[list.newFileName,list.uploadStatus,val.code]); \r\n            console.log(\"::\",this.historyMessageList)\r\n            var targetObject = this.historyMessageList.find(function(obj) {\r\n              return obj.seq === seq;\r\n            });\r\n\r\n            if (val.code !== 10000 ) {\r\n              this.updateStatus(val.data);\r\n            } else {\r\n\r\n              if (list.uploadStatus == 1){\r\n                  // \r\n                  targetObject.upload_status = 1       \r\n                  \r\n                  this.composeFile(list);   \r\n              } else {\r\n                targetObject.upload_status = list.uploadStatus\r\n              }\r\n              \r\n\r\n            }\r\n            return true;\r\n          },\r\n          /**\r\n           * \r\n           */\r\n          async mergeFileCallback (res)  {\r\n              let data = res.data\r\n              let list =  {\r\n                    \"room_id\":this.room_id,\r\n                    \"identifier\":data.identifier,\r\n                    \"newFileName\":data.newFileName,\r\n                    \"totalChunks\":data.totalChunks,\r\n                    'mergeNumber':data.mergeNumber,\r\n                    \"totalSize\":data.totalSize,    \r\n                    \"uploadStatus\":data.uploadStatus,\r\n                    \"seq\":data.seq\r\n              } \r\n             \r\n              if (res.code !== 10000 ) {\r\n                \r\n                list.uploadStatus = 4\r\n                \r\n              } else {\r\n                  console.log(\"mergeFileCallback:::\",list);\r\n                  if (list.uploadStatus == 3) {\r\n                    this.updateStatus(list);   \r\n                  }     \r\n                  \r\n              }\r\n\r\n             \r\n              return true\r\n\r\n          },\r\n          /**\r\n           * \r\n           * @param {*} val \r\n           */\r\n          async revokeMsgCallback(val) {     \r\n              let list = val.data  \r\n              if (val.code === 10000 ) {\r\n                \r\n                console.log(\"source::\", list)\r\n                let data = this.historyMessageList[list.index]\r\n                data.is_revoke = 1\r\n                this.historyMessageList[list.index] = data\r\n               \r\n                \r\n              } else {\r\n                this.$alert(\"\")\r\n              }\r\n          }\r\n\r\n\r\n      },\r\n      mounted(){\r\n        \r\n        this.$store.state.message.historyMessageList= []\r\n        console.log(\"\");\r\n        // window.addEventListener(\"scroll\", this.onScroll, true);\r\n        // \r\n        this.initLoadMsg()\r\n       \r\n      },\r\n\r\n      destroyed() { //bug\r\n        // window.removeEventListener('scroll', this.onScroll,true)\r\n      },\r\n    \r\n      methods:{\r\n\r\n        /**\r\n         * \r\n         * @param fileMd5 md5\r\n         * @param fileName \r\n         * @param count \r\n         */\r\n       async composeFile(data) {                \r\n          let list = {\r\n              \"seq\":data.seq,\r\n              \"room_id\":this.room_id,\r\n              \"user_id\":this.user_id,\r\n              \"identifier\":data.identifier,\r\n              \"newFileName\":data.newFileName,\r\n              \"totalChunks\":data.totalChunks,\r\n              'mergeNumber':0,\r\n              \"totalSize\":data.totalSize,\r\n              \"chunkSize\":Math.ceil(data.totalSize / data.totalChunks) \r\n          }\r\n          list.uploadStatus = 2\r\n          console.log(\"::\",list);  \r\n          this.updateStatus(list);   \r\n          await  this.$socket.emit('mergeFile',list);   \r\n        },\r\n        /**\r\n         * \r\n         * @param {*} data \r\n         */\r\n\r\n        async updateStatus(data)\r\n        {\r\n          await this.$socket.emit('updateMsgStatus',{\r\n                \"room_id\":this.room_id,\r\n                \"user_id\":this.user_id,\r\n                \"identifier\":data.identifier,\r\n                \"newFileName\":data.newFileName,\r\n                \"uploadStatus\":data.uploadStatus,\r\n                \"totalChunks\":data.totalChunks,\r\n                \"chunkNumber\":data.chunkNumber,\r\n                \"totalSize\":data.totalSize,\r\n                \"seq\":data.seq,\r\n                \"isChunk\":data.isChunk                                  \r\n            }); \r\n\r\n           \r\n        },\r\n        /**\r\n         * \r\n         * @param {*} e \r\n         */\r\n        getLocation(e){\r\n          let returnBottom =this.$refs.returnBottom;\r\n          let location = this.keeps\r\n          if (this.totalNum > this.msgNum) {\r\n            location = this.totalNum-this.msgNum\r\n          }\r\n        \r\n          if (this.isBottom === true) {\r\n            location =  location -10\r\n          } \r\n          returnBottom.scrollToIndex(location);\r\n          this.msgNum = 0\r\n          this.isBottom = false\r\n          // \r\n          roomNum[this.room_id] = 0\r\n          console.log(roomNum);\r\n          setCache('roomNum',JSON.stringify(roomNum))\r\n        },\r\n\r\n        onScroll(e){\r\n          if (this.page >1 ) {\r\n            this.msgNum = 0;\r\n          }\r\n        },\r\n        findNewMsg(val) {\r\n           \r\n            if (val.room_id === this.room_id) {\r\n              if (Object.keys(val).length > 0) {\r\n                this.$nextTick(() => {\r\n                    if (val.sendUserId == val.userId ) {\r\n                      let div=this.$refs.returnBottom;\r\n                      div.reset()\r\n                      div.scrollToBottom();\r\n                      this.msgNum = 0;\r\n                      this.isBottom = true;\r\n                    } else {\r\n                      // \r\n                      this.isBottom = false\r\n                      this.msgNum ++\r\n                   \r\n                    }\r\n                \r\n                 })\r\n\r\n                 return this.msgNum;\r\n\r\n              }\r\n           \r\n            } \r\n          \r\n        },\r\n      \r\n        totop(){\r\n          console.log(\"\");\r\n          this.getdata()\r\n\r\n        },\r\n        bottom(){\r\n          this.isBottom = true\r\n          let offTotal =  this.msgNum\r\n          if (offTotal >= 10) {\r\n            this.msgNum = offTotal\r\n          } \r\n          console.log(\"\");\r\n        },\r\n      \r\n        getdata() {\r\n          if (!this.isEnd  && !this.isLoading ) {\r\n            this.initLoadMsg();\r\n          }  \r\n        },\r\n\r\n        initLoadMsg() {\r\n          this.page++;\r\n          this.isLoading = true;\r\n          let div = this.$refs.returnBottom;  \r\n        \r\n          this.$store.dispatch('getGetMsg',{\r\n                room_id:this.room_id,\r\n                page:this.page,\r\n                limit:this.limit\r\n              }).then(res => {\r\n                if(!res) {\r\n                    this.isEnd = true;\r\n                } else {\r\n\r\n                  this.$nextTick(()=>{\r\n                      this.isLoading = false;\r\n                     if (this.page == 1) {\r\n                        //\r\n                        div.reset()\r\n                        div.scrollToBottom();\r\n                        this.isBottom = true\r\n                        this.msgNum = res.offTotal + roomNum[this.room_id]\r\n                        console.log(\"this.msgNum::\",this.msgNum)\r\n                      } \r\n                \r\n                  })\r\n                }\r\n                \r\n                \r\n          });\r\n        }\r\n      },\r\n     \r\n      computed: {    \r\n        message: {      \r\n          get() {\r\n            let historyMessageList = this.$store.state.message.historyMessageList || [];\r\n            this.historyMessageList = historyMessageList;\r\n            console.log(\"historyMessageList::\",historyMessageList)\r\n            this.totalNum = this.historyMessageList.length \r\n          }\r\n        }\r\n      },\r\n      components: {\r\n        MsgSend,\r\n        virtualList,\r\n\r\n      }\r\n    }\r\n\r\n  \r\n  </script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped>\r\n  \r\n  .msg-info {\r\n    height: 85px;\r\n  }\r\n \r\n  \r\n    .message {\r\n      position: relative;  \r\n      background-color: white;\r\n      height: 800px;\r\n      overflow: hidden;\r\n    }\r\n    \r\n    .msg-list {\r\n    position: relative;\r\n    height: 800px;\r\n    width: 800px;\r\n        overflow: auto;  \r\n    \r\n    }\r\n\r\n    .el-main {\r\n      padding: 2px;\r\n    }\r\n\r\n    \r\n    .msg-frame {\r\n      margin-left: 40px;\r\n      min-width: 30px;\r\n      max-width: 500px;\r\n      min-height: 30px;\r\n      border: 1px;\r\n      border-radius: 10px;\r\n      background-color: white;\r\n      word-break: break-all;\r\n      word-wrap: break-word;\r\n      /**/\r\n      white-space: normal;\r\n      overflow: auto\r\n    }\r\n\r\n    .my-userInfo  .msg-frame {\r\n      margin-left: 140px;\r\n      text-align: right;\r\n      background-color: cornflowerblue;\r\n      \r\n    }\r\n\r\n  .userInfo-logo img {\r\n      height:40px;\r\n      width: 40px;\r\n      border-radius:20px;\r\n\r\n  }\r\n  .userInfo-msg textarea {\r\n    \r\n      width: 400px;\r\n      max-height: 50px;\r\n      padding: 10px ;\r\n      border-radius: 10px;\r\n      background-color: aquamarine;\r\n\r\n  }\r\n\r\n  .userInfo {\r\n      position: relative;\r\n      margin-left: 20px;\r\n  }\r\n\r\n  .userInfo-msg {\r\n      position: absolute;\r\n      top:-52px;\r\n      left: -13px;\r\n  }\r\n\r\n\r\n  .userInfo-logo img {\r\n      height:40px;\r\n      width: 40px;\r\n      border-radius:20px;\r\n      margin-top: 10px;\r\n\r\n  }\r\n  .userInfo-msg textarea {\r\n    \r\n      width: 400px;\r\n      max-height: 50px;\r\n      padding: 10px ;\r\n      border-radius: 10px;\r\n      background-color: aquamarine;\r\n\r\n  }\r\n\r\n\r\n\r\n  .my-userInfo {\r\n      position: relative;\r\n      margin-right: 20px;\r\n  }\r\n  .my-userInfo-msg {\r\n      position: absolute;\r\n      top: -12px;\r\n      right: 52px;\r\n  }\r\n\r\n  .my-userInfo h4 {\r\n      text-align: right;\r\n\r\n  }\r\n\r\n\r\n  .my-userInfo-logo img {\r\n      float: right;\r\n      height:40px;\r\n      width: 40px;\r\n      border-radius:20px;\r\n\r\n  }\r\n  .my-userInfo-msg textarea {\r\n    \r\n      width: 400px;\r\n      max-height: 50px;\r\n      padding: 10px ;\r\n      border-radius: 10px;\r\n      background-color: aquamarine;\r\n\r\n  }\r\n\r\n  .msg-badge-down {\r\n    position: absolute;\r\n    right: 190px;\r\n    bottom: 65px;\r\n      \r\n  }\r\n\r\n  .msg-badge-up {\r\n    position: absolute;\r\n    top: 70px;\r\n    right: 190px;\r\n    \r\n  }\r\n\r\n</style>\r\n    ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f7fbb376&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f7fbb376&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f7fbb376\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-aside',{staticClass:\"userList\",staticStyle:{\"width\":\"158px\"}},[_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"list\",attrs:{\"infinite-scroll-disabled\":\"disabled\"}},_vm._l((_vm.userList),function(val){return _c('li',{staticClass:\"list list-line\",attrs:{\"id\":\"userLine\"}},[_c('img',{staticClass:\"logo\",attrs:{\"id\":\"userLine\",\"src\":val.photo,\"alt\":\"\"}}),(val.is_online == 'online')?[_c('span',{staticClass:\"userStatus\",staticStyle:{\"background-color\":\"cadetblue\"}})]:_vm._e(),(val.is_online == 'offline')?[_c('span',{staticClass:\"userStatus\"})]:_vm._e(),_vm._v(\" \"+_vm._s(val.nick_name)+\" \")],2)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\r\n<el-aside class=\"userList\" style=\" width: 158px;\">\r\n    <ul\r\n    class=\"list\"\r\n    v-infinite-scroll=\"load\"\r\n    infinite-scroll-disabled=\"disabled\">\r\n    \r\n        <li  v-for=\"val in userList\" class=\"list list-line\" id = \"userLine\" >\r\n          <img class=\"logo\" id = \"userLine\" :src=\"val.photo\" alt=\"\">\r\n          <template v-if=\"val.is_online == 'online'\">\r\n            <span class=\"userStatus\" style = \"background-color: cadetblue;\"></span>\r\n          </template>\r\n\r\n          <template v-if=\"val.is_online == 'offline'\">\r\n            <span class=\"userStatus\" ></span>\r\n          </template>\r\n\r\n          {{ val.nick_name }}\r\n        </li>\r\n    </ul>\r\n</el-aside>\r\n  \r\n </template>\r\n  <script> \r\n    export default {\r\n      data () {\r\n        return {\r\n          userList:[],\r\n          count: 1,\r\n          noMore:false, // \r\n          loading: false, //\r\n          pages:0 , // \r\n          size: 100, // \r\n\r\n        }\r\n      },\r\n      \r\n      props: {\r\n        // index of current item\r\n            showUser: { \r\n                type:Boolean \r\n            },\r\n         \r\n        },\r\n      computed: {\r\n       \r\n        disabled () {\r\n          return this.loading || this.noMore\r\n        }\r\n      },\r\n      mounted(){\r\n       \r\n        this.load();\r\n      },\r\n      methods: {\r\n       \r\n        load () {\r\n          this.loading = true;\r\n          this.pages += 1 // 1\r\n          this.getUserList();\r\n        },\r\n       \r\n        // \r\n        getUserList() {\r\n          let datas = {'pages':this.pages,'size':this.size};\r\n          //action||\r\n          this.$store.dispatch(\"getRoomUserList\",datas).then (res => {\r\n            let list = res.userList;\r\n            this.userList = list\r\n            // Size\r\n            if (list.length < this.size) {\r\n              this.noMore = true;\r\n            }\r\n            // pageSize\r\n            if (this.userList.length === this.$store.state.user.roomUserList.total) {\r\n              this.noMore = true;\r\n            }\r\n            this.loading = false;\r\n\r\n          })\r\n          }\r\n\r\n      }\r\n    }\r\n  </script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped>\r\n  .logo {\r\n    width: 30px;\r\n    height: 30px;\r\n    border-radius: 15px;\r\n    vertical-align: middle;\r\n  }\r\n\r\n  .list {\r\n    position:relative;\r\n    cursor: pointer;\r\n  }\r\n  .list-line:hover {background-color: lightblue;}\r\n\r\n.userStatus{\r\n  position: absolute;\r\n  z-index: 1;\r\n  top: 14px;\r\n  left: 18px;\r\n  width: 10px;\r\n  height: 10px;\r\n  border-radius: 5px;\r\n  background-color: grey;\r\n}\r\n\r\n.userList {\r\n    position: absolute;\r\n    top: 60px;\r\n    right: 0px;\r\n    width: 158px;\r\n    height:800px;\r\n        border: 1px solid #fff;\r\n        background-color: rgba(245,245,245,1.7);\r\noverflow:auto;\r\n\r\n}\r\n.userList ul {\r\n    list-style: none;\r\n    overflow: auto;\r\n}\r\n\r\n\r\n\r\n.userList ul li {\r\n    margin: 10px 1px;\r\n}\r\n\r\n\r\n    \r\n  </style>\r\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bb25528c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=bb25528c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb25528c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-footer',_vm._b({staticClass:\"footer\",attrs:{\"direction\":\"vertical\",\"width\":\"100px\",\"height\":\"800px\"}},'el-footer',_vm.message,false),[_c('ul',_vm._b({staticClass:\"list\"},'ul',_vm.message,false),_vm._l((_vm.list),function(val){return _c('li',{staticClass:\"list-line\",on:{\"click\":function($event){return _vm.selectRoom(val.room_id)}}},[_c('div',[(_vm.selectRoomId === val.room_id)?_c('el-badge',{staticClass:\"item\",attrs:{\"max\":_vm.max}},[_c('el-button',{staticStyle:{\"color\":\"cadetblue\"},attrs:{\"size\":\"small\"}},[_vm._v(\" \"+_vm._s(val.name)+\" \")])],1):_vm._e()],1),(_vm.selectRoomId != val.room_id)?_c('div',[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":val.off_delivered_count+_vm.msgNumList[val.room_id],\"max\":_vm.max}},[_c('el-button',{attrs:{\"size\":\"small\"}},[_vm._v(\" \"+_vm._s(val.name))])],1)],1):_vm._e()])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\r\n  <el-footer class=\"footer\" direction = \"vertical\" width=\"100px\" height=\"800px\" v-bind=\"message\">\r\n  \r\n    <ul  class=\"list\" v-bind=\"message\">\r\n \r\n      <li v-for=\"val in list\" class=\"list-line\"  @click=\"selectRoom(val.room_id)\"  >\r\n       \r\n        <div>\r\n          <el-badge  :max=max class=\"item\" v-if=\"selectRoomId === val.room_id\" >\r\n            <el-button size=\"small\" style = \"color: cadetblue;\">\r\n              {{ val.name }}            \r\n            </el-button>           \r\n          </el-badge>\r\n        </div>\r\n\r\n        <div v-if=\"selectRoomId != val.room_id\">\r\n          <el-badge :value=\"val.off_delivered_count+msgNumList[val.room_id]\" :max=max  class=\"item\">\r\n            <el-button size=\"small\"> {{ val.name }}</el-button>\r\n          </el-badge>\r\n        </div>\r\n      </li>\r\n    \r\n    </ul>\r\n   \r\n  </el-footer>\r\n \r\n </template>\r\n  <script> \r\n  import { setCache, getCache,removeCache} from \"@/utils/cookie\";\r\n\r\n  const synth = window.speechSynthesis;\r\n  const speech = new SpeechSynthesisUtterance();\r\n  const voices = speechSynthesis.getVoices();\r\n     export default {\r\n      name:\"Room\",\r\n      data () {\r\n        return {\r\n          list:[],  \r\n          selectRoomId: 1,\r\n          wsmessageList:[],\r\n          room_id:this.$store.state.user.roomInfo.room_id, // ID\r\n          max:140,\r\n          msgNum:0,\r\n          msgNumList:getCache('roomNum')?JSON.parse(getCache('roomNum')):[]\r\n\r\n        }\r\n      },\r\n\r\n      props:[],\r\n    \r\n      mounted(){    \r\n        this.$store.dispatch('getRoomList').then(res => {\r\n          if (res) {\r\n              this.list = res\r\n          } else {\r\n            this.$alert('')\r\n          }\r\n\r\n        });\r\n         \r\n      },\r\n      methods: {\r\n        async selectRoom(room_id){\r\n          await this.$store.dispatch('getRoomInfo',room_id).then(res => {          \r\n            if (res) {       \r\n                this.$store.dispatch('getRoomUserList',{'pages':1,'size':100}).then(res => {\r\n                  if (res === false) {\r\n                    this.$alert(\"\")\r\n                  }\r\n                 \r\n                  this.$emit('roomUserList',res);  \r\n                })   \r\n                this.selectRoomId = room_id\r\n                this.msgNumList[room_id] = 0\r\n                setCache('roomNum',JSON.stringify(this.msgNumList))\r\n            } else {\r\n              this.$alert(\"\")\r\n            }\r\n          })\r\n          \r\n        }\r\n\r\n      },\r\n      computed:{\r\n        message:{\r\n          get() {\r\n            let offMessageList = this.$store.state.message.offMessageList;\r\n            let roomList = this.$store.state.user.roomList ;\r\n            \r\n            if (offMessageList) {\r\n              let room_id = offMessageList.room_id\r\n\r\n              if (room_id) {\r\n                if (typeof(this.msgNumList[room_id]) === \"undefined\") {\r\n                \r\n                this.msgNum = 0\r\n               \r\n                }\r\n\r\n                for (let index = 0; index < roomList.length; index++) {\r\n                \r\n                  if (roomList[index].room_id != this.selectRoomId) {\r\n                  \r\n                    if (roomList[index].room_id == room_id) {\r\n                      \r\n                      this.msgNum ++\r\n                      this.msgNumList[room_id] =  this.msgNum\r\n\r\n                    }\r\n                  \r\n                  }\r\n                }\r\n\r\n                setCache('roomNum',JSON.stringify(this.msgNumList))\r\n\r\n              } \r\n              \r\n             \r\n                         \r\n            } \r\n          \r\n          }\r\n        }\r\n      }\r\n\r\n    }\r\n  </script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped>\r\n.footer{\r\n    width: 170px;\r\n    background: aliceblue;\r\n    position: absolute;\r\n    left: 89px;\r\n    box-sizing: border-box;\r\n    flex-shrink: 0;\r\n    top: 60px;\r\n    z-index: 1;\r\n  }\r\n\r\n\r\n  \r\n  .list {\r\n    position:relative;\r\n    cursor: pointer;\r\n    margin: 10px;\r\n  }\r\n  .list-line {\r\n    margin: 15px 0px;\r\n    list-style-type:none;\r\n  }\r\n  .list-line:hover {\r\n    color: #409eff;\r\n  }\r\n    \r\n  </style>\r\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5610f796&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5610f796&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5610f796\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <el-container style=\"display: flex;justify-content: center;\">\r\n    <div class=\"wrap\">\r\n      <!--  -->\r\n      \r\n        <!-- -->\r\n        <MsgTop :room = \"roomInfo\" />\r\n        <!-- -->\r\n        <MsgBase :userStatus=\"userStatus\"/>\r\n        \r\n        <!--  -->\r\n        <Messages  :key=\"timer\"/>\r\n       \r\n        <!--  -->\r\n        <UserList :showUser=\"true\" :key=\"timer+ '-userList'\"  />\r\n        <!--  -->\r\n        <Room @roomUserList=\"roomUserList\"></Room>\r\n       \r\n        <router-view></router-view>\r\n    </div>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\n//\r\nimport MsgTop from './MsgTop';\r\nimport MsgBase from './MsgBase';\r\nimport Messages from './Messages';\r\nimport UserList from './UserList';\r\nimport Room from './Room';\r\n\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    MsgTop,\r\n    MsgBase,\r\n    Messages,\r\n    UserList,\r\n    Room,  \r\n},\r\n  data() {\r\n    return {\r\n      \"user_id\":this.$store.state.user.userInfo.user_id,\r\n      \"room_id\":this.$store.state.user.roomInfo.room_id,\r\n      \"userList\":this.$store.state.user.roomUserList,\r\n      \"roomInfo\":this.$store.state.user.roomInfo,\r\n      \"msgList\":this.$store.state.message.historyMessageList,\r\n      \"userStatus\":\"offline\",\r\n      \"timer\":\"\"\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$socket.open() \r\n    window.addEventListener(\"blur\", this.onblur,true);\r\n    window.addEventListener(\"focus\", this.onfocus,true);   \r\n\r\n    \r\n  },\r\n  beforeDestroy () {\r\n    this.$socket.close()\r\n     //token\r\n    \r\n    window.removeEventListener(\"focus\", this.onfocus,true);   \r\n    window.removeEventListener(\"blur\", this.onblur,true);\r\n\r\n\r\n  },\r\n  sockets: {\r\n    async connecting () {\r\n      console.log(\"Socket \");\r\n    },\r\n    async disconnect (reason) {\r\n      console.log(\"Socket \",reason);\r\n      if (this.$socket.connected === false) {\r\n          this.userStatus = \"offline\"  \r\n        \r\n      }\r\n          \r\n    },\r\n    async connect_error (error) {\r\n      console.log(\"Socket \",error);\r\n      if (this.$socket.connected === false) {\r\n          this.userStatus = \"offline\"\r\n         \r\n\r\n      }\r\n\r\n    },\r\n    async connect () {\r\n      console.log(\"Socket \");\r\n      if (this.$socket.connected === true) {\r\n          this.userStatus = \"online\"\r\n          \r\n      }\r\n\r\n    },\r\n\r\n    async error (error) {\r\n        console.log(\"Socket:\",error);\r\n        console.log(this.$socket.connected);\r\n        this.handleClose(\"\");\r\n    },\r\n \r\n       \r\n},\r\nmethods: {\r\n  roomUserList(val) {\r\n    // \r\n    this.roomInfo = this.$store.state.user.roomInfo\r\n    this.timer = this.roomInfo.room_id\r\n    console.log(\" this.timer\", this.timer);\r\n  },\r\n  handleClose(error){\r\n      this.$confirm(error,'',{\r\n        confirmButtonText: '',\r\n          type: 'error'\r\n      })\r\n        .then(_ => {\r\n          this.$message({\r\n            type: 'success',\r\n            message: error\r\n          });\r\n        })\r\n        .catch(_ => {});\r\n  },\r\n  onfocus(e){\r\n      console.log('');\r\n      \r\n      // this.$store.dispatch(\"getTitle\", {\r\n      //     \"user_id\":this.$store.state.user.userInfo.user_id,\r\n      //     \"contactList\":\"\"\r\n      //   })\r\n    },\r\n    visibilitychange(e){\r\n        console.log(document.visibilityState);\r\n        let state = document.visibilityState\r\n        if(state == 'hidden'){\r\n            console.log(document.visibilityState,'');\r\n        }\r\n        if(state == 'visible'){\r\n            console.log(document.visibilityState,'');       \r\n        }\r\n    },\r\n    beforeunloadHandler(e) {\r\n      e = e || window.event\r\n      if (e) {\r\n        e.returnValue = ''\r\n      }\r\n      return ''\r\n    },\r\n    \r\n    onblur(e) {\r\n      console.log('');\r\n    }\r\n}\r\n\r\n \r\n}\r\n\r\n\r\n</script>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=52fa34b7\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Register from '@/pages/Register'\r\nimport Login from '@/pages/Login'\r\nimport Home  from '@/pages/Home'\r\n\r\nexport default [\r\n\r\n    /**\r\n     * \r\n     */\r\n    {\r\n        path: '/login',\r\n        name:'Login',\r\n        component: Login,\r\n        meta: { requiresGuest: true }, // \r\n    },\r\n\r\n    /**\r\n     * \r\n     */\r\n    {\r\n        path: '/register',\r\n        name:'Register',\r\n        component: Register,\r\n        meta: { requiresGuest: true }, // \r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * \r\n     */\r\n    {\r\n        path: '/',\r\n        name:'Home',\r\n        component: Home,\r\n        meta: { requiresAuth: true }, // \r\n    }\r\n]","//axios\r\nimport axios from \"axios\";\r\nimport nprogress, { done } from \"nprogress\";\r\n//store\r\nimport store from '@/store';\r\n\r\n//\r\nimport router from \"@/router\";\r\n//\r\nimport \"nprogress/nprogress.css\";\r\nimport { setToken, getToken,removeToken} from \"@/utils/token\";\r\n\r\n//axios\r\nlet requests = axios.create({\r\n  //\r\n  baseURL: \"/api\",\r\n  //10s\r\n  timeout: 120000, \r\n});\r\n\r\n//----\r\nrequests.interceptors.request.use(\r\n  (config) => {\r\n    //token\r\n    let token = store.state.user.token\r\n    if(token){\r\n      config.headers.Authorization = 'Bearer'+' '+ token;\r\n    }\r\n    nprogress.start();\r\n    return config;\r\n  },(err) => {\r\n    console.log(\"\",err)\r\n    return Promise.reject(err);\r\n  }\r\n);\r\n\r\n//----\r\nrequests.interceptors.response.use(\r\n  (res) => {\r\n    let data = res.data;\r\n    \r\n    //\r\n    nprogress.done();\r\n    if (data.code === 10000){   \r\n        //\r\n        return data;\r\n    } else {\r\n      // // token \r\n      if (data.code === 20401) {\r\n       router.push({path:'/login'})\r\n        \r\n        return;\r\n      }\r\n      return data;\r\n    }\r\n     \r\n   \r\n  },\r\n  (err) => {\r\n    console.log(\"\",err)\r\n    router.push({path:'/login'})\r\n   \r\n    return;\r\n  }\r\n);\r\n//\r\n//axios\r\nexport default requests;\r\n","//axios\r\nimport axios from \"axios\";\r\nimport nprogress from \"nprogress\";\r\n//\r\nimport \"nprogress/nprogress.css\";\r\n//axios\r\nlet requests = axios.create({\r\n  //\r\n  baseURL: \"/mock\",\r\n  //5S\r\n  timeout: 5000,\r\n});\r\n\r\n//----\r\nrequests.interceptors.request.use((config) => {\r\n  //config?\r\n  //\r\n  nprogress.start();\r\n  return config;\r\n});\r\n\r\n//----\r\nrequests.interceptors.response.use(\r\n  (res) => {\r\n    //\r\n    nprogress.done();\r\n    //\r\n    return res.data;\r\n  },\r\n  (err) => {\r\n    console.log(\"\", err)\r\n    alert(\"\");\r\n  }\r\n);\r\n//\r\n//axios\r\nexport default requests;\r\n","import requests from \"./ajax\";\r\nimport mockRequests  from \"./mockAjax\";\r\n//\r\n//URL:/api/v1/login  method:post phone password\r\nexport const reqUserLogin = (data)=>requests({url:'user/v1/login',data,method:'post'});\r\n\r\n//\r\n\r\nexport const reqUserRegister = (data)=>requests({url:'user/v1/register',data,method:'post'});\r\n\r\n// \r\nexport const reqAuth = (type)=>requests({url:`user/v1/get/auth/${type}`,type,method:'get'});\r\n// \r\nexport const reqAuthLogin = (data)=>requests({url:'user/v1/auth/login',data,method:'post'});\r\n\r\n//\r\n//URL:/api/v1/room/info\r\nexport const reqRoomInfo = (id)=>requests({url:`room/v1/room/info/${id}`,method:'get'});\r\n\r\n// \r\n\r\nexport const reqRoomUserList = (data)=>requests({url:`room/v1/room/user/list/${data}`,method:'get'});\r\nexport const reqRoomList = ()=>requests({url:`room/v1/room/index`,method:'get'});\r\n\r\n//\r\n// export const reqUerLoginLogs = ()=>requests({url:'/v1/add/login/logs',method:'post'});\r\n//reqLogout out\r\nexport const reqLogout = ()=>requests({url:'user/v1/out',method:'post'});\r\n// \r\nexport const reqGetMsg = (data)=>requests({url:`message/v1/user/msg/${data}`,data,method:'get'});\r\n//  /upload/audio\r\nexport const reqUploadAudio =  (data)=>requests({url:'upload/v1/audio',data,method:'post'});\r\n// \r\nexport const reqUploadFiles =  (data)=>requests({url:'upload/v1/files',data,method:'post'});\r\n// base64 \r\nexport const reqUploadBase64 =  (data)=>requests({url:'upload/v1/base64',data,method:'post'});\r\n\r\n// \r\nexport const reqUploadPut =  (data)=>requests({url:'upload/v1/put',data,method:'post'});\r\n// \r\nexport const reqcheckChunkExis =  (data)=>requests({url:'upload/v1/checkChunkExist',data,method:'post'});\r\n\r\n// \r\nexport const reqUploadChunk =  (data)=>requests({url:'upload/v1/chunk',data,method:'post'});\r\n\r\n// \r\nexport const reqUploadMerge =  (data)=>requests({url:'upload/v1/merge',data,method:'post'});\r\n\r\n\r\n","//token\r\nexport const setToken = (token) => {\r\n  localStorage.setItem(\"TOKEN\", token);\r\n};\r\n//token\r\nexport const getToken = () => {\r\n  return localStorage.getItem(\"TOKEN\");\r\n};\r\n\r\n//token\r\nexport const removeToken=()=>{\r\n   localStorage.removeItem(\"TOKEN\");\r\n}\r\n","\r\n\r\n// api\r\nimport {\r\n    reqUserRegister,\r\n    reqUserLogin,\r\n    reqRoomInfo,\r\n    reqRoomUserList,\r\n    reqLogout,\r\n    reqAuth,\r\n    reqAuthLogin,\r\n    reqRoomList\r\n\r\n} from \"@/api\";\r\n\r\nimport { setToken, getToken,removeToken} from \"@/utils/token\";\r\nimport { setCache, getCache,removeCache} from \"@/utils/cookie\";\r\n//\r\nconst state = {\r\n  code: \"\",\r\n  userIsOnLine:\"offline\",\r\n  token: getToken(),\r\n  userInfo: {},\r\n  roomInfo:{},\r\n  roomUserList:[],\r\n  isAuthLogin:false,\r\n  roomList:{}\r\n};\r\n// \r\nconst mutations = {\r\n    USERLOGIN(state, token) {\r\n        state.token = token;\r\n    },\r\n    GETUSERINFO(state, userInfo) {\r\n        state.userInfo = userInfo\r\n        state.userIsOnLine = userInfo.is_online\r\n    },  \r\n   \r\n    GETROOMINFO(state, roomInfo) {\r\n        state.roomInfo = roomInfo;\r\n\r\n    },  \r\n    ROOMUSERLIST(state, data) {\r\n        state.roomUserList = data\r\n    },\r\n    ISAUTHLOGIN(state, data) {\r\n        state.isAuthLogin = data\r\n    },\r\n    GETROOMList(state, data) {\r\n        state.roomList = data\r\n    }\r\n\r\n};\r\n\r\nconst actions = {\r\n\r\n    // \r\n    async userLogin({ commit }, data) {\r\n        // \r\n        let result = await reqUserLogin(data);\r\n        if (result.code === 10000) {\r\n            // \r\n             \r\n            //token\r\n            commit(\"USERLOGIN\", result.data.token);\r\n            //token\r\n            setToken(result.data.token);\r\n        } \r\n        return result;\r\n    },\r\n\r\n     // \r\n     async userRegister({ commit }, data) {\r\n        // \r\n        let result = await reqUserRegister(data);\r\n         \r\n        return result;\r\n    },\r\n\r\n\r\n    /**\r\n     * gitee \r\n     * @param {*} param0 \r\n     * @param {*} data \r\n     * @returns \r\n     */\r\n    async authLogin({ commit }, data) {\r\n        let result = await reqAuthLogin(data);\r\n        if (result.code == 10000) {\r\n            console.log(result);\r\n            //token\r\n            commit(\"USERLOGIN\", result.data.token);\r\n            //token\r\n            setToken(result.data.token);\r\n            //auth\r\n            removeCache(\"isAuthLogin\");\r\n           \r\n        } \r\n        return result;\r\n\r\n    },\r\n\r\n    /**\r\n     * \r\n     * @param {*} param0 \r\n     * @param {*} data \r\n     * @returns \r\n     */\r\n    async getAuthLogin({ commit }, data) {\r\n        let result = await reqAuth(data);\r\n        if (result.code == 10000) {\r\n            //  Auth \r\n            setCache(\"isAuthLogin\",true)\r\n            return result.data;\r\n        } else {\r\n            return false;\r\n        }\r\n\r\n    },\r\n    \r\n\r\n    // \r\n    async getRoomUserList({commit}, data) {\r\n        // \r\n        let where = `${state.roomInfo.room_id}/${data.pages}/${data.size}`\r\n        \r\n        let result = await reqRoomUserList(where);\r\n        if (result.code == 10000) {\r\n            commit(\"ROOMUSERLIST\",result.data);\r\n\r\n            return result.data;\r\n        } \r\n        return false;\r\n    },\r\n\r\n    //\r\n    async getRoomInfo({ commit },id) {\r\n        let result = await reqRoomInfo(id);\r\n                let code = result?.code;\r\n        if (code === 10000) {       \r\n            let list = result?.data;\r\n            //\r\n            commit(\"GETUSERINFO\", list?.userInfo);\r\n            //  \r\n            commit(\"GETROOMINFO\", list?.roomInfo);\r\n            \r\n            return true;\r\n        }\r\n    return false;\r\n    },\r\n\r\n    async getRoomList({ commit }){\r\n        let result = await reqRoomList();\r\n        let code = result?.code;\r\n        if (code === 10000) {  \r\n            let list = result?.data;  \r\n            commit(\"GETROOMList\", list?.list);\r\n            return list?.list;\r\n        }\r\n        return false;    \r\n    },\r\n\r\n    //\r\n    async userLogout({commit}) {\r\n        //token\r\n        let result = await reqLogout();\r\n        //actionstatemutationstate\r\n        if(result.code === 10000){\r\n            commit(\"USERLOGIN\",false);\r\n            //  token\r\n            removeToken();\r\n            // \r\n            removeCache('isAuthLogin')\r\n            return true;\r\n        }\r\n        return false;    \r\n  },\r\n\r\n\r\n\r\n}\r\n\r\nconst getters = {\r\n\r\n};\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n};\r\n\r\n\r\n","\r\n// api\r\nimport {\r\n    reqGetMsg,\r\n    reqUploadAudio,\r\n    reqUploadBase64\r\n} from \"@/api\";\r\nimport { setCache, getCache,removeCache} from \"@/utils/cache\";\r\nimport store from \"@/store\";\r\n\r\nconst state = {\r\n    title: \"\",\r\n    messageList:[],\r\n    historyMessageList:[],\r\n    offTotal:0,\r\n    offMessageList:[]\r\n};\r\n// \r\nconst mutations = {\r\n    GETOFFMSGTOTAL(state, data) {\r\n        state.offTotal = data\r\n    },\r\n   \r\n    GETMESSAGELIST(state, data) {      \r\n        state.messageList = data\r\n    },\r\n\r\n    GETHISTORYMESSAGELIST(state,data) {   \r\n        if(Object.keys(data).length > 0)\r\n        {\r\n            state.historyMessageList = data\r\n        } \r\n    },\r\n    \r\n    GETTITLE(state,data) {\r\n        state.title = data\r\n    },\r\n    GETOFFMESSAGELIST(state,data) {\r\n        state.offMessageList = data\r\n    }\r\n\r\n\r\n};\r\n\r\nconst actions = {\r\n    /**\r\n     * title \r\n     */\r\n    async getTitle({commit}, data){\r\n        let title = \"\"\r\n        let context = \"\"  \r\n        let user_id = store.state.user.userInfo.user_id; \r\n        if (data.contactList.length > 0) {      \r\n            let contactList = data.contactList.split(',')     \r\n        \r\n            if ( contactList.includes(user_id.toString()) === true) {\r\n                    context = \"@\"\r\n            } \r\n        }  \r\n        if (user_id == data.user_id) {\r\n            commit(\"GETTITLE\",title);\r\n            return title;\r\n        }\r\n        if (Object.keys(data).length > 0) {\r\n            title = ''+ context + '' + ''\r\n        }\r\n        \r\n        commit(\"GETTITLE\",title);\r\n        return title;\r\n        \r\n\r\n    },\r\n   \r\n    /**\r\n     * \r\n     * @param {*} param0 \r\n     * @param {*} data \r\n     * @returns \r\n     */\r\n\r\n    async getGetMsg({commit}, data) {\r\n        let room_id = data.room_id\r\n        let parms = `${room_id}`\r\n        if (data.page) {\r\n            parms = `${room_id}/${data.page}/${data.limit}`\r\n        } \r\n       \r\n                // \r\n        let result = await reqGetMsg(parms);\r\n        if (result.code === 10000) {\r\n            \r\n            let list = result.data.list;\r\n            let msg = [];\r\n            let user_id = store.state.user.userInfo.user_id;\r\n            let oldMsg = state.historyMessageList || []; \r\n            \r\n            \r\n            for (var i = 0; i < list.length; i++) {\r\n                \r\n                if (list[i].msg_form && room_id == list[i].room_id ) {\r\n\r\n                    var tag = 0; // 0   1 \r\n                    if (user_id != list[i].msg_form) {\r\n                        tag = 1;\r\n                                        }\r\n                    // url\r\n                    let msg = list[i].msg_content;\r\n                    let pattern = /\\b(https?:\\/\\/[^\\s]+)/g;\r\n                    let matches = msg.match(pattern); \r\n                    if (matches !== null) {   \r\n                       \r\n                        for (var urlKey=0;urlKey < matches.length;urlKey++) {\r\n                        \r\n                            msg = msg.replace(matches[urlKey], `<a href=${matches[urlKey]}>${matches[urlKey]}</a>`);\r\n                            \r\n                        }\r\n                    }\r\n                    let totalSize = list[i].file_size\r\n                    let file_size =  totalSize/1024\r\n                    \r\n                    let messageList = {\r\n                        \"user_id\": list[i].msg_form,\r\n                        \"tag\":tag,\r\n                        \"nick_name\":list[i].nick_name,\r\n                        \"msg\":msg,\r\n                        \"room_id\":list[i].room_id,\r\n                        \"seq\":list[i].seq,\r\n                        \"send_time\":list[i].send_time,\r\n                        \"userLogo\":list[i].photo,\r\n                        \"content_type\":list[i].content_type,\r\n                        \"file_name\":list[i].file_name,\r\n                        \"original_file_name\":list[i].original_file_name,\r\n                        \"fileSize\":file_size.toFixed(2),\r\n                        \"totalSize\":totalSize,\r\n                        \"md5\":list[i].md5,\r\n                        \"total_chunks\":list[i].total_chunks,\r\n                        \"upload_status\":list[i].upload_status,\r\n                        \"chunk_number\":list[i].chunk_number,\r\n                        \"merge_number\":list[i].merge_number,\r\n                        \"is_revoke\":list[i].is_revoke ? list[i].is_revoke :0,\r\n                        \"delivered\":list[i].delivered\r\n\r\n                    }\r\n                    \r\n                    oldMsg.unshift(messageList)  \r\n                }\r\n\r\n            }\r\n\r\n\r\n            console.log(\":\",oldMsg);\r\n            let total = result.data.offTotal\r\n            commit(\"GETHISTORYMESSAGELIST\", oldMsg);\r\n\r\n            //token \r\n            return {msg:oldMsg,offTotal:total};\r\n        } \r\n\r\n        return false;\r\n\r\n\r\n\r\n    },\r\n    /**\r\n     * \r\n     * @param {*} param0 \r\n     * @param {*} data \r\n     * @returns \r\n     */\r\n    async uploadAudio({commit}, data) {\r\n        let result = await reqUploadAudio(data);\r\n        if (result.code === 10000) {\r\n            return result.data;\r\n        } \r\n    },\r\n\r\n    \r\n    /**\r\n     * base64\r\n     * @param {*} param0 \r\n     * @param {*} data \r\n     * @returns \r\n     */\r\n    async uploadBase64({commit}, data) {\r\n        let result = await reqUploadBase64(data);\r\n        if (result.code === 10000) {\r\n            return result.data;\r\n        } \r\n    },\r\n\r\n\r\n\r\n\r\n    async getMessage({commit}, data) {\r\n       \r\n        if ( Object.keys(data).length > 0) {\r\n            if (data.code == 20014 ) {\r\n                next('/login');\r\n\r\n            }        \r\n            const user_id = store.state.user.userInfo.user_id;           \r\n            var tag = 0; // 0   1 \r\n            if (user_id !== data.user_id ) {\r\n              tag = 1;\r\n            }\r\n            let messages = [];\r\n            let msg = data.sensitiveMsg;\r\n            let pattern = /\\b(https?:\\/\\/[^\\s]+)/g;\r\n            let matches = msg.match(pattern); \r\n            if (matches !== null) {   \r\n                       \r\n                for (var urlKey=0;urlKey < matches.length;urlKey++) {\r\n             \r\n                    msg = msg.replace(matches[urlKey], `<a href=${matches[urlKey]}>${matches[urlKey]}</a>`);\r\n                    \r\n                }\r\n            }\r\n           \r\n            let totalSize  =  data.file_size\r\n            let file_size = totalSize/1024\r\n            let room_id = store.state.user.roomInfo.room_id\r\n            let messageList = []\r\n           \r\n            messageList = {\r\n                \"user_id\": data.user_id,\r\n                \"tag\":tag,\r\n                \"nick_name\":data.nick_name,\r\n                \"msg\":msg,\r\n                \"room_id\":data.room_id,\r\n                \"seq\":data.seq,\r\n                \"send_time\":data.send_time,\r\n                \"userLogo\":data.userLogo,\r\n                \"content_type\":data.content_type,\r\n                \"file_name\":data.file_name,\r\n                \"totalSize\":totalSize,\r\n                \"original_file_name\":data.original_file_name,\r\n                \"fileSize\":file_size.toFixed(2),\r\n                \"md5\":data.md5,\r\n                \"total_chunks\":data.total_chunks,\r\n                \"upload_status\":data.upload_status,\r\n                \"chunk_number\":data.chunk_number,\r\n                \"merge_number\":data.merge_number,\r\n                \"is_revoke\":data.is_revoke ? data.is_revoke : 0,\r\n                \"delivered\":0\r\n            }\r\n            if (room_id == data.room_id) {\r\n                let oldMsg = state.historyMessageList || []; \r\n                oldMsg.push(messageList)\r\n                console.log(\"oldMsg\",oldMsg);\r\n                // \r\n                commit(\"GETMESSAGELIST\", messageList)\r\n            } else {\r\n                commit(\"GETOFFMESSAGELIST\", messageList)\r\n            }\r\n            console.log(\"getMessage:\",messageList);\r\n            return true;\r\n        } \r\n    \r\n    },\r\n \r\n\r\n}\r\n\r\nconst getters = {\r\n\r\n};\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n};\r\n\r\n\r\n","\r\n// api\r\nimport {\r\n    reqUploadMerge,\r\n    reqcheckChunkExis,\r\n    reqUploadChunk,\r\n    reqUploadFiles,\r\n    reqUploadPut\r\n} from \"@/api\";\r\nimport { setCache, getCache,removeCache} from \"@/utils/cache\";\r\nimport store from \"@/store\";\r\n\r\nconst state = {\r\n   \r\n};\r\n// \r\nconst mutations = {\r\n   \r\n};\r\n\r\nconst actions = {\r\n\r\n\r\n    \r\n    /**\r\n     * \r\n     * @param {*} param0 \r\n     * @param {*} data \r\n     * @returns \r\n     */\r\n    async checkChunkExis({commit}, data) {\r\n        let result = await reqcheckChunkExis(data);\r\n        return result \r\n    },\r\n\r\n\r\n\r\n    /**\r\n     * \r\n     * @param {*} param0 \r\n     * @param {*} data \r\n     * @returns \r\n     */\r\n    async uploadChunk({commit}, data) {\r\n        let result = await reqUploadChunk(data);\r\n        if (result.code === 10000) {\r\n            return result.data;\r\n        } \r\n        return false;\r\n    },\r\n\r\n    /**\r\n     * \r\n     * @param {*} param0 \r\n     * @param {*} data \r\n     * @returns \r\n     */\r\n    async uploadMerge({commit}, data) {\r\n        let result = await reqUploadMerge(data);\r\n        if (result.code === 10000) {\r\n            return result.data;\r\n        } \r\n\r\n        return false;\r\n    },\r\n\r\n    \r\n    async uploadFiles({commit}, data) {\r\n        let result = await reqUploadFiles(data);\r\n        if (result.code === 10000) {\r\n            return result.data;\r\n        } \r\n    },\r\n    async uploadPut({commit}, data) {\r\n        let result = await reqUploadPut(data);\r\n        if (result.code === 10000) {\r\n            return result.data;\r\n        } \r\n\r\n        return false;\r\n    },\r\n\r\n\r\n    \r\n\r\n\r\n\r\n}\r\n\r\nconst getters = {\r\n\r\n};\r\nexport default {\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n};\r\n\r\n\r\n","//Vuex -----\r\nimport Vuex from \"vuex\";\r\n//Vue\r\nimport Vue from \"vue\";\r\n//\r\nVue.use(Vuex);\r\n\r\nimport user from \"./user\";\r\nimport message from \"./message\";\r\nimport upload from \"./upload\";\r\n\r\n\r\n//Vuex.Store()\r\nexport default new Vuex.Store({\r\n    //\r\n    modules: {\r\n      user,\r\n      message,\r\n      upload,\r\n    },\r\n  });","//vue-router\r\nimport VueRouter from \"vue-router\";\r\n//Vue\r\nimport Vue from \"vue\";\r\nimport routes from \"./routes\";\r\n//\r\nVue.use(VueRouter);\r\n\r\nimport VueSocketIO from 'vue-socket.io' ;\r\nimport Manager from \"socket.io-client\";\r\n//store\r\nimport store from \"@/store\";\r\n//VueRouter.prototypepush|replace\r\n//VueRouter.prototypepush|replace\r\nlet originPush = VueRouter.prototype.push;\r\nlet originReplace = VueRouter.prototype.replace;\r\n//VueRouter.prototypepush\r\nVueRouter.prototype.push = function(location, resolve, reject) {\r\n  //query|params\r\n  //undefined|\r\n  //:undefined|\r\n  if (resolve && reject) {\r\n    //push|\r\n    //originPushcall(.$router)\r\n    originPush.call(this, location, resolve, reject);\r\n  } else {\r\n    //push|\r\n    originPush.call(\r\n      this,\r\n      location,\r\n      () => {},\r\n      () => {}\r\n    );\r\n  }\r\n};\r\n//VueRouter.prototypereplace\r\nVueRouter.prototype.replace = function(location, resolve, reject) {\r\n  if (resolve && reject) {\r\n    originReplace.call(this, location, resolve, reject);\r\n  } else {\r\n    originReplace.call(\r\n      this,\r\n      location,\r\n      () => {},\r\n      () => {}\r\n    );\r\n  }\r\n};\r\n//VueRouter\r\nlet router = new VueRouter({\r\n  mode : 'history',\r\n  //\r\n  //:/()\r\n  //\r\n  //componentVVueComponent\r\n  routes,\r\n  //\r\n  scrollBehavior(to, from, savedPosition) {\r\n    //y=0\r\n    return { y: 0 };\r\n  },\r\n});\r\n\r\n//\r\nrouter.beforeEach(async (to, from, next) => {\r\n   //to:\r\n   //from\r\n   //next: next()   next(path)   \r\n   // \r\n  //  next();\r\n  //token-----\r\n   let token  = store.state.user.token;\r\n\r\n   //\r\n   if(token != null && to.meta.requiresAuth ){\r\n     //------\r\n        try {\r\n          // \r\n          let room_id = store.state.user.roomInfo.room_id ? store.state.user.roomInfo.room_id:1\r\n          await store.dispatch('getRoomInfo',room_id);\r\n         \r\n          Vue.use(new VueSocketIO({\r\n            debug: true,\r\n            //  https://teaim.cn\r\n            //  http://192.168.1.108:9502\r\n            connection: Manager.connect(\"https://teaim.cn\", {\r\n              connectionStateRecovery: {\r\n                // the backup duration of the sessions and the packets\r\n                maxDisconnectionDuration: 2 * 60 * 1000,\r\n                // whether to skip middlewares upon successful recovery\r\n                skipMiddlewares: true,\r\n              },\r\n                reconnectionDelayMax: 100,\r\n                transports: [\"websocket\"],//\r\n              \r\n                query: {\r\n                  \"token\":store.state.user.token,\r\n                    \r\n               },\r\n                autoConnect: false,// \r\n              })\r\n            \r\n          }));\r\n          \r\n          next();\r\n        } catch (error) {\r\n          \r\n          //token\r\n          await store.dispatch('userLogout');\r\n          next({ name: 'Login' })\r\n        }\r\n       \r\n  } else {\r\n    \r\n    let toPath = to.path;\r\n    if(!to.meta.requiresGuest){\r\n      //\r\n      next(toPath);\r\n    } else if(to.name == 'Login' || to.name == 'Register') {\r\n      next();\r\n    }\r\n       \r\n    \r\n  }\r\n});\r\n\r\nexport default router;\r\n","import Vue from 'vue';\r\n\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport VueAudio from 'vue-audio-better'\r\nimport MetaInfo from 'vue-meta-info';\r\nimport VueCookies from 'vue-cookies'\r\nimport AudioVisual from 'vue-audio-visual'\r\nimport uploader from 'vue-simple-uploader'\r\nimport App from './App.vue';\r\n\r\n\r\n//\r\nimport router from \"@/router\";\r\n//\r\nimport store from \"@/store\";\r\n\r\nimport { Button,MessageBox} from 'element-ui';\r\n//\r\n// import \"@/plugins/validate\";\r\n\t\r\n//\r\nVue.component(Button.name,Button);\r\n\r\n//ElementUI\r\nVue.prototype.$msgbox = MessageBox;\r\nVue.prototype.$alert = MessageBox.alert;\r\n//\r\nimport * as API from '@/api';\r\n//\r\nVue.config.productionTip = false\r\nVue.use(ElementUI);\r\nVue.use(VueAudio);\r\nVue.use(MetaInfo);\r\nVue.use(VueCookies)\r\nVue.use(AudioVisual)\r\nVue.use(uploader)\r\n\r\nnew Vue({\r\n  render: h => h(App),\r\n  //$bus\r\n  beforeCreate() {\r\n    Vue.prototype.$bus = this;\r\n    Vue.prototype.$API = API;\r\n  },\r\n  //router\r\n  router,\r\n  //store\r\n  store\r\n}).$mount('#app')\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebchat_view\"] = self[\"webpackChunkwebchat_view\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(2218); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","staticRenderFns","name","components","metaInfo","title","$store","state","message","meta","content","link","rel","href","data","mounted","document","oncontextmenu","e","destroyed","methods","component","staticClass","_v","ref","attrs","ruleForm","rules","required","type","min","model","value","nick_name","callback","$$v","$set","expression","login","password","confirm_password","on","$event","submitForm","formName","$refs","validate","valid","$alert","dispatch","then","res","code","msg","$router","push","catch","error","getAuthLogin","register","setCache","Cookies","set","getCache","get","removeCache","remove","oauthToken","isAuthLogin","console","log","url","length","window","location","origin","host","staticStyle","roomInfo","userStatus","key","timer","roomUserList","_s","room","roomName","countOnline","props","userLogo","_e","nickName","onClick","errorHandler","logout","user","userInfo","photo","user_id","room_id","$confirm","_","$socket","close","$message","_b","historyMessageList","itemComponent","keeps","estimateSize","totop","bottom","onScroll","composeFile","msgNum","isBottom","getLocation","findNewMsg","directives","rawName","showDialog","selectMsg","toogleDialogEmoji","audioPermission","audioData","statusClass","btnClick","upload","fileSuccess","headers","fileList","handleSuccess","handleError","handleBeforeupload","style","stateStatus","members","filterMatch","deleteMatch","getValue","scopedSlots","_u","fn","s","domProps","item","userList","emo","uploadFile","localStorage","setItem","chunkSize","maxSize","loadingFile","msgInfo","file","watch","computed","File","raw","currentFile","fileSize","size","fileMd5","getFileMd5","reader","FileReader","readAsDataURL","onload","target","result","sendMsg","newFileName","path","chunkCount","Math","ceil","JSON","stringify","initUploadParams","checkChunkExis","filename","totalChunks","totalSize","mergePath","uploadStatus","$emit","Promise","resolve","reject","blobSlice","prototype","slice","mozSlice","webkitSlice","chunks","currentChunk","spark","SparkMD5","fileReader","loadNext","start","end","readAsArrayBuffer","call","append","md5","onerror","getMsg","content_type","total_chunks","file_size","file_name","seq","chunk","num","i","chunkNumber","_chunkFile","uploadProgress","toFixed","emit","sockets","created","isShowPermission","indexOf","_k","keyCode","startRecorder","require","outPlay","startEnd","countdownimes","satrtTime","lamejs","recorder","Recorder","sampleBits","sampleRate","numChannels","compiling","drawRecordId","oCanvas","ctx","drawPlayId","pCanvas","pCtx","endTime","startCanvas","getElementById","getContext","stopRecorder","drawRecord","getRecorder","resumeRecorder","resume","pauseRecorder","pause","cancelAnimationFrame","stop","playRecorder","play","drawPlay","pausePlayRecorder","pausePlay","resumePlayRecorder","resumePlay","stopPlayRecorder","stopPlay","destroyRecorder","destroy","toltime","parseInt","duration","mp3Blob","convertToMp3","getWAV","uploadWAVData","downPCM","downloadPCM","downWAV","downloadWAV","wavBlob","formData","FormData","fileName","Date","getTime","fileOfBlob","getPermission","getMp3Data","download","wavDataView","wav","WavHeader","readHeader","channels","mp3enc","Mp3Encoder","getChannelData","buffer","leftData","left","Int16Array","byteLength","rightData","right","remaining","maxSamples","subarray","mp3buf","encodeBuffer","enc","flush","Blob","countdownime","requestAnimationFrame","dataArray","getRecordAnalyseData","bufferLength","fillStyle","fillRect","width","height","lineWidth","strokeStyle","beginPath","sliceWidth","x","v","y","moveTo","lineTo","stroke","getPlayAnalyseData","VEmojiPicker","Audio","At","uploadPut","text","drawer","direction","audio","showUser","sumNoticeOtherUser","countStr","contactList","token","imagesExt","audioExt","videoExt","roomCallback","addEventListener","send","removeEventListener","event","ctrlKey","msgSend","permission","err","fileLis","response","Object","keys","index","lastIndexOf","ext","substr","fileExt","sendAudio","toLowerCase","filebutton","uploadfileBut","$el","click","ScreenShort","enableWebRtc","level","completeCallback","closeCallback","closeFn","canvasWidth","innerWidth","canvasHeight","innerHeight","base64data","cutInfo","input","innerHTML","val","convertImageToCanvas","image","canvas","createElement","drawImage","suffix","filter","trim","is_robot","tihs","alert","original_file_name","identifier","status","lastEditRange","selection","getSelection","focus","range","rangeCount","getRangeAt","removeAllRanges","addRange","textNode","startContainer","rangeStartOffset","startOffset","insertData","setStart","collapse","open","html","textContent","messgae","msgData","volatile","file_path","upload_status","source","send_time","is_revoke","class","tag","isRevokeHidden","preventDefault","onContextmenu","apply","arguments","slot","down","_m","Vue","use","Contextmenu","synth","speechSynthesis","speech","SpeechSynthesisUtterance","voices","getVoices","progress","is_stop","curr","volume","balance","isloading","list","Number","default","time","parse","nowTime","copyOrderId2","body","appendChild","select","execCommand","removeChild","success","$contextmenu","items","label","hidden","handleSpeak","getAttribute","customClass","zIndex","minWidth","textMsg","lang","voice","rate","pitch","speak","openImagesClick","display","closeImagesClick","msgList","mergeNumber","merge_number","chunk_number","composeData","downFile","updateMsgStatusCallback","Clipboard","roomNum","tabshow","isLoading","isEnd","page","limit","Item","totalNum","chunkFileCallback","isChunk","updateStatus","targetObject","find","obj","mergeFileCallback","revokeMsgCallback","initLoadMsg","returnBottom","scrollToIndex","$nextTick","sendUserId","userId","div","reset","scrollToBottom","getdata","offTotal","MsgSend","virtualList","load","_l","is_online","count","noMore","loading","pages","Boolean","disabled","getUserList","datas","total","selectRoom","selectRoomId","max","off_delivered_count","msgNumList","wsmessageList","offMessageList","roomList","MsgTop","MsgBase","Messages","UserList","Room","onblur","onfocus","beforeDestroy","connecting","disconnect","reason","connected","connect_error","connect","handleClose","confirmButtonText","visibilitychange","visibilityState","beforeunloadHandler","returnValue","Login","requiresGuest","Register","Home","requiresAuth","requests","axios","create","baseURL","timeout","interceptors","request","config","store","Authorization","nprogress","router","reqUserLogin","method","reqUserRegister","reqAuth","reqAuthLogin","reqRoomInfo","id","reqRoomUserList","reqRoomList","reqLogout","reqGetMsg","reqUploadAudio","reqUploadFiles","reqUploadBase64","reqUploadPut","reqcheckChunkExis","reqUploadChunk","reqUploadMerge","setToken","getToken","getItem","removeToken","removeItem","userIsOnLine","mutations","USERLOGIN","GETUSERINFO","GETROOMINFO","ROOMUSERLIST","ISAUTHLOGIN","GETROOMList","actions","userLogin","commit","userRegister","authLogin","getRoomUserList","where","getRoomInfo","getRoomList","userLogout","getters","messageList","GETOFFMSGTOTAL","GETMESSAGELIST","GETHISTORYMESSAGELIST","GETTITLE","GETOFFMESSAGELIST","getTitle","context","split","includes","toString","getGetMsg","parms","oldMsg","msg_form","msg_content","pattern","matches","match","urlKey","replace","delivered","unshift","uploadAudio","uploadBase64","getMessage","next","sensitiveMsg","uploadChunk","uploadMerge","uploadFiles","Vuex","modules","VueRouter","originPush","originReplace","mode","routes","scrollBehavior","to","from","savedPosition","beforeEach","async","VueSocketIO","debug","connection","Manager","connectionStateRecovery","maxDisconnectionDuration","skipMiddlewares","reconnectionDelayMax","transports","query","autoConnect","toPath","Button","$msgbox","MessageBox","productionTip","ElementUI","VueAudio","MetaInfo","VueCookies","AudioVisual","uploader","h","App","beforeCreate","$bus","$API","API","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","loaded","__webpack_modules__","m","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","prop","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}