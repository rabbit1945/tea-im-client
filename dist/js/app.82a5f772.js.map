{"version":3,"file":"js/app.82a5f772.js","mappings":"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","sources":["webpack://webchat-view/./src/App.vue","webpack://webchat-view/src/App.vue","webpack://webchat-view/./src/App.vue?60e0","webpack://webchat-view/./src/App.vue?01fe","webpack://webchat-view/./src/pages/Register/index.vue","webpack://webchat-view/src/pages/Register/index.vue","webpack://webchat-view/./src/pages/Register/index.vue?6d39","webpack://webchat-view/./src/pages/Register/index.vue?d2c9","webpack://webchat-view/./src/pages/Login/index.vue","webpack://webchat-view/./src/utils/cookie.js","webpack://webchat-view/src/pages/Login/index.vue","webpack://webchat-view/./src/pages/Login/index.vue?a3d8","webpack://webchat-view/./src/pages/Login/index.vue?e059","webpack://webchat-view/./src/pages/Home/index.vue","webpack://webchat-view/./src/pages/Home/MsgTop/index.vue","webpack://webchat-view/src/pages/Home/MsgTop/index.vue","webpack://webchat-view/./src/pages/Home/MsgTop/index.vue?165e","webpack://webchat-view/./src/pages/Home/MsgTop/index.vue?802f","webpack://webchat-view/./src/pages/Home/MsgBase/index.vue","webpack://webchat-view/src/pages/Home/MsgBase/index.vue","webpack://webchat-view/./src/pages/Home/MsgBase/index.vue?10d8","webpack://webchat-view/./src/pages/Home/MsgBase/index.vue?1974","webpack://webchat-view/./src/pages/Home/Messages/index.vue","webpack://webchat-view/./src/pages/Home/MsgSend/index.vue","webpack://webchat-view/./src/pages/Home/uploadPut/index.vue","webpack://webchat-view/./src/utils/cache.js","webpack://webchat-view/src/pages/Home/uploadPut/index.vue","webpack://webchat-view/./src/pages/Home/uploadPut/index.vue?e833","webpack://webchat-view/./src/pages/Home/uploadPut/index.vue?5506","webpack://webchat-view/./src/pages/Home/Audio/index.vue","webpack://webchat-view/src/pages/Home/Audio/index.vue","webpack://webchat-view/./src/pages/Home/Audio/index.vue?ebd4","webpack://webchat-view/./src/pages/Home/Audio/index.vue?4e1d","webpack://webchat-view/src/pages/Home/MsgSend/index.vue","webpack://webchat-view/./src/pages/Home/MsgSend/index.vue?0928","webpack://webchat-view/./src/pages/Home/MsgSend/index.vue?aba9","webpack://webchat-view/./src/pages/Home/Item/index.vue","webpack://webchat-view/src/pages/Home/Item/index.vue","webpack://webchat-view/./src/pages/Home/Item/index.vue?9079","webpack://webchat-view/./src/pages/Home/Item/index.vue?0b08","webpack://webchat-view/src/pages/Home/Messages/index.vue","webpack://webchat-view/./src/pages/Home/Messages/index.vue?9249","webpack://webchat-view/./src/pages/Home/Messages/index.vue?5833","webpack://webchat-view/./src/pages/Home/UserList/index.vue","webpack://webchat-view/src/pages/Home/UserList/index.vue","webpack://webchat-view/./src/pages/Home/UserList/index.vue?02db","webpack://webchat-view/./src/pages/Home/UserList/index.vue?b993","webpack://webchat-view/./src/pages/Home/Room/index.vue","webpack://webchat-view/src/pages/Home/Room/index.vue","webpack://webchat-view/./src/pages/Home/Room/index.vue?cda2","webpack://webchat-view/./src/pages/Home/Room/index.vue?f7b0","webpack://webchat-view/src/pages/Home/index.vue","webpack://webchat-view/./src/pages/Home/index.vue?6fb8","webpack://webchat-view/./src/pages/Home/index.vue?28c0","webpack://webchat-view/./src/router/routes.js","webpack://webchat-view/./src/utils/token.js","webpack://webchat-view/./src/api/ajax.js","webpack://webchat-view/./src/api/mockAjax.js","webpack://webchat-view/./src/api/index.js","webpack://webchat-view/./src/store/user.js","webpack://webchat-view/./src/store/message.js","webpack://webchat-view/./src/store/upload.js","webpack://webchat-view/./src/store/index.js","webpack://webchat-view/./src/router/index.js","webpack://webchat-view/./src/utils/monitorZoom.js","webpack://webchat-view/./src/main.js","webpack://webchat-view/webpack/bootstrap","webpack://webchat-view/webpack/runtime/amd options","webpack://webchat-view/webpack/runtime/chunk loaded","webpack://webchat-view/webpack/runtime/compat get default export","webpack://webchat-view/webpack/runtime/define property getters","webpack://webchat-view/webpack/runtime/global","webpack://webchat-view/webpack/runtime/hasOwnProperty shorthand","webpack://webchat-view/webpack/runtime/make namespace object","webpack://webchat-view/webpack/runtime/node module decorator","webpack://webchat-view/webpack/runtime/jsonp chunk loading","webpack://webchat-view/webpack/startup"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"about\"}},[_c('router-view')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"about\">\n    \n      <router-view></router-view>\n\n    \n  </div>\n  \n</template>\n\n<script>\n\nexport default {\n  name: \"App\",\n  metaInfo() {\n    return {\n      title: this.$store.state.message.title, // set a title\n      meta: [{                 // set meta\n        name: 'keyWords',\n        content: 'lightning'\n      }],\n      link: [{                 // set link\n        rel: 'asstes',\n        href: 'https://assets-cdn.github.com/'\n      }]\n\n    }\n   \n  },\n  data () {\n    return {\n      title: \"闪电\"\n\n    }\n  },\n  mounted () {\n    document.oncontextmenu = function (e) {\n            return false;\n    }\n    var browerWidth = window.innerWidth; //浏览器可视宽度\n    console.log('browerWidth::',browerWidth);\n    var baseWidth = 1440; //设计稿宽度\n    var zoomValue = browerWidth / baseWidth; //缩放比例计算\n    document.getElementById(\"about\").style.transform = \"scale(\" + zoomValue + \",\" + zoomValue + \")\"; //mainContainer为主容器id\n    window.onresize = function () { //窗口尺寸变化时，重新计算和缩放\n      browerWidth = window.innerWidth;\n      zoomValue = browerWidth / baseWidth;\n      document.getElementById(\"about\").style.transform = \"scale(\" + zoomValue + \",\" + zoomValue + \")\";\n    }\n   },\n\n  destroyed() { //离开这个界面之后，删除滚动事件，不然容易除bug\n  },\n\n  methods:{\n   \n    \n  }\n  \n}\n</script>\n\n<style>\n#about {\n  \n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  /* text-align: center; */\n  color: #2c3e50;\n  /* 假设1rem等于100px */\n  margin: 0 auto;\n}\n</style>\n","import mod from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=a1d8cb28\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=a1d8cb28&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logon login-form\"},[_c('h1',[_vm._v(\"注册\")]),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\",\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"prop\":\"nick_name\",\"rules\":[\n            { required: true, message: '昵称不能为空'},\n            { type: 'string', required: true, min: 3, message: '昵称大于3个字符'}\n          ]}},[_c('el-input',{attrs:{\"type\":\"nick_name\",\"autocomplete\":\"off\",\"placeholder\":\"昵称\"},model:{value:(_vm.ruleForm.nick_name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"nick_name\", $$v)},expression:\"ruleForm.nick_name\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"login\",\"rules\":[\n            { required: true, message: '账号不能为空'},\n            { type: 'string', required: true, min: 3, message: '账号大于3个字符'}\n          ]}},[_c('el-input',{attrs:{\"type\":\"login\",\"autocomplete\":\"off\",\"placeholder\":\"账号\"},model:{value:(_vm.ruleForm.login),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"login\", $$v)},expression:\"ruleForm.login\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"rules\":[\n            { required: true, message: '密码不能为空'},\n            { type: 'string', required: true, min: 6, message: '密码大于6个字符'}\n\n          ]}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"密码\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"confirm_password\",\"rules\":[\n            { required: true, message: '密码不能为空'},\n            { type: 'string', required: true, min: 6, message: '密码大于6个字符'}\n\n          ]}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"确认密码\"},model:{value:(_vm.ruleForm.confirm_password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"confirm_password\", $$v)},expression:\"ruleForm.confirm_password\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"but\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"提交\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"logon login-form\">\n    <h1>注册</h1>\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" label-position = \"left\" class=\"demo-ruleForm \">\n      <el-form-item \n         prop=\"nick_name\"\n         :rules=\"[\n            { required: true, message: '昵称不能为空'},\n            { type: 'string', required: true, min: 3, message: '昵称大于3个字符'}\n          ]\"\n      >\n         <el-input type=\"nick_name\" v-model=\"ruleForm.nick_name\" autocomplete=\"off\" placeholder = \"昵称\"></el-input>\n\n      </el-form-item>\n\n        <el-form-item \n         prop=\"login\"\n         :rules=\"[\n            { required: true, message: '账号不能为空'},\n            { type: 'string', required: true, min: 3, message: '账号大于3个字符'}\n          ]\"\n         >\n         <el-input type=\"login\" v-model=\"ruleForm.login\" autocomplete=\"off\" placeholder = \"账号\"></el-input>\n\n        </el-form-item>\n        <el-form-item \n         prop=\"password\"\n         :rules=\"[\n            { required: true, message: '密码不能为空'},\n            { type: 'string', required: true, min: 6, message: '密码大于6个字符'}\n\n          ]\"\n         >\n        <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" placeholder=\"密码\"></el-input>\n        </el-form-item>   \n\n        <el-form-item \n         prop=\"confirm_password\"\n         :rules=\"[\n            { required: true, message: '密码不能为空'},\n            { type: 'string', required: true, min: 6, message: '密码大于6个字符'}\n\n          ]\"\n         >\n        <el-input type=\"password\" v-model=\"ruleForm.confirm_password\" autocomplete=\"off\" placeholder=\"确认密码\"></el-input>\n        </el-form-item>  \n\n           \n        <el-form-item>\n            <el-button class = \"but\" type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\n        </el-form-item>\n\n  \n            \n        \n    </el-form>\n\n</div>\n</template>\n \n <script>\n \n\n export default {\n  name: \"Register\",\n    data() {\n    \n      return {\n        ruleForm: {\n          nick_name:'',\n          login:'',\n          password: '',\n          confirm_password:'',\n        },\n        rules:{\n\n        },\n\n\n      };\n    },\n    mounted() {\n   \n     \n    },\n    methods: {\n    \n\n      \n      async submitForm(formName) {\n        this.$refs[formName].validate(async(valid) => {\n          if (valid) {\n            \n            try {\n              //登录成功\n              const { login, password,nick_name,confirm_password } = this.ruleForm;\n              \n              nick_name&&confirm_password&&login&&password&&(await this.$store.dispatch(\"userRegister\", { login, password,nick_name,confirm_password}).then (res => {\n              \n                  if (res.code !== 10000) {\n                    return this.$alert(res.msg)\n                  }\n                  // 登录成功跳转页面\n                 return this.$router.push('/login');\n                  }).catch(res=>{\n                    return this.$alert(res) \n                  }) \n              )  \n             \n            } catch (error) {\n              return this.$alert(error.message);\n                \n            }\n          } else {\n            return this.$alert(\"注册失败\") \n          }\n        });\n      },\n    }\n  }\n </script>\n \n <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n <style scoped>\n.but {\n    /* width: 300px !important; */\n    margin-left: 47px!important;\n}\n.login-form{\n    /* box-shadow: 0 2px 12px 0  ALICEBLUE;\n    border-radius: 8px;  */\n    width: 400px;\n    height: 300px;\n    max-width: 100%;\n    padding: 0px 35px 0; \n    margin:auto;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    \n}\n\n.logon input {\n    display: block;\n    width: 200px;\n    height: 30px;\n    margin-top: 10px;\n    margin-left: 100px;\n    font-size: 15px;\n    border: 1px solid aquamarine;\n    border-radius: 12px;\n    text-align: center;\n}\n.logon button {\n    width: 200px;\n    height: 40px;\n    margin-top: 10px;\n    margin-left: 100px;\n    background-color: aquamarine;\n    border: 1px solid transparent;\n    cursor: pointer;\n    border-radius: 12px;\n}\n    \n\n.logon h1 {\n    width: 200px;\n    height: 30px;\n    margin-top: 21px;\n    margin-left: 139px;    \n    margin-bottom: 30px;\n    padding-left: 67px;\n\n}\n.icon {\n  width: 1.5em;\n  height: 1em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n  font-size: 30px;\n  cursor: pointer;\n}\n\n.icon-login {\n  display: block;\n  margin-left: 100px;\n}\n\n\n </style>\n ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0fa2c81c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0fa2c81c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fa2c81c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"logon login-form\"},[_c('h1',[_vm._v(\"登录\")]),_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"status-icon\":\"\",\"rules\":_vm.rules,\"label-width\":\"100px\",\"label-position\":\"left\"}},[_c('el-form-item',{attrs:{\"prop\":\"login\",\"rules\":[\n      { required: true, message: '账号不能为空'},\n      { type: 'string', required: true, min: 3, message: '账号大于3个字符'}\n    ]}},[_c('el-input',{attrs:{\"type\":\"login\",\"autocomplete\":\"off\",\"placeholder\":\"账号\"},model:{value:(_vm.ruleForm.login),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"login\", $$v)},expression:\"ruleForm.login\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\",\"rules\":[\n            { required: true, message: '密码不能为空'},\n            { type: 'string', required: true, min: 6, message: '密码大于6个字符'}\n\n          ]}},[_c('el-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\",\"placeholder\":\"密码\"},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}})],1),_c('el-form-item',[_c('el-button',{staticClass:\"but\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"提交\")])],1),_c('div',[_c('span',{staticClass:\"icon-login\"},[_vm._v(\" 第三方账号登录 \"),_c('svg',{staticClass:\"icon\",attrs:{\"aria-hidden\":\"true\"},on:{\"click\":function($event){return _vm.getAuthLogin('gitee')}}},[_c('use',{attrs:{\"xlink:href\":\"#icon-gitee\"}})]),_c('span',{on:{\"click\":function($event){return _vm.register()}}},[_vm._v(\" 立即注册\")])])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Cookies from 'js-cookie'\n//存储Cache\nexport const setCache = (name,data) => {\n  Cookies.set(name,data)\n};\n//获取Cache\nexport const getCache = (name) => {\n  return Cookies.get(name);\n};\n\n//清除本地存储的Cache\nexport const removeCache=(name)=>{\n  Cookies.remove(name);\n}\n","<template>\n<div class=\"logon login-form\">\n    <h1>登录</h1>\n    <el-form :model=\"ruleForm\" status-icon :rules=\"rules\" ref=\"ruleForm\" label-width=\"100px\" label-position = \"left\" class=\"demo-ruleForm \">\n        <el-form-item \n         prop=\"login\"\n         :rules=\"[\n      { required: true, message: '账号不能为空'},\n      { type: 'string', required: true, min: 3, message: '账号大于3个字符'}\n    ]\"\n         >\n         <el-input type=\"login\" v-model=\"ruleForm.login\" autocomplete=\"off\" placeholder = \"账号\"></el-input>\n\n        </el-form-item>\n        <el-form-item \n         prop=\"password\"\n         :rules=\"[\n            { required: true, message: '密码不能为空'},\n            { type: 'string', required: true, min: 6, message: '密码大于6个字符'}\n\n          ]\"\n         >\n        <el-input type=\"password\" v-model=\"ruleForm.password\" autocomplete=\"off\" placeholder=\"密码\"></el-input>\n        </el-form-item>      \n        <el-form-item>\n            <el-button class = \"but\" type=\"primary\" @click=\"submitForm('ruleForm')\">提交</el-button>\n        </el-form-item>\n\n          <div>\n           \n            <span class=\"icon-login\">\n              第三方账号登录\n              <svg class=\"icon\" aria-hidden=\"true\" @click=\"getAuthLogin('gitee')\">\n                <use xlink:href=\"#icon-gitee\"></use>\n              </svg>\n\n              <!-- <svg class=\"icon\" aria-hidden=\"true\"  @click=\"getAuthLogin('github')\">\n                <use xlink:href=\"#icon-github-fill\"></use>\n              </svg>   -->\n              <span  @click=\"register()\"> 立即注册</span>\n              \n            </span>\n           \n          </div>\n          \n        \n    </el-form>\n\n</div>\n</template>\n \n <script>\n \n import { setCache, getCache,removeCache} from \"@/utils/cookie\";\n export default {\n    data() {\n    \n      return {\n        ruleForm: {\n          login:'',\n          password: '',\n        },\n        rules:{\n\n        },\n\n        oauthToken:getCache(\"oauthToken\"),\n        isAuthLogin:getCache(\"isAuthLogin\")\n      };\n    },\n    mounted() {\n      const oauthToken = this.oauthToken\n      const isAuthLogin = this.isAuthLogin\n\n      console.log('oauthToken',oauthToken,isAuthLogin);\n      if (oauthToken && isAuthLogin) {\n        \n        try {\n          // 登录\n          this.$store.dispatch(\"authLogin\", {\n              'oauthToken': oauthToken \n              }).then(res => {\n              if (res.code !== 10000) {\n                  return this.$alert(res.msg)\n              }\n              // 登录成功跳转页面\n              this.$router.push('/');\n            }).catch(res=>{\n                this.$alert(\"登录失败\") \n          })\n       \n        } catch (error) {\n            this.$alert(error.message);        \n        }\n\n      }\n\n     \n    },\n    methods: {\n      async getAuthLogin(name){\n        const oauthToken = this.oauthToken ?? \"\"\n\n        await this.$store.dispatch(\"getAuthLogin\",`?origin=${name}&oauthToken=${oauthToken}`).then(res => {\n          if (res.url && res.url.length > 0) {\n            \n            window.location.href = res.url\n\n          } \n          if (res.oauthToken && res.origin ) {\n            window.location.href = \"https://\"+ window.location.host \n\n          }\n          \n          \n        });\n\n      },\n\n      async register() {\n        console.log(\"-------------------\")\n        this.$router.push('/register');\n\n      },\n      async submitForm(formName) {\n        this.$refs[formName].validate(async(valid) => {\n          if (valid) {\n            \n            try {\n              //登录成功\n              const { login, password } = this.ruleForm;\n              \n              login&&password&&(await this.$store.dispatch(\"userLogin\", { login, password }).then (res => {\n                  if (res.code !== 10000) {\n                    return this.$alert(res.msg)\n                  }\n                  // 登录成功跳转页面\n                  this.$router.push('/');\n                  }).catch(res=>{\n                    this.$alert(\"登录失败\") \n                  }) \n              )  \n             \n            } catch (error) {\n              this.$alert(error.message);\n                \n            }\n          } else {\n            this.$alert(\"登录失败\") \n          }\n        });\n      },\n    }\n  }\n </script>\n \n <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n <style scoped>\n.but {\n    /* width: 300px !important; */\n    margin-left: 47px!important;\n}\n.login-form{\n    /* box-shadow: 0 2px 12px 0  ALICEBLUE;\n    border-radius: 8px;  */\n    width: 400px;\n    max-width: 100%;\n    padding: 0px 35px 0; \n    margin:auto;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n}\n\n.logon input {\n    display: block;\n    width: 200px;\n    height: 30px;\n    margin-top: 10px;\n    margin-left: 100px;\n    font-size: 15px;\n    border: 1px solid aquamarine;\n    border-radius: 12px;\n    text-align: center;\n}\n.logon button {\n    width: 200px;\n    height: 40px;\n    margin-top: 10px;\n    margin-left: 100px;\n    background-color: aquamarine;\n    border: 1px solid transparent;\n    cursor: pointer;\n    border-radius: 12px;\n}\n    \n\n.logon h1 {\n    width: 200px;\n    height: 30px;\n    margin-top: 21px;\n    margin-left: 139px;    \n    margin-bottom: 30px;\n    padding-left: 67px;\n\n}\n.icon {\n  width: 1.5em;\n  height: 1em;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n  font-size: 30px;\n  cursor: pointer;\n}\n\n.icon-login {\n  display: block;\n  margin-left: 100px;\n}\n\n.icon-login span {\n  cursor: pointer;\n}\n\n\n </style>\n ","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e15633b2&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=e15633b2&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e15633b2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-container',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"center\"}},[_c('div',{staticClass:\"wrap\"},[_c('MsgTop',{attrs:{\"room\":_vm.roomInfo}}),_c('MsgBase',{attrs:{\"userStatus\":_vm.userStatus}}),_c('Messages',{key:_vm.timer}),_c('UserList',{key:_vm.timer+ '-userList',attrs:{\"showUser\":true}}),_c('Room',{on:{\"roomUserList\":_vm.roomUserList}}),_c('router-view')],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-header',{staticClass:\"top\",staticStyle:{\"height\":\"60px\",\"width\":\"1221px\"}},[_c('span',{staticClass:\"chatRoomName\"},[_vm._v(_vm._s(_vm.room.roomName))]),_c('span',{staticClass:\"peopleNumber\"},[_vm._v(\" 在线 \"+_vm._s(_vm.room.countOnline)+\" 人 \")])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\n     <el-header  class=\"top\" style=\"height: 60px;width:1221px;\">\n      \n            <span class=\"chatRoomName\">{{ room.roomName }}</span>\n            <span class=\"peopleNumber\">\n               在线 {{ room.countOnline }} 人\n            </span>\n</el-header>\n </template>\n  \n  <script>\n  //引入store\n  // import store from \"@/store\";\n  export default {\n    name: \"MsgTop\",\n    data() {\n      return {\n        \n       }\n    },\nprops: ['room']\n  \n  }\n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n  /* 头部 */\n  .top {\n    line-height: 50px;\n    border-top-left-radius: 20px;\n    border-top-right-radius: 20px;\n    background-color: cadetblue;\n\n  }\n  </style>\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6dd57cc8&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6dd57cc8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6dd57cc8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-aside',{staticClass:\"base right_box\",attrs:{\"width\":\"260px\"}},[_c('div',[_c('img',{staticClass:\"userLogo\",attrs:{\"src\":_vm.userLogo,\"alt\":\"\"}}),(_vm.userStatus == 'online')?_c('span',{staticClass:\"userStatus\",staticStyle:{\"background-color\":\"blue\"}}):_vm._e(),_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.nickName))]),_c('div',{staticClass:\"bottom\"},[_c('div',{on:{\"click\":function($event){return _vm.onClick('service')}}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":\"/assets/images/gitee.png\"}})],1),_c('span',{staticStyle:{\"writing-mode\":\"horizontal-tb\",\"padding-right\":\"61px\",\"color\":\"azure\"}},[_vm._v(\"后端\")]),_c('div',{on:{\"click\":function($event){return _vm.onClick('client')}}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":\"/assets/images/gitee.png\"}})],1),_c('span',{staticStyle:{\"writing-mode\":\"horizontal-tb\",\"padding-right\":\"61px\",\"color\":\"azure\"}},[_vm._v(\"前端\")]),_c('div',{on:{\"click\":function($event){return _vm.onClick('yuque')}}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":\"/assets/images/yuque.png\"}})],1),_c('span',{staticStyle:{\"writing-mode\":\"horizontal-tb\",\"padding-right\":\"61px\",\"color\":\"azure\"}},[_vm._v(\"文档\")]),_c('div',{on:{\"click\":_vm.logout}},[_c('el-avatar',{attrs:{\"size\":40,\"src\":\"/assets/images/logout.png\"}})],1)])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\n<el-aside class=\"base right_box\" width=\"260px\">\n     <!-- 基础信息 -->\n     <div >\n          <!-- 用户头像 -->\n          <img class=\"userLogo\" :src= \"userLogo\" alt=\"\">\n          <span class=\"userStatus\" v-if = \"userStatus == 'online'\" style=\"background-color: blue;\"></span>\n          <span class=\"name\">{{ nickName }}</span> \n          <div class=\"bottom\">\n            <div  @click = \"onClick('service')\">\n              <el-avatar :size=\"40\"  src=\"/assets/images/gitee.png\"></el-avatar>\n            </div>\n            <span  style=\"writing-mode: horizontal-tb;padding-right: 61px;  color: azure;\">后端</span>\n\n            <div  @click = \"onClick('client')\">\n              <el-avatar :size=\"40\" src=\"/assets/images/gitee.png\"></el-avatar>\n            </div>\n            <span  style=\"writing-mode: horizontal-tb;padding-right: 61px;  color: azure;\">前端</span>\n\n            <div  @click = \"onClick('yuque')\">\n              <el-avatar :size=\"40\" src=\"/assets/images/yuque.png\"></el-avatar>\n            </div>\n            <span  style=\"writing-mode: horizontal-tb;padding-right: 61px;  color: azure;\">文档</span>\n\n            <div  @click = 'logout'>\n              <el-avatar :size=\"40\" src=\"/assets/images/logout.png\"></el-avatar>\n            </div>\n        \n          </div>\n         \n\n        \n    </div>\n<!-- el-aside -->\n  </el-aside>\n  \n  \n </template>\n  \n  <script>\n  \n\n  export default {\n    name: \"MsgBase\",\n    data() {\n      return {\n        \"nickName\":this.$store.state.user.userInfo.nick_name,\n        \"userLogo\": this.$store.state.user.userInfo.photo,\n        \"user_id\":this.$store.state.user.userInfo.user_id,\n        \"room_id\":this.$store.state.user.roomInfo.room_id,\n  \n      }\n    },\n    props:['userStatus'],\n\n    components: {\n      \n\n    },\n    methods:{\n    \n      logout(){\n        this.$confirm(\"请问是否退出账号？\")\n        .then(_ => {\n        \n          this.$store.dispatch('userLogout').then(res => {\n            if (res === true) {\n             \n              this.$socket.close()\n              this.$message({\n                type: 'success',\n                message: \"账号登出成功！！！\"\n              });\n              this.$router.push({name:'Login'});\n            }\n          })          \n          \n          \n          \n        })\n        .catch(_ => {});\n      },\n      onClick(type) {\n        if (type == 'client') {\n          window.location.href = 'https://gitee.com/gzy1991/tea-im-client'\n        }\n\n        if (type == 'service') {\n          window.location.href = 'https://gitee.com/gzy1991/tea-im-service'\n        }\n\n        if (type == 'yuque') {\n          window.location.href = 'https://www.yuque.com/yiyan-2j8fb/iugs0e'\n        }\n        \n      }\n    }\n  }\n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n\n\n\n  .base {\n    position: relative;\n    height: 800px;\n    min-height: 800px;\n    float: left;\n    border-right: 1px solid #fff;\n    border-bottom-left-radius: 20px;\n    background-color: cadetblue;\n    z-index: 1;\n   overflow: hidden;\n\n}\n\n.right_box {\n  flex: 1;\n}\n.userLogo {\n    width: 40px;\n    height: 40px;\n    border-radius: 20px;\n    margin: 40px 30px;\n\n\n}\n\n.bottom {\n    position: absolute;\n    bottom: 0px;\n    left: 20px;\n    cursor: pointer;\n  \n}\n\n.bottom span {\n  margin-top: 10px;\n}\n\n\n.logout {\n   \n    width: 40px;\n    height: 40px;\n   \n}\n\n.userStatus{\n  position: absolute; \n  top: 65px;\n  left: 60px;\n  width: 6px;\n  height: 6px;\n  border-radius: 3px;\n  background-color: grey;\n\n}\n\n.name {\n    width: 70px;\n    display: block;\n    font-size: 15px;\n    color: azure;\n    margin: -35px 23px;\n}\n  </style>\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3c60af38&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3c60af38&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c60af38\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-main',_vm._b({staticClass:\"message el-main\"},'el-main',_vm.message,false),[_c('virtual-list',{ref:\"returnBottom\",staticClass:\"msg-list\",attrs:{\"data-key\":'seq',\"data-sources\":_vm.historyMessageList,\"data-component\":_vm.itemComponent,\"keeps\":this.keeps,\"estimate-size\":this.estimateSize,\"start\":100},on:{\"totop\":_vm.totop,\"tobottom\":_vm.bottom,\"scroll\":_vm.onScroll,\"composeFile\":_vm.composeFile}})],1),_c('el-footer',{staticStyle:{\"margin-top\":\"2px\"}},[(_vm.msgNum > 0 && _vm.isBottom === false)?_c('el-badge',{staticClass:\"item msg-badge-down\",attrs:{\"value\":_vm.msgNum}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-arrow-down\"},on:{\"click\":_vm.getLocation}},[_vm._v(\"最新消息\")])],1):_vm._e(),(_vm.msgNum > 0 && _vm.isBottom === true)?_c('el-badge',{staticClass:\"item msg-badge-up\",attrs:{\"value\":_vm.msgNum}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-arrow-up\"},on:{\"click\":_vm.getLocation}},[_vm._v(\"最新消息\")])],1):_vm._e(),_c('MsgSend',{attrs:{\"proTitle\":_vm.title},on:{\"findNewMsg\":_vm.findNewMsg}}),_c('div',{staticClass:\"alertBox\",staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"myAlertBox\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"world\"},[_c('VEmojiPicker',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showDialog),expression:\"showDialog\"}],staticClass:\"msg-emoji\",on:{\"select\":_vm.selectMsg}}),_c('div',{staticClass:\"msg-button\"},[_c('el-button',{ref:\"emojis\",staticClass:\"msg-el-button\",staticStyle:{\"margin-left\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":_vm.toogleDialogEmoji}},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":\"/assets/images/emoji.png\"}})]),_c('div',{on:{\"click\":_vm.audioPermission}},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":\"/assets/images/mic.png\"}})]),_c('div',{staticClass:\"audio\"},[_c('Audio',{ref:\"permission\",on:{\"audioData\":_vm.audioData,\"statusClass\":_vm.statusClass}})],1),_c('button',{staticStyle:{\"margin-left\":\"60px\"},on:{\"click\":function($event){return _vm.btnClick()}}},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":\"/assets/images/jietu.png\"}})]),_c('button',{staticStyle:{\"margin-left\":\"25px\",\"margin-top\":\"6px\"},on:{\"click\":function($event){return _vm.upload()}}},[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":\"/assets/images/file.png\"}})])],1),_c('uploadPut',{ref:\"uploadFile\",on:{\"fileSuccess\":_vm.fileSuccess}}),(_vm.userRole == 0)?_c('at',_vm._b({style:(_vm.stateStatus),attrs:{\"members\":_vm.members,\"filter-match\":_vm.filterMatch,\"delete-match\":_vm.deleteMatch,\"name-key\":\"nick_name\"},on:{\"insert\":_vm.getValue},scopedSlots:_vm._u([{key:\"item\",fn:function(s){return [_c('span',{domProps:{\"textContent\":_vm._s(s.item.nick_name)}})]}}],null,false,1655236290)},'at',_vm.userList,false),[_c('div',{ref:\"input\",staticClass:\"msg-content\",attrs:{\"id\":\"sendMsg\",\"placeholder\":\"enter 发送消息  shift+@ 可以@他人，复制不可以哦！\",\"contenteditable\":\"\"},on:{\"keydown\":_vm.send}},[_vm._v(\" \"+_vm._s(_vm.emo)+\" \")])]):_vm._e(),_c('div',{staticClass:\"login\"},[(_vm.userRole == 1)?_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.login}},[_vm._v(\"请先登录...\")]):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"myDiv\",staticStyle:{\"display\":\"none\"}},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"action\":\"#\",\"on-change\":_vm.uploadFile,\"show-file-list\":true,\"auto-upload\":false}},[_vm._v(\" \"+_vm._s(_vm.fileList)+\" \"),_c('el-button',{ref:\"uploadfileBut\",attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"上传文件\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//存储Cache\nexport const setCache = (name,data) => {\n  localStorage.setItem(name, data);\n};\n//获取Cache\nexport const getCache = (name) => {\n  return localStorage.getItem(name);\n};\n\n//清除本地存储的Cache\nexport const removeCache=(name)=>{\n   localStorage.removeItem(name);\n}\n","<template>\n  <div class=\"myDiv\" style=\"display: none;\">\n      <el-upload class=\"upload-demo\" action=\"#\" :on-change=\"uploadFile\" :show-file-list=\"true\"  :auto-upload=\"false\" >\n          {{ fileList }}\n          <el-button size=\"small\" ref = \"uploadfileBut\" type=\"primary\" >上传文件</el-button>\n      </el-upload>\n  </div>\n</template>\n\n<script>\nimport SparkMD5 from \"spark-md5\";\nimport { setCache, getCache,removeCache} from \"@/utils/cache\";\nconst chunkSize =  3 * 1024 * 1024;//定义分片的大小 暂定为3M，方便测试\nconst  maxSize  = 100 *1024 * 1024; // 最大\nexport default {\n  name: 'uploadPut',\n  components: {},\n  props: {},\n  data() {\n      return {\n          fileList: [],\n          loadingFile: false,\n          user_id:this.$store.state.user.userInfo.user_id, // 用户ID\n          room_id:this.$store.state.user.roomInfo.room_id, // 房间ID\n          msgInfo:[],\n          type:false,\n          file:[]\n        \n        \n\n      }\n  },\n  watch: {},\n  computed: {},\n  methods: {\n      /**\n       * 上传文件\n       */\n      async uploadFile(File) {\n          // this.loadingFile = true\n          var self = this\n          //获取用户选择的文件\n          const file = File.raw\n          this.currentFile = file\n          //文件大小(大于100m再分片哦，否则直接走普通文件上传的逻辑就可以了，这里只实现分片上传逻辑)\n          const fileSize = File.size\n          if (fileSize > maxSize) {\n              this.$alert(\"上传文件小于\"+maxSize/1024/1024+\"M\");\n              return;\n          }\n          console.log(\"File::\",File);\n          // 放入文件列表\n          this.fileList = [{ \"name\": File.name }]\n          // 可以设置大于多少兆可以分片上传，否则走普通上传\n          if (fileSize <= chunkSize) {\n              console.log(\"普通：：\",fileSize,chunkSize)\n              const fileMd5 = await this.getFileMd5(file, 1);\n              var reader=new FileReader();\n              reader.readAsDataURL(file)\n              reader.onload = e => {\n                // 普通上传 \n                this.$store.dispatch(\"uploadPut\", {\n                    \"file\":e.target.result,\n                    \"fileName\":File.name,\n                    \"fileSize\":fileSize*1024\n\n                }).then(res => {\n                     if (res) {\n                      this.sendMsg(fileMd5,File.name,res.newFileName,1,fileSize,res.path,res.thumbPath,3)\n                     } else{\n                        this.$alert(\"上传失败\");\n                     }\n                     \n                })\n\n              }\n\n          } else {\n\n            //计算当前选择文件需要的分片数量\n            const chunkCount = Math.ceil(fileSize / chunkSize)\n            console.log(\"文件大小：\", (fileSize / 1024 / 1024) + \"Mb\", \"分片数：\", chunkCount)\n            //获取文件md5\n            const fileMd5 = await this.getFileMd5(file, chunkCount);\n            setCache(fileMd5,JSON.stringify(file))\n            console.log(\"向后端请求本次分片上传初始化\")\n\n            const initUploadParams = {\n                \"identifier\": fileMd5, //文件的md5\n                \"filename\": File.name, //文件名\n                \"totalChunks\": chunkCount, //分片的总数量\n                \"totalChunks\":fileSize,\n                \"file\":File\n            }\n    \n            // 上传大文件\n            this.checkChunkExis(initUploadParams,fileMd5,File,chunkCount,fileSize);\n\n          }\n             \n         \n      },\n\n    sendMsg(fileMd5,filename,newFileName,totalChunks,totalSize,mergePath,thumbPath,uploadStatus) {\n      \n      this.$emit('fileSuccess',{\n          \"room_id\":this.room_id,\n          \"identifier\":fileMd5,\n          \"filename\":filename,\n          \"newFileName\":newFileName,\n          \"totalChunks\":totalChunks,\n          \"totalSize\":totalSize,\n          \"mergePath\":mergePath,\n          \"uploadStatus\":uploadStatus,\n          \"thumbPath\":thumbPath,\n      });\n\n    },          \n\n    /**\n     * 上传大文件\n     * @param {*} initUploadParams \n     * @param {*} fileMd5 \n     * @param {*} File \n     * @param {*} chunkCount \n     * @param {*} fileSize \n     */\n    async checkChunkExis(initUploadParams,fileMd5,File,chunkCount,fileSize) {\n         // 调用后端检查文件上传情况接口\n         await this.$store.dispatch(\"checkChunkExis\", initUploadParams).then (res => {\n          \n              if (res.code !== 10000) {\n                 this.$alert(res.msg);\n                 return;\n              }\n              let uploadStatus = 0\n              if (res.data.type === 1) {         \n                uploadStatus = 3;   \n              } \n              this.sendMsg(fileMd5,File.name,res.data.newFileName,chunkCount,fileSize,res.data.mergePath,res.data.thumbPath,uploadStatus)\n              this.type = res.data.type\n              this.file = File\n\n                    \n             \n          })\n\n    },\n\n   \n      /**\n    * 获取文件MD5\n    * @param file\n    * @returns {Promise<unknown>}\n    */\n      getFileMd5(file, chunkCount) {\n          return new Promise((resolve, reject) => {\n              let blobSlice = File.prototype.slice || File.prototype.mozSlice || File.prototype.webkitSlice;\n              let chunks = chunkCount;\n              let currentChunk = 0;\n              let spark = new SparkMD5.ArrayBuffer();\n              let fileReader = new FileReader();\n\n              fileReader.onload = function (e) {\n                  spark.append(e.target.result);\n                  currentChunk++;\n                  if (currentChunk < chunks) {\n                      loadNext();\n                  } else {\n                      let md5 = spark.end();\n                      resolve(md5);\n                  }\n              };\n              fileReader.onerror = function (e) {\n                  reject(e);\n              };\n              function loadNext() {\n                  let start = currentChunk * chunkSize;\n                  let end = start + chunkSize;\n                  if (end > file.size) {\n                      end = file.size;\n                  }\n                  fileReader.readAsArrayBuffer(blobSlice.call(file, start, end));\n              }\n              loadNext();\n          });\n      },\n\n     async getMsg(data) {\n      \n        if (data.content_type != 0) {\n          this.msgInfo = data\n          let chunkCount = data.total_chunks\n          let fileSize   = data.file_size\n          let fileMd5    = data.md5\n          let newFileName = data.file_name\n          let seq = data.seq\n          if (this.type === 0) {\n            await  this.chunk(chunkCount,fileSize,fileMd5,newFileName,seq);\n          }\n         \n          \n        }\n\n      },\n      chunk(chunkCount,fileSize,fileMd5,newFileName,seq) {\n        let File = this.file\n        let num = 0\n        \n        for (var i = num; i < chunkCount; i++) {\n            //分片开始位置\n            let start = i * chunkSize\n                       //分片结束位置\n            let end = Math.min(fileSize, start + chunkSize)\n                        //取文件指定范围内的byte，从而得到分片数据\n            let chunkNumber = i\n            \n            let _chunkFile = File.raw.slice(start, end)\n            var reader=new FileReader();\n            reader.readAsDataURL(_chunkFile)\n\n            let uploadProgress = (chunkNumber+1)/chunkCount*100\n            reader.onload = e => {        \n              let data = {\n                \"seq\":seq,\n                \"user_id\":this.user_id,\n                \"room_id\":this.room_id,\n                \"identifier\":fileMd5,\n                \"filename\":File.name,\n                \"totalChunks\":chunkCount,\n                \"chunkNumber\":chunkNumber,\n                \"totalSize\":fileSize,\n                \"newFileName\":newFileName,\n                \"file\":e.target.result,\n                \"chunkSize\":chunkSize,\n                \"uploadProgress\":uploadProgress.toFixed(2) + '%'\n              }\n            console.log(\"开始上传第\" +chunkNumber + \"个分片\")\n              this.$socket.emit('chunkFile',data);  \n              \n                         }    \n\n        } \n\n\n       }\n    \n     \n  },\n  sockets: {\n\n    \n\n  },\n  created() { },\n  mounted() { }\n}\n</script>\n<style lang=\"less\" scoped>\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=78b80bb9&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78b80bb9\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowPermission),expression:\"isShowPermission\"}],ref:\"keypressSpace\",staticClass:\"msg-audio\",attrs:{\"tabindex\":\"1\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"space\",32,$event.key,[\" \",\"Spacebar\"]))return null;return _vm.startRecorder()}}},[_c('span',[_c('img',{staticClass:\"msg-img\",attrs:{\"src\":require(\"./images/mic.png\")}}),_vm._v(\"按空格开始/结束。 \"),_c('el-button',{attrs:{\"round\":\"\",\"size\":\"mini\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.outPlay()}}},[_vm._v(\"退出\")])],1),_c('span',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.startEnd && _vm.countdownimes === 0),expression:\"startEnd && countdownimes === 0\"}],staticClass:\"times\"},[_vm._v(_vm._s(_vm.satrtTime))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.startEnd && _vm.countdownimes > 0),expression:\"startEnd && countdownimes > 0\"}],staticClass:\"times\"},[_vm._v(_vm._s(_vm.countdownimes)+\" 10秒之后自动发送\")]),_c('canvas',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.startEnd),expression:\"startEnd\"}],staticClass:\"canvas\",attrs:{\"id\":\"canvas\"}})])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    \n    <!-- <Button type=\"info\" @click=\"startRecorder()\">开始录音</Button>  -->\n    <div tabindex=\"1\" ref = 'keypressSpace'  class = \"msg-audio\"  v-show=\"isShowPermission\" @keypress.space = \"startRecorder()\" > \n      \n        <span>  \n          <img class = \"msg-img\" src=\"./images/mic.png\">按空格开始/结束。  \n          <el-button round size=\"mini\" type=\"success\" @click=\"outPlay()\">退出</el-button>\n        </span>\n        <span>\n          <div v-show=\"startEnd && countdownimes === 0\" class = \"times\">{{satrtTime}}</div>\n          <div v-show=\"startEnd && countdownimes > 0\" class = \"times\">{{countdownimes}} 10秒之后自动发送</div>\n          <canvas v-show=\"startEnd\" id=\"canvas\"  class = \"canvas\"></canvas>\n        </span>       \n    </div>\n   \n    <!-- <canvas id=\"playChart\" class = \"canvas\"></canvas> -->\n    \n  </div>\n</template>\n \n<script>\n  import Recorder from 'js-audio-recorder'\n  const lamejs = require('lamejstmp')\n  const recorder = new Recorder({\n    sampleBits: 16,                 // 采样位数，支持 8 或 16，默认是16\n    sampleRate: 11025,              // 采样率，支持 11025、16000、22050、24000、44100、48000，根据浏览器默认值，我的chrome是48000\n    numChannels: 1,                 // 声道，支持 1 或 2， 默认是1\n    compiling: true, // 是否边录边转换，默认是false\n  })\n \n  // 绑定事件-打印的是当前录音数据\n  // recorder.onprogress = function(params) {\n  //   console.log('--------------START---------------')\n  //   // console.log('录音时长(秒)', params.duration);\n  //   console.log('录音大小(字节)', params.fileSize);\n  //   console.log('录音音量百分比(%)', params.vol);\n  //   console.log('当前录音的当前部分', params.getNextData);\n\n  //   console.log('当前录音的总数据([DataView, DataView...])', params.getWholeData);\n  //   console.log('--------------END---------------')\n  // }\n  \n  export default {\n    name: 'Audio',\n    data () {\n      return {\n        //波浪图-录音\n        drawRecordId:null,\n        oCanvas : null,\n        ctx : null,\n        //波浪图-播放\n        drawPlayId:null,\n        pCanvas : null,\n        pCtx : null,\n        startEnd: false,\n        isShowPermission:false,\n        satrtTime:0, //开始计时时间\n        endTime:60,//结束计时时间\n        countdownimes: 0, // 倒计时\n\n      }\n    },\n    mounted(){     \n        this.startCanvas();\n    },\n  \n  \n    methods: {\n      /**\n       * 波浪图配置\n       * */\n      startCanvas(){\n        //录音波浪\n        this.oCanvas = document.getElementById('canvas');\n        this.ctx = this.oCanvas.getContext(\"2d\");\n        //播放波浪\n        // this.pCanvas = document.getElementById('playChart');\n        // this.pCtx = this.pCanvas.getContext(\"2d\");\n      },\n\n      outPlay() {\n        \n        this.stopRecorder();\n        this.startEnd = false;\n        this.isShowPermission = false;\n        this.$emit('statusClass',{'status':false}); \n       \n      },\n \n      /**\n       *  录音的具体操作功能\n       * */\n      // 开始录音/结束录音\n      startRecorder () {\n        \n        if ( this.startEnd === false) {\n           recorder.start().then(() => {\n            this.startEnd = true;\n            this.drawRecord();//开始绘制图片\n            \n            }, (error) => {\n              this.stopRecorder();\n                this.getRecorder();\n              this.startEnd = true;\n             \n              // 出错了\n              console.log(\"error:\",error);\n            });\n           \n        } else {\n          this.stopRecorder();\n          this.getRecorder();\n         \n          this.startEnd = false;\n\n        }\n        \n      },\n      // 继续录音\n      resumeRecorder () {\n        recorder.resume()\n      },\n      // 暂停录音\n      pauseRecorder () {\n        recorder.pause();\n        this.drawRecordId && cancelAnimationFrame(this.drawRecordId);\n        this.drawRecordId = null;\n      },\n      // 结束录音\n      stopRecorder () {\n        recorder.stop()\n        this.drawRecordId && cancelAnimationFrame(this.drawRecordId);\n        \n        this.drawRecordId = null;\n      },\n      // 录音播放\n      playRecorder () {\n        recorder.play();\n        this.drawPlay();//绘制波浪图\n      },\n      // 暂停录音播放\n      pausePlayRecorder () {\n        recorder.pausePlay()\n      },\n      // 恢复录音播放\n      resumePlayRecorder () {\n        recorder.resumePlay();\n        this.drawPlay();//绘制波浪图\n      },\n      // 停止录音播放\n      stopPlayRecorder () {\n        recorder.stopPlay();\n      },\n      // 销毁录音\n      destroyRecorder () {\n        recorder.destroy().then(function() {\n          recorder = null;\n          this.drawRecordId && cancelAnimationFrame(this.drawRecordId);\n          this.drawRecordId = null;\n        });\n      },\n      /**\n       *  获取录音文件\n       * */\n      getRecorder(){\n        let toltime =parseInt(recorder.duration) ;//录音总时长\n        let fileSize = recorder.fileSize;//录音总大小\n        const mp3Blob = this.convertToMp3(recorder.getWAV());\n        \n        this.uploadWAVData(mp3Blob,toltime,fileSize)\n      },\n      /**\n       *  下载录音文件\n       * */\n      //下载pcm\n      downPCM(){\n        //这里传参进去的时文件名\n        recorder.downloadPCM('新文件');\n      },\n      //下载wav\n      downWAV(){\n        //这里传参进去的时文件名\n        recorder.downloadWAV('新文件');\n      },\n\n          //上传wav录音数据\n    uploadWAVData(wavBlob,toltime,fileSize) {\n      \n      var formData = new FormData()\n      // // 此处获取到blob对象后需要设置fileName满足当前项目上传需求，其它项目可直接传把blob作为file塞入formData\n      // const newbolb = new Blob([wavBlob], { type: 'audio/wav' })\n      // // 获取当时时间戳作为文件名\n      let fileName = new Date().getTime() + '.mp3';\n      const fileOfBlob = new File([wavBlob], fileName)\n      formData.append(\"file\",fileOfBlob)\n      this.$emit('audioData',{\n        \"formData\":formData,\n        \"toltime\":toltime,\n        \"fileSize\":fileSize,\n        \"fileName\":fileName\n      });\n\n    },\n      /**\n       *  获取麦克风权限\n       * */\n      getPermission(){\n        if (!this.isShowPermission) {\n          Recorder.getPermission().then(() => {\n            console.log(\"获取权限成功\")\n            this.isShowPermission = true\n            this.$emit('statusClass',{'status':true});\n          }, (error) => {\n            console.log(`${error.name} : ${error.message}`);\n            this.$alert(\"请开启麦克风权限\")           \n          });\n        } else {\n          this.isShowPermission = false\n          this.$emit('statusClass',{'status':false});\n        }\n       \n      },\n      /**\n       * 文件格式转换 wav-map3\n       * */\n      getMp3Data(){\n        const mp3Blob = this.convertToMp3(recorder.getWAV());\n        recorder.download(mp3Blob, 'recorder', 'mp3');\n      },\n      convertToMp3(wavDataView) {\n        // 获取wav头信息\n        const wav = lamejs.WavHeader.readHeader(wavDataView); // 此处其实可以不用去读wav头信息，毕竟有对应的config配置\n        const { channels, sampleRate } = wav;\n        const mp3enc = new lamejs.Mp3Encoder(channels, sampleRate, 128);\n        // 获取左右通道数据\n        const result = recorder.getChannelData()\n        const buffer = [];\n \n        const leftData = result.left && new Int16Array(result.left.buffer, 0, result.left.byteLength / 2);\n        const rightData = result.right && new Int16Array(result.right.buffer, 0, result.right.byteLength / 2);\n        const remaining = leftData.length + (rightData ? rightData.length : 0);\n \n        const maxSamples = 1152;\n        for (let i = 0; i < remaining; i += maxSamples) {\n          const left = leftData.subarray(i, i + maxSamples);\n          let right = null;\n          let mp3buf = null;\n \n          if (channels === 2) {\n            right = rightData.subarray(i, i + maxSamples);\n            mp3buf = mp3enc.encodeBuffer(left, right);\n          } else {\n            mp3buf = mp3enc.encodeBuffer(left);\n          }\n \n          if (mp3buf.length > 0) {\n            buffer.push(mp3buf);\n          }\n        }\n \n        const enc = mp3enc.flush();\n \n        if (enc.length > 0) {\n          buffer.push(enc);\n        }\n       \n        return new Blob(buffer, { type: \"audio/mp3\" });\n      },\n \n      /**\n       * 绘制波浪图-录音\n       * */\n      drawRecord () {\n       \n        this.satrtTime = parseInt(recorder.duration);//开始计时\n        //  剩余10秒倒计时\n        let countdownime = this.endTime - this.satrtTime;\n     \n        if (countdownime <=10 && countdownime > 0 ) {        \n            this.countdownimes = this.endTime - this.satrtTime;\n          \n            if (this.countdownimes == 0 && this.startEnd) {\n              this.stopRecorder();\n              this.getRecorder();\n              this.startEnd = false;\n              this.satrtTime = 0;\n              this.countdownimes = 0;\n              return true;\n\n            } \n          \n        }\n        // 用requestAnimationFrame稳定60fps绘制\n        this.drawRecordId = requestAnimationFrame(this.drawRecord);\n \n        // 实时获取音频大小数据\n        let dataArray = recorder.getRecordAnalyseData(),\n            bufferLength = dataArray.length;\n \n        // 填充背景色\n        this.ctx.fillStyle = 'rgb(200, 200, 200)';\n        this.ctx.fillRect(0, 0, this.oCanvas.width, this.oCanvas.height);\n \n        // 设定波形绘制颜色\n        this.ctx.lineWidth = 2;\n        this.ctx.strokeStyle = 'rgb(0, 0, 0)';\n \n        this.ctx.beginPath();\n        \n        var sliceWidth = this.oCanvas.width * 1.0 / bufferLength, // 一个点占多少位置，共有bufferLength个点要绘制\n                x = 0;          // 绘制点的x轴位置\n \n        for (var i = 0; i < bufferLength; i++) {\n          var v = dataArray[i] / 128.0;\n          var y = v * this.oCanvas.height / 2;\n \n          if (i === 0) {\n            // 第一个点\n            this.ctx.moveTo(x, y);\n          } else {\n            // 剩余的点\n            this.ctx.lineTo(x, y);\n          }\n          // 依次平移，绘制所有点\n          x += sliceWidth;\n        }\n \n        this.ctx.lineTo(this.oCanvas.width, this.oCanvas.height / 2);\n        this.ctx.stroke();\n      },\n      /**\n       * 绘制波浪图-播放\n       * */\n      drawPlay () {\n        // 用requestAnimationFrame稳定60fps绘制\n        this.drawPlayId = requestAnimationFrame(this.drawPlay);\n        // 实时获取音频大小数据\n        let dataArray = recorder.getPlayAnalyseData(),\n                bufferLength = dataArray.length;\n        // 填充背景色\n        this.pCtx.fillStyle = 'rgb(200, 200, 200)';\n        this.pCtx.fillRect(0, 0, this.pCanvas.width, this.pCanvas.height);\n \n        // 设定波形绘制颜色\n        this.pCtx.lineWidth = 2;\n        this.pCtx.strokeStyle = 'rgb(0, 0, 0)';\n \n        this.pCtx.beginPath();\n\n        var sliceWidth = this.pCanvas.width * 1.0 / bufferLength, // 一个点占多少位置，共有bufferLength个点要绘制\n                x = 0;          // 绘制点的x轴位置\n \n        for (var i = 0; i < bufferLength; i++) {\n          var v = dataArray[i] / 128.0;\n          var y = v * this.pCanvas.height / 2;\n \n          if (i === 0) {\n            // 第一个点\n            this.pCtx.moveTo(x, y);\n          } else {\n            // 剩余的点\n            this.pCtx.lineTo(x, y);\n          }\n          // 依次平移，绘制所有点\n          x += sliceWidth;\n        }\n \n        this.pCtx.lineTo(this.pCanvas.width, this.pCanvas.height / 2);\n        this.pCtx.stroke();\n      }\n \n    },\n \n  }\n</script>\n \n<style  scoped>\n.msg-audio {\n  text-align: center;\n  margin-top: -28px;\n  outline: none;\n}\n\n.times {\n margin:5px 0;\n}\n.canvas {\n  width: 150px;\n  height: 30px; \n  position:relative;\n  /* top: -70px;\n  left:270px; */\n  border-radius: 30px;\n  z-index: 1;\n\n}\n.audio-tips {\n  width: 89.3vw;\n  position: absolute;\n  top: 0vh;\n  text-align: center;\n  z-index: 1;\n  background-color: rgba(245,245,245,1.7);\n  height: 10vh;\n  border-collapse: collapse;\n}\n .msg-img {\n    width: 25px;\n    height: 25px; \n    padding-top: 10px;\n\n  }\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9b43a6a8&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9b43a6a8&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9b43a6a8\",\n  null\n  \n)\n\nexport default component.exports"," <template>\n     <div class=\"world\">\n      <VEmojiPicker class = \"msg-emoji\" v-show = \"showDialog\"   @select=\"selectMsg\"/>     \n      <div class=\"msg-button\">       \n        <el-button style=\"margin-left: 10px\" @click=\"toogleDialogEmoji\" ref=\"emojis\" type=\"primary\" class = \"msg-el-button\">\n          <img class = \"msg-img\" src=\"/assets/images/emoji.png\">\n        </el-button>\n        <div @click=\"audioPermission\">\n          <img  class = \"msg-img\" src=\"/assets/images/mic.png\">\n        </div>\n        <div class=\"audio\"><Audio v-on:audioData = 'audioData' v-on:statusClass = 'statusClass' ref = 'permission'/> </div>\n        <button @click=\"btnClick()\" style=\"margin-left: 60px\">  <img class = \"msg-img\" src=\"/assets/images/jietu.png\"></button>\n        <button  @click=\"upload()\" style=\"margin-left: 25px;margin-top: 6px;\"><img class = \"msg-img\" src=\"/assets/images/file.png\"></button>\n      </div>\n      \n      <uploadPut ref=\"uploadFile\" v-on:fileSuccess=\"fileSuccess\"/> \n\n      <at\n      v-if=\"userRole == 0\"\n       :style= stateStatus\n       :members=\"members\" \n       :filter-match=\"filterMatch\"\n       :delete-match=\"deleteMatch\"\n       @insert=\"getValue\"\n       v-bind=\"userList\" \n       name-key=\"nick_name\">\n        <template slot=\"item\" slot-scope=\"s\">\n          <!-- <img :src=\"s.item.avatar\"> -->\n          <span v-text=\"s.item.nick_name\"></span>\n        </template>\n        <div\n          ref=\"input\"\n          id = \"sendMsg\"\n          class=\"msg-content\" \n          @keydown=\"send\"\n          placeholder=\"enter 发送消息  shift+@ 可以@他人，复制不可以哦！\"\n                  contenteditable>\n             {{ emo }} \n        </div>  \n\n      </at>\n      <div class=\"login\"><el-button  v-if=\"userRole == 1\" @click=\"login\" type=\"primary\" round>请先登录...</el-button></div>\n\n      </div>\n </template>\n  \n  <script>  \n  import uploadPut from '../uploadPut';\n  import ScreenShort from 'js-web-screen-shot'\n  import {VEmojiPicker} from 'v-emoji-picker';\n  import Audio from '../Audio'\n  import At from 'vue-at'\n  export default {\n    name: \"MsgSend\",\n    components: {\n      VEmojiPicker,\n      Audio,\n      At,\n      uploadPut\n    \n    },\n    data(){\n      return {\n        title:\"闪电\",\n        text:\"\", // 消息\n        showDialog:false,\n        drawer: false,\n        direction: 'btt',\n        user_id:this.$store.state.user.userInfo.user_id, // 用户ID\n        userRole:this.$store.state.user.userInfo.user_role,\n        nick_name:this.$store.state.user.userInfo.nick_name, // 昵称\n        userLogo:this.$store.state.user.userInfo.photo, // 头像\n        room_id:this.$store.state.user.roomInfo.room_id, // 房间ID\n        audio:{}, // 音频数据\n        atStatus:false,    // 是否显示@他人的用户表单\n        sumNoticeOtherUser:0,\n        countStr:0, // 统计字符的数量\n        members: [], // @ 用户列表\n        contactList:[], // 需要通知的列表\n        fileList:[],\n        headers:{\n          \"Authorization\":'Bearer'+' '+ this.$store.state.user.token\n        },\n        imagesExt:[\n        'png', 'jpg', 'jpeg', 'bmp', 'gif', 'webp', 'psd', 'svg', 'tiff'\n        ],\n        audioExt: [\n          'mp3','wav','wma','flac','midi','ra','aac','cda','mov','wavpack','ape'\n        ],\n        videoExt:[\n          'avi','wmv','mpg','mov','rm','ram','swf','flv','mp4'\n\n        ],\n        fileName:\"\",\n        fileSize:0,\n        stateStatus:\"display:block;\",\n        emo:\"\"\n\n\n\n      }\n    },\n    metaInfo() {\n        return {\n          title: this.$store.state.message.title, // set a title \n          \n        }\n    },\n      \n    sockets: {\n      async roomCallback (result) { \n\n        console.log(\"roomCallback::\",result)\n        var data = result.data\n        if (result.code != 10000 || data.length <=0 ) return this.$alert(\" 请求失败，请重新请求\");\n        var user_id = data.user_id\n        var room_id = data.room_id\n        var contactList = data.contactList\n\n        // 获取服务端发来的数据\n        await this.$store.dispatch(\"getMessage\", data).then(res =>{\n            this.$refs.uploadFile.getMsg(data);\n              // 定位最新数据的位置\n            this.$emit('findNewMsg',{\"sendUserId\":user_id,\"userId\":this.user_id,\"room_id\":room_id})\n    \n            this.contactList = []\n            // 默认音频的大小\n            this.audio.fileSize = 0\n            // 动态设置title\n            this.$store.dispatch(\"getTitle\", {\n              \"user_id\":user_id,\n              \"contactList\":contactList\n            }).then(res =>{\n              this.title = this.$store.state.message.title;\n            })\n\n        }); \n       \n\n      }\n    },\n    mounted(){ \n      // window.addEventListener(\"keydown\",this.send,true);\n      document.addEventListener(\"click\", this.handleMousedown)\n\n    },\n    destroyed() {\n      // window.removeEventListener(\"keydown\",this.send,true);\n      window.removeEventListener('click', this.handleMousedown)//监听鼠标按下\n    },\n    computed:{\n      userList:{\n        get() {\n          this.members = this.$store.state.user.roomUserList.userList\n        }\n      }\n    },\n  \nmethods: {\n\n  login() {\n        this.$router.push('/login')\n      },\n\n      handleMousedown(e) {\n        if(this.userRole === 1 ) return;\n\n        if (this.showDialog && !this.$el.contains(event.target)) {\n            this.toogleDialogEmoji()\n          }\n      \n      },\n      send(event) {\n        \n        if (window.event.code =='Enter')\n        {\n         \n          this.msgSend(event);\n        }  \n      },\n\n      audioPermission() {\n        this.$refs.permission.getPermission();\n\n      },\n      handleBeforeupload(file){\n        this.fileName = file.name\n        this.fileSize = file.size\n      },\n      \n      /**\n       * 上传成功\n       * @param {*} err \n       * @param {*} file \n       * @param {*} fileLis \n       */\n      handleError(err, file, fileLis){\n        this.$alert(\"文件上传失败，请重新上传！！！\")\n      },\n\n      /**\n       * 上传成功\n       * @param {*} response \n       * @param {*} file \n       * @param {*} fileList \n       */\n      handleSuccess(response) {\n        \n          if (response.code === 10000 ) {\n            let data = response.data\n            if (Object.keys(data).length > 0) {\n              let file = data.file\n              let fileName = data.fileName\n              //获取最后一个.的位置\n              let index= fileName.lastIndexOf(\".\");\n              //获取后缀\n              let ext = fileName.substr(index+1);\n              // 获取文件类型 \n              let content_type = this.fileExt(ext)\n            \n              this.sendAudio({\n                \"file_name\":fileName,\n                \"file_size\":data.fileSize,\n                \"path\":file,\n                \"content_type\":content_type\n              })\n            }\n\n          } else {\n            this.$alert(\"文件上传失败，请重新上传！！！\")\n          }\n          \n\n      },\n\n      fileExt(ext){\n        let content_type = 0\n        if (this.imagesExt.indexOf(ext.toLowerCase()) !== -1)\n        {\n          content_type = 2\n        } else if(this.audioExt.indexOf(ext.toLowerCase()) !== -1) {\n          content_type = 1\n        } else if(this.videoExt.indexOf(ext.toLowerCase()) !== -1) {\n          content_type = 4\n        } else {\n          content_type = 3\n        }\n        return content_type;\n\n      },\n      \n    \n      upload() {\n        if (this.userRole === 1 ) return;\n        let filebutton = this.$refs.uploadFile.$refs.uploadfileBut;\n        filebutton.$el.click() \n      },\n \n      btnClick() {\n           if (this.userRole === 1 ) return;\n          // 更多参数 和使用可以看它包里面的README.md文件\n          const screenShotHandler = new ScreenShort({\n            // 是否启用webrtc，值为boolean类型，值为false则使用html2canvas来截图\n            enableWebRtc: false,\n            // 层级级别，这个要比你页面上其他元素的z-index的值大，不然截不了\n            level: 2001,\n            // saveCallback:(code, msg) => {\n            //   // 在此处根据实际业务需要通过参数做判断即可\n            //   console.log(code,msg);\n            // },\n            completeCallback: this.callback, // 截图成功完成的回调\n            closeCallback: this.closeFn, // 截图取消的回调\n            canvasWidth:  window.innerWidth,\n            canvasHeight:  window.innerHeight,\n          })\n      },\n        \n      callback(base64data,cutInfo) {\n        this.$store.dispatch(\"uploadBase64\", base64data).then(res => {\n          console.log(\"uploadFiles\",res);\n          let path = res.file\n          let input = this.$refs.input\n          let innerHTML = input.innerHTML  \n          let data = JSON.stringify(base64data)\n          let val = innerHTML + \"<img id = 'image' src=\" + path + \">\"\n          input.innerHTML = val\n        })\n      \n\n      },\n\n      convertImageToCanvas(image) {\n          var canvas = document.createElement('canvas')\n          canvas.width = image.width\n          canvas.height = image.height\n          canvas.getContext('2d').drawImage(image, 0, 0)\n          return canvas\n      },\n\n      closeFn() {\n        // 取消截图的回调\n      },\n\n   \n     // 过滤联系人\n      filterMatch(name, chunk) {\n        return name.toLowerCase().indexOf(chunk.toLowerCase()) === 0;\n      },\n      // 删除联系人\n      deleteMatch(name, chunk, suffix) {\n          this.contactList = this.contactList.filter(\n                  item => item.nick_name!= chunk.trim()\n          );\n          console.log(\"deleteMatch:\",this.contactList);\n        return chunk === name + suffix;\n      },\n      // 获取联系人\n      getValue(val) {\n          this.atStatus = true\n          this.contactList.push({\n          \"nick_name\":val.nick_name,\n          \"is_robot\":val.is_robot,\n          \"photo\":val.photo,\n          \"room_id\":val.photo,\n          \"user_id\":val.user_id,\n          \"content_type\":val.content_type,\n          \"room_id\":val.room_id,\n         });\n        \n      },\n     \n      /**\n       * 音频\n       * @param {*} val \n       */\n      audioData(val) {   \n        if (val) {\n           this.$store.dispatch(\"uploadAudio\", val.formData).then(res => {\n              let path = res.file \n              let fileName =  res.fileName \n              //获取最后一个.的位置\n              let index= fileName.lastIndexOf(\".\");\n              //获取后缀\n              let ext = fileName.substr(index+1);\n              // 获取文件类型 \n              let content_type = this.fileExt(ext)\n              this.audio = {\n                'path':path,\n                'file_name':fileName,\n                'file_size':val.fileSize,\n                \"content_type\":content_type\n              }\n              this.sendAudio(this.audio)           \n          })\n        } else {\n           tihs.alert(\"语音出现问题，请重试！！！\");\n           return false;\n        }\n        \n      },\n\n      // 上传文件\n      fileSuccess(val) {\n        if (val) {\n            let path = val.mergePath  \n            let filename = val.filename\n            //获取最后一个.的位置\n            let index= filename.lastIndexOf(\".\");\n            //获取后缀\n            let ext = filename.substr(index+1);\n            // 获取文件类型 \n            val.content_type =  this.fileExt(ext)\n            val.file_name =  val.newFileName\n            val.original_file_name = filename\n            val.file_size = val.totalSize\n            val.md5 = val.identifier\n            val.path = path\n            console.log(\"上传文件::\",val)\n            this.sendAudio(val)\n\n        }\n\n      },\n\n      statusClass(val) {\n       console.log(\"状态::\",val)\n        let style = \"display: block;\"\n        if (val.status === true) {\n          style = \"display: none;\"\n        }\n        this.stateStatus = style\n      },\n      selectMsg(val) {\n        if(this.userRole === 1 ) return;\n        // 选择emoji后调用的函数\n         // 定义最后光标对象\n        var lastEditRange;\n        let input = this.$refs.input\n       \n        let selection = getSelection()\n        // 编辑框获得焦点\n        input.focus() \n        // 获取选定对象\n        let range = []\n        if (selection.rangeCount > 0) {\n            // 获取选定对象\n            range = selection.getRangeAt(0);\n            // 判断是否有最后光标对象存在\n            if (lastEditRange) {\n                // 存在最后光标对象，选定对象清除所有光标并添加最后光标还原之前的状态\n                selection.removeAllRanges()\n                selection.addRange(lastEditRange)\n            } \n            // 获取光标对象的范围界定对象，一般就是textNode对象\n            let textNode = range.startContainer;\n            let rangeStartOffset = range.startOffset\n            if (rangeStartOffset > 0) {\n              // 文本节点在光标位置处插入新的表情内容\n              textNode.insertData(rangeStartOffset, val.data)\n              // 光标移动到到原来的位置加上新内容的长度\n              range.setStart(textNode, rangeStartOffset + val.data.length)\n              // 光标开始和光标结束重叠\n              range.collapse(true)\n              // 清除选定对象的所有光标对象\n              selection.removeAllRanges()\n              // 插入新的光标对象\n              selection.addRange(range)\n              // 无论如何都要记录最后光标对象\n              lastEditRange = selection.getRangeAt(0)  \n            } else {\n              this.emo =  val.data\n              selection.removeAllRanges()\n         \n            }\n            \n        }\n      },\n      //打开表情弹窗\n      toogleDialogEmoji () {\n        this.showDialog = !this.showDialog\n      },\n\n      // 发送\n      msgSend(event){\n        if(this.userRole === 1 ) return;\n        this.$socket.open(); \n        let html = document.getElementById('sendMsg');\n        let text = this.spaceTrim(html.innerText)\n        if (text.length === 0) {  \n          this.$alert(\"你好，客官你还没有添写消息呢！！！\"); \n          return;   \n        }   \n        \n        let messgae = html.innerHTML;\n        let contactList =  this.contactList\n        let content_type = 0; // 文本\n        if (this.audio.fileSize > 0) {\n           messgae = this.audio.file;\n           content_type = 1; // 音频\n        } \n        let msgData = this.msgInfo()\n        msgData.msg = messgae\n        msgData.content_type = content_type\n        msgData.contactList = contactList      \n        html.innerHTML = \"\"\n        this.$socket.volatile.emit('room',msgData); \n        event.preventDefault();  \n      }, \n      spaceTrim(val){\n          return val.replace(/(^\\s*)|(\\s*$)/g, \"\");\n      },\n\n      /**\n       * 发送音频图片文本\n       */\n      sendAudio(data)\n      {\n        if(this.userRole === 1 ) return;\n        \n        if (data.length <=0) {\n          this.$alert(\"参数为空，请重新参数\")\n        }\n        let msgData = this.msgInfo()\n        let content_type =  data.content_type\n        msgData.msg = data.path\n        msgData.file_name = data.file_name\n        msgData.file_size = data.file_size\n        msgData.content_type = content_type\n        msgData.md5 = data.md5\n        msgData.file_path = data.path\n        msgData.total_chunks =data.totalChunks\n        msgData.original_file_name = data.original_file_name\n        msgData.upload_status = data.uploadStatus,\n        msgData.thumb_path = data.thumbPath,\n        this.$socket.volatile.emit('room',msgData);  \n      \n      },\n\n      msgInfo(){\n        const user_id = this.user_id;\n        const nick_name = this.nick_name;\n        const userLogo = this.userLogo;\n        const room_id   = this.room_id;\n        let msgData  = {\n            \"room_id\": room_id,\n            \"user_id\": user_id,\n            \"nick_name\": nick_name,     \n            \"userLogo\":userLogo,\n            \"userRole\": this.userRole,         \n        };\n        return msgData;\n      }\n  \n    }\n\n  }\n\n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n   .sendButton {\n    position: absolute;\n    bottom: 0px;\n    right: 0px;\n   }\n  .audio {\n    position: relative;\n    top: 0px;\n    text-align: center;\n  }\n  .world {\n    position: absolute;\n    left: 0px;\n    right: 0px;\n    padding-top: 10px;\n    height: 107px;\n    border-top: 1px solid #fff;\n    background-color: white;\n    \n  }\n  .msg-button {\n    position: relative;\n    height: 38px;\n  }\n  .msg-el-button {\n    margin-right: 10px;\n    border: none;  \n    background:white;\n  }\n  .msg-img {\n    position:absolute;\n    top:1px;\n    width: 25px;\n    height: 25px; \n    border: none;\n    background-color: white;\n\n  }\n  .msg-emoji {\n    position: absolute;\n     left: 70px;\n    bottom: 124px;\n    z-index: 2;\n  }\n\n  .send {\n    margin-left: 40px;\n    width: 60%;\n    /* height: 140px; */\n    border: 1px;\n    border-radius: 10px;\n    background-color: white;\n    overflow: scroll;\n\n  }\n\n  .login {\n   text-align: center;\n  }\n\n\n  .userList {\n    min-width: 100px;\n    height: 200px;\n    border: 1px;\n    position: absolute;\n    bottom: 110px;\n    left: 70px;\n    overflow:auto;\n    border-color:  #ff0 transparent transparent;\n  }\n\n  [contenteditable] {\n    -webkit-user-select: text;\n    user-select: text;\n}\n\n  \n  \n  </style>\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=323629e4&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=323629e4&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"323629e4\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"index\":_vm.index}},[_c('span',{staticClass:\"time-line\"},[_vm._v(_vm._s(this.source.send_time)+\" \")]),(this.source.is_revoke == 0)?_c('div',{class:this.source.tag == 1 ? 'stream-item' : 'stream-item creator'},[_c('div',{class:this.source.tag == 1 ? 'item' : 'item creator'},[_c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":this.source.userLogo}})]),_c('div',{staticClass:\"body\"},[_c('div',{class:this.source.tag == 1 ? 'name' :'name transform'},[_vm._v(_vm._s(this.source.nick_name))]),_c('div',{ref:\"content\",staticClass:\"content\",attrs:{\"data-isRevokeHidden\":_vm.isRevokeHidden}},[(this.source.content_type === 0)?_c('div',{staticClass:\"text\",attrs:{\"contenteditable\":\"false\"}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('div',{ref:\"textMsg\",staticClass:\"msg-html\",domProps:{\"innerHTML\":_vm._s(this.source.msg)}})])]):_vm._e(),(this.source.content_type === 1)?_c('div',{staticClass:\"text\",attrs:{\"contenteditable\":\"false\"}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('mini-audio',{attrs:{\"audio-source\":this.source.file_path}})],1)]):_vm._e(),(this.source.content_type === 2)?_c('div',{staticClass:\"text\",attrs:{\"contenteditable\":\"false\"}},[(this.source.upload_status === 3)?_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('el-image',{staticStyle:{\"width\":\"200px\",\"height\":\"200px\"},attrs:{\"src\":this.source.thumb_path,\"preview-src-list\":[this.source.file_path],\"lazy\":\"\"}})],1):(this.source.upload_status === 4)?_c('span',[_vm._v(\"加载失败...\")]):_c('span',[_vm._v(\"加载中...\")])]):_vm._e(),(this.source.content_type === 3)?_c('div',{staticClass:\"text file\",attrs:{\"contenteditable\":\"false\"},on:{\"click\":function($event){return _vm.down()}}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('div',[_vm._v(\" \"+_vm._s(this.source.original_file_name)+\" \"),_c('a',{ref:\"downFile\",staticStyle:{\"display\":\"none\"},attrs:{\"href\":this.source.file_path}})]),_c('div',{staticClass:\"fileSize\",attrs:{\"contenteditable\":\"false\"}},[_vm._v(\" \"+_vm._s(this.source.fileSize)+\"KB\")]),_c('div',{staticClass:\"upload_status\"},[( this.source.upload_status === 0)?_c('span',[_vm._v(\"上传中\")]):_vm._e(),( this.source.upload_status === 1)?_c('span',[_vm._v(\"上传成功\")]):_vm._e(),( this.source.upload_status === 2)?_c('span',[_vm._v(\"发送中\")]):_vm._e(),( this.source.upload_status === 3)?_c('span',[_vm._v(\"发送成功\")]):_vm._e(),( this.source.upload_status === 4)?_c('span',[_vm._v(\"发送失败\")]):_vm._e()]),_vm._m(0)])]):_vm._e(),(this.source.content_type === 4)?_c('div',{staticClass:\"text\",attrs:{\"contenteditable\":\"false\"}},[_c('div',{on:{\"contextmenu\":function($event){$event.preventDefault();return _vm.onContextmenu.apply(null, arguments)}}},[_c('el-popover',{staticClass:\"vedio\",attrs:{\"placement\":\"left\",\"trigger\":\"click\"}},[_c('video',{staticClass:\"popover-vedio\",attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":this.source.file_path}})]),_c('img',{staticStyle:{\"max-width\":\"400px\",\"max-height\":\"400px\"},attrs:{\"slot\":\"reference\",\"src\":\"/assets/images/vedio.png\"},slot:\"reference\"})])],1)]):_vm._e()])])])]):_vm._e(),(this.source.is_revoke === 1)?_c('div',{staticClass:\"time-line\",staticStyle:{\"margin\":\"20px 10px\"}},[_c('span',[_vm._v(\"你撤回了一条消息\")])]):_vm._e()])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"fileImg\"},[_c('img',{attrs:{\"src\":\"/assets/images/文件.png\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n    <div :index = index  >\n        <span class='time-line'>{{ this.source.send_time }} </span>\n        <div  :class = \"this.source.tag == 1 ? 'stream-item' : 'stream-item creator'\" v-if = \"this.source.is_revoke == 0\">\n            <div :class = \"this.source.tag == 1 ? 'item' : 'item creator'\">\n                <div class=\"avatar\">\n                    <img :src=this.source.userLogo>\n                </div>\n                <div class = \"body\" >\n                    <div :class = \"this.source.tag == 1 ? 'name' :'name transform' \">{{ this.source.nick_name }}</div>\n                    <div class = \"content\" ref = \"content\" :data-isRevokeHidden=isRevokeHidden>\n                                        \n                        <div contenteditable = \"false\" class=\"text\"  v-if = \"this.source.content_type === 0\"  >\n                        \n                            <div  @contextmenu.prevent=\"onContextmenu\"  >\n                                <div ref=\"textMsg\" v-html=\"this.source.msg\" class=\"msg-html\" ></div>\n                            </div>    \n                        </div>\n                        <!-- 音频 -->\n                        <div contenteditable = \"false\" class=\"text\" v-if = \"this.source.content_type === 1\">\n                            <div  @contextmenu.prevent=\"onContextmenu\"   >\n                              \n                                <mini-audio\n                                    :audio-source=\"this.source.file_path\"\n                                ></mini-audio>\n\n\n                            </div>\n                        </div>\n                        <!-- 图片 -->\n                        <div contenteditable = \"false\" class=\"text\" v-if = \"this.source.content_type === 2\">\n                            <div @contextmenu.prevent=\"onContextmenu\"   v-if=\"this.source.upload_status === 3\" >\n                                <el-image \n                                    style=\"width: 200px; height: 200px\"\n                                    :src=\"this.source.thumb_path\" \n                                    :preview-src-list=[this.source.file_path] lazy>\n                                </el-image>\n                            </div>\n                            <span v-else-if=\"this.source.upload_status === 4\">加载失败...</span>   \n                            <span v-else>加载中...</span>              \n                        </div>\n                        <!-- 文件 -->\n                        <div @click=\"down()\"   contenteditable = \"false\" class=\"text file\" v-if = \"this.source.content_type === 3\">\n                            <div  @contextmenu.prevent=\"onContextmenu\">\n                                <div>\n                                    {{ this.source.original_file_name }}\n                                    <a :href=this.source.file_path ref = \"downFile\" style=\"display: none;\"></a>\n                                </div>\n                                <div class=\"fileSize\" contenteditable=\"false\"> {{ this.source.fileSize }}KB</div>\n                                <div class=\"upload_status\">\n                                    <span v-if=\" this.source.upload_status === 0\">上传中</span>\n                                    <span v-if=\" this.source.upload_status === 1\">上传成功</span>\n                                    <span v-if=\" this.source.upload_status === 2\">发送中</span>\n                                    <span v-if=\" this.source.upload_status === 3\">发送成功</span>  \n                                    <span v-if=\" this.source.upload_status === 4\">发送失败</span>                               \n                                </div>\n                                <div class=\"fileImg\"> <img src=\"/assets/images/文件.png\"/></div>\n                            </div>   \n                        </div>\n\n                         <!-- 视频 -->\n                         <div contenteditable = \"false\"  class=\"text\" v-if = \"this.source.content_type === 4\">\n                            <div  @contextmenu.prevent=\"onContextmenu\"  >\n                                <el-popover\n                                placement=\"left\"   \n                                class=\"vedio\"\n                                trigger=\"click\">\n                                <video controls class=\"popover-vedio\">\n                                    <source :src=\"this.source.file_path\" />\n                                </video>\n                                <img src=\"/assets/images/vedio.png\" style=\"max-width: 400px;max-height: 400px;\" slot=\"reference\"/>\n                                <!-- <el-button slot=\"reference\">{{ this.source.original_file_name }}</el-button> -->\n                                </el-popover>\n                            </div> \n                              \n                         </div>    \n\n                    </div>\n\n                </div>\n            </div>\n\n        </div>\n        <div class='time-line' style=\"margin: 20px 10px;\" v-if = \"this.source.is_revoke === 1\" >\n            <span >你撤回了一条消息</span>\n        </div>\n    </div>\n\n\n   \n  </template>\n  \n  <script>\n    import VueAudio from 'vue-audio-better'\n    Vue.use(VueAudio);\n    import Vue from 'vue'\n    import Contextmenu from \"vue-contextmenujs\"\n    Vue.use(Contextmenu);\n    import Clipboard from 'clipboard';\n\n\n    import { setCache, getCache,removeCache} from \"@/utils/cache\";\n    const chunkSize =  3 * 1024 * 1024;//定义分片的大小 暂定为3M，方便测试\n    const synth = window.speechSynthesis;\n    const speech = new SpeechSynthesisUtterance();\n    const voices = speechSynthesis.getVoices()\n    export default {\n        name: 'Item',\n        data(){\n            \n            return {\n                progress: 0,\n                is_stop: true,\n                duration: 0,\n                curr: 0,\n                volume:50,\n                balance: 50,  \n                style: \"max-height: 100vh;max-width: 60vw; display:none;\",\n                user_id:this.$store.state.user.userInfo.user_id, // 用户ID\n                room_id:this.$store.state.user.roomInfo.room_id, // 房间ID\n                token:this.$store.state.user.token,\n                isloading:false,\n                list:[],\n             \n        \n            }\n        },\n        props: {\n        // index of current item\n            index: { \n                type: Number\n            },\n            source: { \n                type: Object,\n                default () {\n                    return {}\n                }\n            },\n         \n        },\n        computed:{\n            isRevokeHidden (){\n                \n                let time =  Date.parse(this.source.send_time) + 1000*60*5\n                let nowTime = new Date().getTime();   \n                let status = true;   \n                if (this.source.tag == 0 && time >= nowTime) {\n                    status = false\n                    \n                }\n               \n                return status;\n                \n            }\n        },\n        methods: {\n            onContextmenu(event) {\n                            \n                this.$contextmenu({\n                    items: [\n                    {\n                        label: \"复制\",\n                        onClick: () => {\n                            this.copyOrderId2()\n                        }\n                    },\n                    {\n                        label: \"语音\",\n                        hidden: this.source.content_type != 0,\n                        onClick: () => {\n                            this.handleSpeak()\n                        }\n                    },\n                    {\n                        label: \"撤回\",\n                        hidden:this.$refs.content.getAttribute('data-isRevokeHidden'),\n                        onClick: () => {        \n                           this.$socket.emit('revokeMsg',{\n                                \"token\":this.token,\n                                \"room_id\":this.room_id,\n                                \"seq\": this.source.seq,\n                                \"index\":this.index\n                            });  \n                            \n                        }\n                    },\n                    \n                    ],\n                    event, // 鼠标事件信息\n                    customClass: \"custom-class tag-read\", // 自定义菜单 class\n                    zIndex: 1, // 菜单样式 z-index\n                    minWidth: 230 // 主菜单最小宽度\n                });\n                return false;\n            },\n\n            copyOrderId2() {\n                var input = document.createElement(\"input\"); // 创建input对象\n                console.log(this.$refs.content.getAttribute('src'))\n                let content = this.$refs.content.textContent\n                if (content.length <= 0) {\n                    content = this.source.msg\n                }\n                \n                input.value = content; // 设置复制内容\n                document.body.appendChild(input); // 添加临时实例\n                input.select(); // 选择实例内容\n                document.execCommand(\"Copy\"); // 执行复制\n                document.body.removeChild(input); // 删除临时实例\n                this.$message.success('复制成功！');\n            },\n\n            handleSpeak(){\n\n                let textMsg = this.$refs.textMsg.textContent;\n               \n                speech.text = textMsg; // 文字内容: 如果能播放出声音 那可真是泰裤辣！\n                speech.lang = \"zh-CN\"; // 使用的语言:中文\n                speech.voice = voices[20]\n                speech.volume = 1; // 声音音量：1\n                speech.rate = 1; // 语速：1\n                speech.pitch = 1; // 音高：1\n                synth.speak(speech); // 播放\n\n            },\n           \n            openImagesClick()\n            {\n               this.display = \"max-height: 100vh;max-width: 60vw; display:block;\"\n                 \n            },\n\n            closeImagesClick()\n            {\n                this.display =\"max-height: 100vh;max-width: 60vw; display:none;\"\n            },\n\n            down(){\n\n               \n                if (this.isloading == true) {\n                   return this.$alert(\"正在上传！！！\");\n\n                }        \n                let msgList= this.source; \n                let mergeNumber   = msgList.merge_number;\n                this.list =   msgList;   \n                let md5 = msgList.md5\n                let seq = msgList.seq\n                let totalChunks = msgList.total_chunks\n                let totalSize = msgList.totalSize\n                let newFileName = msgList.file_name\n                let chunkNumber = msgList.chunk_number\n                let uploadStatus =  msgList.upload_status\n                \n                let composeData = {\n                    \"identifier\":md5,\n                    \"newFileName\":newFileName,\n                    \"totalChunks\":totalChunks,\n                    'mergeNumber':mergeNumber,\n                    \"chunkNumber\":chunkNumber,\n                    \"totalSize\":totalSize,\n                    \"seq\":seq,\n                   \n                }\n                \n                if (uploadStatus == 0){ // 上传中\n                    this.isloading == false\n                    // this.source.upload_status = 4\n\n                } else if (uploadStatus == 1) { // 上传成功\n                    this.isloading == false\n                  \n                    // 上传成功\n                    this.composeFile(composeData)\n \n                } else if (uploadStatus == 2) { // 运行中\n                    this.isloading == false\n                    this.composeFile(composeData)\n                    \n\n                }else if (uploadStatus == 3) { // 运行成功\n\n                    // 发送成功\n                    this.$refs.downFile.click()    \n\n                }       \n        \n            },\n           \n            /**\n             * 请求后端合并文件\n             * @param fileMd5 文件md5\n             * @param fileName 文件名称\n             * @param count 文件分片总数\n             */\n            composeFile(data) {              \n                this.isloading = true\n                let list = {\n                    \"seq\":data.seq,\n                    \"room_id\":this.room_id,\n                    \"user_id\":this.user_id,\n                    \"identifier\":data.identifier,\n                    \"newFileName\":data.newFileName,\n                    \"totalChunks\":data.totalChunks,\n                    \"mergeNumber\":data.mergeNumber,\n                    \"totalSize\":data.totalSize,\n                    \"chunkSize\":Math.ceil(data.totalSize / data.totalChunks)       \n                }\n    \n                list.uploadStatus = 2\n              \n                this.$socket.emit('mergeFile',list); \n                \n              \n            }\n                 \n        },\n        sockets: {\n\n            // async updateMsgStatusCallback(val) {\n            \n            //     let list = val.data  \n               \n            //     if (val.code === 10000 ) {\n            //         // 返回变成上传成功状态\n            //         this.list.upload_status = list.uploadStatus\n            //     }\n\n            // }\n           \n           \n          \n           \n        },\n        components: {\n            Clipboard\n            \n        }\n\n}   \n  </script>\n  <style scoped>\n  img {\n    cursor: pointer;\n  }\n  .popover-vedio {\n    width: 600px;\n  }\n  .file {\n    cursor: pointer;\n  }\n  .fileImg {\n    position: absolute;\n    bottom:-15px;\n    right: 0px;\n  }\n  .file img  {\n   \n    width: 100px;\n    height: 100px;\n  }\n\n\n   .fileSize{\n   margin-top: 50px;\n  }\n  .empty .stream-item.creator, .stream .stream-item.creator {\n    flex-direction: row-reverse;\n    }\n    .empty .stream-item, .stream .stream-item{\n    display: flex;\n    align-items: center;\n    padding: 1em;\n  }\n \n  .msg-info {\n    height: 85px;\n  }\n\n  .item {\n    display: flex;\n    }\n\n    .item.creator {\n    transform: rotateX(180deg);\n    direction: rtl;\n    align-items: flex-end;\n    }\n\n    .item .avatar img{\n    display: block;\n    width: 40px;\n    height: 40px;   \n    border-radius: 50%;\n    caret-color: transparent;\n    }\n    .item.creator .body {\n    transform: rotate(180deg)\n    }\n\n    .item .body .content {\n        position: relative;\n        color: #000;\n        background-color: #f0f8ff;\n        border-radius: 15px;\n        padding: .5em 1em\n    }\n    @media (max-width: 640px) {\n        .item .body .content {\n            padding:.5em\n        }\n    }\n\n    .item .body .content:after {\n        content: \"\";\n        position: absolute;\n        right: 100%;\n        top: 10px;\n        width: 14px;\n        height: 14px;\n        border-width: 0;\n        border-style: solid;\n        border-color: transparent;\n        border-bottom-width: 10px;\n        border-bottom-color: currentColor;\n        border-radius: 0 0 0 32px;\n        color: #f0f8ff\n    }\n\n    .item.creator .text {\n        transform: rotateY(180deg);\n        direction: ltr;\n    }\n\n    .item .body .name {\n        \n        padding-bottom: .2em;\n        font-size: 12px;\n    \n    }\n\n.transform {\n    transform: rotateY(180deg)\n}\n.empty .stream-item,.stream .stream-item {\n    display: flex;\n    align-items: center;\n    padding: 1em;\n}\n \n.time-line {    \n    display: inline-block;\n    width: 100%;\n    height: 20px;\n    text-align: center;\n    vertical-align: middle;\n  }\n</style>\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2d2deb3d&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=2d2deb3d&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d2deb3d\",\n  null\n  \n)\n\nexport default component.exports"," <template>\n    <div>\n      <el-main class=\"message el-main \" v-bind=\"message\" >\n\n            <!-- 接收到的消息 -->\n              <virtual-list\n                ref = \"returnBottom\"\n                class=\"msg-list\"\n                :data-key=\"'seq'\"\n                :data-sources=\"historyMessageList\"\n                :data-component=\"itemComponent\"\n                :keeps =this.keeps\n                :estimate-size= this.estimateSize\n                @totop = \"totop\"\n                @tobottom = \"bottom\"\n                @scroll = \"onScroll\"\n                :start = 100 \n                v-on:composeFile = 'composeFile' \n              />  \n      </el-main>\n      <el-footer style=\"margin-top:2px;\">\n        <el-badge v-if = \"msgNum > 0 && isBottom === false\" :value=msgNum  class=\"item msg-badge-down\">\n          <el-button @click = \"getLocation\" size=\"small\" icon = \"el-icon-arrow-down\">最新消息</el-button>\n        </el-badge>\n        <el-badge  v-if = \"msgNum > 0 && isBottom === true\" :value=msgNum \n          class=\"item msg-badge-up\">\n          <el-button  @click = \"getLocation\" size=\"small\" icon = \"el-icon-arrow-up\">最新消息</el-button>\n        </el-badge>\n        <MsgSend :proTitle = \"title\" @findNewMsg = \"findNewMsg\" />     \n        <div id=\"myAlertBox\"  class= \"alertBox\" style=\"display:none\"></div>\n      </el-footer>\n  </div>\n</template>\n  <script>\n  \n  import virtualList from 'vue-virtual-scroll-list'\n  import { setCache, getCache,removeCache} from \"@/utils/cookie\";\n  \n  import MsgSend from '../MsgSend';\n  import Item from '../Item';\n  var roomNum = getCache('roomNum')?JSON.parse(getCache('roomNum')):[]\n    export default {\n      name: \"Message\",\n      data() {\n        return {  \n          historyMessageList:[],//获取消息\n        \n          tabshow: false,//是否进行某种操作\n          user_id:this.$store.state.user.userInfo.user_id, // 用户ID\n          room_id:this.$store.state.user.roomInfo.room_id,\n          isLoading :false,\n          isEnd :false,\n          page:0,\n          limit:20,\n          timer: 0,\n          itemComponent: Item,\n          estimateSize:50,\n          keeps:20,\n          msgNum:0, \n          isBottom:false,\n          totalNum:0,\n        }\n      },\n      props:['title'],\n      sockets: {\n          // 分块回调\n          async chunkFileCallback (res) {\n            if (res.code == 10000) {\n              let data = res.data\n              data.isChunk = true\n              if (data.uploadStatus == 1) {\n                this.updateStatus(data);\n              } \n            } else {\n              return this.$alert(res.msg)\n            }\n          },\n          // 更新状态\n          async updateMsgStatusCallback(val) {      \n            let list = val.data  \n            let seq = list.seq\n            var targetObject = this.historyMessageList.find(function(obj) {\n              return obj.seq === seq;\n            });\n\n            if (val.code !== 10000 ) {\n              this.updateStatus(val.data);\n            } else {\n              if (list.uploadStatus == 1){\n                  // 返回变成上传成功状态\n                  targetObject.upload_status = 1       \n                  \n                  this.composeFile(list);   \n              } else {\n                targetObject.upload_status = list.uploadStatus\n                if (list.uploadStatus == 3) {\n                  \n                  targetObject.thumb_path    = list?.thumb_path\n                \n                }\n              \n              }\n              \n\n            }\n            return true;\n          },\n          /**\n           * 合并\n           */\n          async mergeFileCallback (res)  {\n              let data = res.data\n              let list =  {\n                    \"room_id\":this.room_id,\n                    \"identifier\":data.identifier,\n                    \"newFileName\":data.newFileName,\n                    \"totalChunks\":data.totalChunks,\n                    'mergeNumber':data.mergeNumber,\n                    \"totalSize\":data.totalSize,    \n                    \"uploadStatus\":data.uploadStatus,\n                    \"seq\":data.seq\n              } \n             \n              if (res.code !== 10000 ) {\n                \n                list.uploadStatus = 4\n                \n              } else {\n                  console.log(\"mergeFileCallback:::\",list);\n                  if (list.uploadStatus == 3) {\n                    this.updateStatus(list);   \n                  }     \n                  \n              }\n\n             \n              return true\n\n          },\n          /**\n           * 撤回消息\n           * @param {*} val \n           */\n          async revokeMsgCallback(val) {     \n              let list = val.data  \n              if (val.code === 10000 ) {\n                \n                console.log(\"source::\", list)\n                let data = this.historyMessageList[list.index]\n                data.is_revoke = 1\n                this.historyMessageList[list.index] = data\n               \n                \n              } else {\n                this.$alert(\"请稍后重试\")\n              }\n          }\n\n\n      },\n      mounted(){\n        \n        this.$store.state.message.historyMessageList= []\n        // window.addEventListener(\"scroll\", this.onScroll, true);\n        // 初始化条数\n        this.initLoadMsg()\n       \n      },\n\n      destroyed() { //离开这个界面之后，删除滚动事件，不然容易除bug\n        // window.removeEventListener('scroll', this.onScroll,true)\n      },\n    \n      methods:{\n\n        /**\n         * 请求后端合并文件\n         * @param fileMd5 文件md5\n         * @param fileName 文件名称\n         * @param count 文件分片总数\n         */\n       async composeFile(data) {                \n          let list = {\n              \"seq\":data.seq,\n              \"room_id\":this.room_id,\n              \"user_id\":this.user_id,\n              \"identifier\":data.identifier,\n              \"newFileName\":data.newFileName,\n              \"totalChunks\":data.totalChunks,\n              'mergeNumber':0,\n              \"totalSize\":data.totalSize,\n              \"chunkSize\":Math.ceil(data.totalSize / data.totalChunks) \n          }\n          list.uploadStatus = 2\n          this.updateStatus(list);   \n          await  this.$socket.emit('mergeFile',list);   \n        },\n        /**\n         * 更新状态\n         * @param {*} data \n         */\n\n        async updateStatus(data)\n        {\n          await this.$socket.emit('updateMsgStatus',{\n                \"room_id\":this.room_id,\n                \"user_id\":this.user_id,\n                \"identifier\":data.identifier,\n                \"newFileName\":data.newFileName,\n                \"uploadStatus\":data.uploadStatus,\n                \"totalChunks\":data.totalChunks,\n                \"chunkNumber\":data.chunkNumber,\n                \"totalSize\":data.totalSize,\n                \"seq\":data.seq,\n                \"isChunk\":data.isChunk                                  \n            }); \n\n           \n        },\n        /**\n         * 未读消息定位\n         * @param {*} e \n         */\n        getLocation(e){\n          let returnBottom =this.$refs.returnBottom;\n          let location = this.keeps\n          if (this.totalNum > this.msgNum) {\n            location = this.totalNum-this.msgNum\n          }\n        \n          if (this.isBottom === true) {\n            location =  location -10\n          } \n          returnBottom.scrollToIndex(location);\n          this.msgNum = 0\n          this.isBottom = false\n          // 删除未读消息参数\n          roomNum[this.room_id] = 0\n          console.log(roomNum);\n          setCache('roomNum',JSON.stringify(roomNum))\n        },\n\n        onScroll(e){\n          if (this.page >1 ) {\n            this.msgNum = 0;\n          }\n        },\n        findNewMsg(val) {\n           \n            if (val.room_id === this.room_id) {\n              if (Object.keys(val).length > 0) {\n                this.$nextTick(() => {\n                    if (val.sendUserId == val.userId ) {\n                      let div=this.$refs.returnBottom;\n                      div.reset()\n                      div.scrollToBottom();\n                      this.msgNum = 0;\n                      this.isBottom = true;\n                    } else {\n                      // 记录其他用户发送的消息数量\n                      this.isBottom = false\n                      this.msgNum ++\n                   \n                    }\n                \n                 })\n\n                 return this.msgNum;\n\n              }\n           \n            } \n          \n        },\n      \n        totop(){\n          console.log(\"到顶了\");\n          this.getdata()\n\n        },\n        bottom(){\n          this.isBottom = true\n          let offTotal =  this.msgNum\n          if (offTotal >= 10) {\n            this.msgNum = offTotal\n          } \n          console.log(\"到底了\");\n        },\n      \n        getdata() {\n          if (!this.isEnd  && !this.isLoading ) {\n            this.initLoadMsg();\n          }  \n        },\n\n        initLoadMsg() {\n          this.page++;\n          this.isLoading = true;\n          let div = this.$refs.returnBottom;  \n        \n          this.$store.dispatch('getGetMsg',{\n                room_id:this.room_id,\n                page:this.page,\n                limit:this.limit\n              }).then(res => {\n                if(!res) {\n                    this.isEnd = true;\n                } else {\n\n                  this.$nextTick(()=>{\n                      this.isLoading = false;\n                     if (this.page == 1) {\n                        //刷新滚动条到最近一页\n                        div.reset()\n                        div.scrollToBottom();\n                        this.isBottom = true\n                        this.msgNum = res.offTotal + roomNum[this.room_id]\n                        console.log(\"this.msgNum::\",this.msgNum)\n                      } \n                \n                  })\n                }\n                \n                \n          });\n        }\n      },\n     \n      computed: {    \n        message: {      \n          get() {\n            let historyMessageList = this.$store.state.message.historyMessageList || [];\n            this.historyMessageList = historyMessageList;\n            console.log(\"historyMessageList::\",historyMessageList)\n            this.totalNum = this.historyMessageList.length \n          }\n        }\n      },\n      components: {\n        MsgSend,\n        virtualList,\n\n      }\n    }\n\n  \n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n  \n  .msg-info {\n    height: 85px;\n  }\n \n  \n    .message {\n      position: relative;  \n      background-color: white;\n      height: 800px;\n      overflow: hidden;\n    }\n    \n    .msg-list {\n    position: relative;\n    height: 800px;\n    width: 800px;\n    overflow: auto;  \n    \n    }\n\n    .el-main {\n      padding: 2px;\n    }\n\n    \n    .msg-frame {\n      margin-left: 40px;\n      min-width: 30px;\n      max-width: 500px;\n      min-height: 30px;\n      border: 1px;\n      border-radius: 10px;\n      background-color: white;\n      word-break: break-all;\n      word-wrap: break-word;\n      /*但在有些场景中，还需要加上下面这行代码*/\n      white-space: normal;\n      overflow: auto\n    }\n\n    .my-userInfo  .msg-frame {\n      margin-left: 140px;\n      text-align: right;\n      background-color: cornflowerblue;\n      \n    }\n\n  .userInfo-logo img {\n      height:40px;\n      width: 40px;\n      border-radius:20px;\n\n  }\n  .userInfo-msg textarea {\n    \n      width: 400px;\n      max-height: 50px;\n      padding: 10px ;\n      border-radius: 10px;\n      background-color: aquamarine;\n\n  }\n\n  .userInfo {\n      position: relative;\n      margin-left: 20px;\n  }\n\n  .userInfo-msg {\n      position: absolute;\n      top:-52px;\n      left: -13px;\n  }\n\n\n  .userInfo-logo img {\n      height:40px;\n      width: 40px;\n      border-radius:20px;\n      margin-top: 10px;\n\n  }\n  .userInfo-msg textarea {\n    \n      width: 400px;\n      max-height: 50px;\n      padding: 10px ;\n      border-radius: 10px;\n      background-color: aquamarine;\n\n  }\n\n\n\n  .my-userInfo {\n      position: relative;\n      margin-right: 20px;\n  }\n  .my-userInfo-msg {\n      position: absolute;\n      top: -12px;\n      right: 52px;\n  }\n\n  .my-userInfo h4 {\n      text-align: right;\n\n  }\n\n\n  .my-userInfo-logo img {\n      float: right;\n      height:40px;\n      width: 40px;\n      border-radius:20px;\n\n  }\n  .my-userInfo-msg textarea {\n    \n      width: 400px;\n      max-height: 50px;\n      padding: 10px ;\n      border-radius: 10px;\n      background-color: aquamarine;\n\n  }\n\n  .msg-badge-down {\n    position: absolute;\n    right: 190px;\n    bottom: 65px;\n      \n  }\n\n  .msg-badge-up {\n    position: absolute;\n    top: 70px;\n    right: 190px;\n    \n  }\n\n</style>\n    ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=de958b36&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=de958b36&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de958b36\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-aside',{staticClass:\"userList\",staticStyle:{\"width\":\"158px\"}},[_c('ul',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.load),expression:\"load\"}],staticClass:\"list\",attrs:{\"infinite-scroll-disabled\":\"disabled\"}},_vm._l((_vm.userList),function(val){return _c('li',{staticClass:\"list list-line\",attrs:{\"id\":\"userLine\"}},[_c('img',{staticClass:\"logo\",attrs:{\"id\":\"userLine\",\"src\":val.photo,\"alt\":\"\"}}),(val.is_online == 'online')?[_c('span',{staticClass:\"userStatus\",staticStyle:{\"background-color\":\"cadetblue\"}})]:_vm._e(),(val.is_online == 'offline')?[_c('span',{staticClass:\"userStatus\"})]:_vm._e(),_vm._v(\" \"+_vm._s(val.nick_name)+\" \")],2)}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\n<el-aside class=\"userList\" style=\" width: 158px;\">\n    <ul\n    class=\"list\"\n    v-infinite-scroll=\"load\"\n    infinite-scroll-disabled=\"disabled\">\n    \n        <li  v-for=\"val in userList\" class=\"list list-line\" id = \"userLine\" >\n          <img class=\"logo\" id = \"userLine\" :src=\"val.photo\" alt=\"\">\n          <template v-if=\"val.is_online == 'online'\">\n            <span class=\"userStatus\" style = \"background-color: cadetblue;\"></span>\n          </template>\n\n          <template v-if=\"val.is_online == 'offline'\">\n            <span class=\"userStatus\" ></span>\n          </template>\n\n          {{ val.nick_name }}\n        </li>\n    </ul>\n</el-aside>\n  \n </template>\n  <script> \n    export default {\n      data () {\n        return {\n          userList:[],\n          count: 1,\n          noMore:false, //控制滚动禁用 \n          loading: false, //控制滚动条禁用\n          pages:0 , // 页码\n          size: 100, // 条数\n\n        }\n      },\n      \n      props: {\n        // index of current item\n            showUser: { \n                type:Boolean \n            },\n         \n        },\n      computed: {\n       \n        disabled () {\n          return this.loading || this.noMore\n        }\n      },\n      mounted(){\n       \n        this.load();\n      },\n      methods: {\n       \n        load () {\n          this.loading = true;\n          this.pages += 1 // 每次滚动加1\n          this.getUserList();\n        },\n       \n        // 获取数据\n        getUserList() {\n          let datas = {'pages':this.pages,'size':this.size};\n          //派发一个action||获取聊天室的用户列表\n          this.$store.dispatch(\"getRoomUserList\",datas).then (res => {\n            let list = res.userList;\n            this.userList = list\n            // 如果请求回来的数据小于Size，则说明数据到底了。\n            if (list.length < this.size) {\n              this.noMore = true;\n            }\n            // 避免数据总条数是pageSize的倍数时，数据到底还会请求一次。\n            if (this.userList.length === this.$store.state.user.roomUserList.total) {\n              this.noMore = true;\n            }\n            this.loading = false;\n\n          })\n          }\n\n      }\n    }\n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n  .logo {\n    width: 30px;\n    height: 30px;\n    border-radius: 15px;\n    vertical-align: middle;\n  }\n\n  .list {\n    position:relative;\n    cursor: pointer;\n  }\n  .list-line:hover {background-color: lightblue;}\n\n.userStatus{\n  position: absolute;\n  z-index: 1;\n  top: 14px;\n  left: 18px;\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n  background-color: grey;\n}\n\n.userList {\n    position: absolute;\n    top: 60px;\n    right: 0px;\n    width: 158px;\n    height:800px;\n        border: 1px solid #fff;\n        background-color: rgba(245,245,245,1.7);\noverflow:auto;\n\n}\n.userList ul {\n    list-style: none;\n    overflow: auto;\n}\n\n\n\n.userList ul li {\n    margin: 10px 1px;\n}\n\n\n    \n  </style>\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=bb25528c&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=bb25528c&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bb25528c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-footer',_vm._b({staticClass:\"footer\",attrs:{\"direction\":\"vertical\",\"width\":\"100px\",\"height\":\"800px\"}},'el-footer',_vm.message,false),[_c('ul',_vm._b({staticClass:\"list\"},'ul',_vm.message,false),_vm._l((_vm.list),function(val){return _c('li',{staticClass:\"list-line\",on:{\"click\":function($event){return _vm.selectRoom(val.room_id)}}},[_c('div',[(_vm.selectRoomId === val.room_id)?_c('el-badge',{staticClass:\"item\",attrs:{\"max\":_vm.max}},[_c('el-button',{staticStyle:{\"color\":\"cadetblue\"},attrs:{\"size\":\"small\"}},[_vm._v(\" \"+_vm._s(val.name)+\" \")])],1):_vm._e()],1),(_vm.selectRoomId != val.room_id)?_c('div',[_c('el-badge',{staticClass:\"item\",attrs:{\"value\":val.off_delivered_count+_vm.msgNumList[val.room_id],\"max\":_vm.max}},[_c('el-button',{attrs:{\"size\":\"small\"}},[_vm._v(\" \"+_vm._s(val.name))])],1)],1):_vm._e()])}),0)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\n  <el-footer class=\"footer\" direction = \"vertical\" width=\"100px\" height=\"800px\" v-bind=\"message\">\n  \n    <ul  class=\"list\" v-bind=\"message\">\n \n      <li v-for=\"val in list\" class=\"list-line\"  @click=\"selectRoom(val.room_id)\"  >\n       \n        <div>\n          <el-badge  :max=max class=\"item\" v-if=\"selectRoomId === val.room_id\" >\n            <el-button size=\"small\" style = \"color: cadetblue;\">\n              {{ val.name }}            \n            </el-button>           \n          </el-badge>\n        </div>\n\n        <div v-if=\"selectRoomId != val.room_id\">\n          <el-badge :value=\"val.off_delivered_count+msgNumList[val.room_id]\" :max=max  class=\"item\">\n            <el-button size=\"small\"> {{ val.name }}</el-button>\n          </el-badge>\n        </div>\n      </li>\n    \n    </ul>\n   \n  </el-footer>\n \n </template>\n  <script> \n  import { setCache, getCache,removeCache} from \"@/utils/cookie\";\n\n  const synth = window.speechSynthesis;\n  const speech = new SpeechSynthesisUtterance();\n  const voices = speechSynthesis.getVoices();\n     export default {\n      name:\"Room\",\n      data () {\n        return {\n          list:[],  \n          selectRoomId: 1,\n          wsmessageList:[],\n          room_id:this.$store.state.user.roomInfo.room_id, // 房间ID\n          max:140,\n          msgNum:0,\n          msgNumList:getCache('roomNum')?JSON.parse(getCache('roomNum')):[]\n\n        }\n      },\n\n      props:[],\n    \n      mounted(){    \n        this.$store.dispatch('getRoomList').then(res => {\n          if (res) {\n              this.list = res\n          } else {\n            this.$alert('没有获取到房间列表')\n          }\n\n        });\n         \n      },\n      methods: {\n        async selectRoom(room_id){\n          await this.$store.dispatch('getRoomInfo',room_id).then(res => {          \n            if (res) {       \n                this.$store.dispatch('getRoomUserList',{'pages':1,'size':100}).then(res => {\n                  if (res === false) {\n                    this.$alert(\"用户列表请求失败\")\n                  }\n                 \n                  this.$emit('roomUserList',res);  \n                })   \n                this.selectRoomId = room_id\n                this.msgNumList[room_id] = 0\n                setCache('roomNum',JSON.stringify(this.msgNumList))\n            } else {\n              this.$alert(\"聊天室信息请求失败\")\n            }\n          })\n          \n        }\n\n      },\n      computed:{\n        message:{\n          get() {\n            let offMessageList = this.$store.state.message.offMessageList;\n            let roomList = this.$store.state.user.roomList ;\n            \n            if (offMessageList) {\n              let room_id = offMessageList.room_id\n\n              if (room_id) {\n                if (typeof(this.msgNumList[room_id]) === \"undefined\") {\n                \n                this.msgNum = 0\n               \n                }\n\n                for (let index = 0; index < roomList.length; index++) {\n                \n                  if (roomList[index].room_id != this.selectRoomId) {\n                  \n                    if (roomList[index].room_id == room_id) {\n                      \n                      this.msgNum ++\n                      this.msgNumList[room_id] =  this.msgNum\n\n                    }\n                  \n                  }\n                }\n\n                setCache('roomNum',JSON.stringify(this.msgNumList))\n\n              } \n              \n             \n                         \n            } \n          \n          }\n        }\n      }\n\n    }\n  </script>\n  \n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\n  <style scoped>\n.footer{\n    width: 170px;\n    background: aliceblue;\n    position: absolute;\n    left: 89px;\n    box-sizing: border-box;\n    flex-shrink: 0;\n    top: 60px;\n    z-index: 1;\n  }\n\n\n  \n  .list {\n    position:relative;\n    cursor: pointer;\n    margin: 10px;\n  }\n  .list-line {\n    margin: 15px 0px;\n    list-style-type:none;\n  }\n  .list-line:hover {\n    color: #409eff;\n  }\n    \n  </style>\n  ","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5610f796&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5610f796&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5610f796\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <el-container style=\"display: flex;justify-content: center;\">\n    <div class=\"wrap\">\n      <!-- 路由组件出口的地方 -->\n      \n        <!--头部 -->\n        <MsgTop :room = \"roomInfo\" />\n        <!--用户基本信息 -->\n        <MsgBase :userStatus=\"userStatus\"/>\n        \n        <!-- 聊天记录 -->\n        <Messages  :key=\"timer\"/>\n       \n        <!-- 用户信息 -->\n        <UserList :showUser=\"true\" :key=\"timer+ '-userList'\"  />\n        <!-- 房间管理 -->\n        <Room @roomUserList=\"roomUserList\"></Room>\n       \n        <router-view></router-view>\n    </div>\n  </el-container>\n</template>\n\n<script>\n//引入依赖\nimport MsgTop from './MsgTop';\nimport MsgBase from './MsgBase';\nimport Messages from './Messages';\nimport UserList from './UserList';\nimport Room from './Room';\n\nexport default {\n  name: \"Home\",\n  components: {\n    MsgTop,\n    MsgBase,\n    Messages,\n    UserList,\n    Room,  \n},\n  data() {\n    return {\n      \"user_id\":this.$store.state.user.userInfo.user_id,\n      \"room_id\":this.$store.state.user.roomInfo.room_id,\n      \"userList\":this.$store.state.user.roomUserList,\n      \"roomInfo\":this.$store.state.user.roomInfo,\n      \"msgList\":this.$store.state.message.historyMessageList,\n      \"userStatus\":\"offline\",\n      \"timer\":\"\"\n    }\n  },\n  mounted() {\n    this.$socket.open() \n    window.addEventListener(\"blur\", this.onblur,true);\n    window.addEventListener(\"focus\", this.onfocus,true);\n  },\n\n  beforeDestroy () {\n    this.$socket.close()\n     //token失效从新登录\n    \n    window.removeEventListener(\"focus\", this.onfocus,true);   \n    window.removeEventListener(\"blur\", this.onblur,true);\n\n\n  },\n  sockets: {\n    async connecting () {\n      console.log(\"Socket 正在连接\");\n    },\n    async disconnect (reason) {\n      console.log(\"Socket 断开\",reason);\n      if (this.$socket.connected === false) {\n          this.userStatus = \"offline\"  \n        \n      }\n          \n    },\n    async connect_error (error) {\n      console.log(\"Socket 连接失败\",error);\n      if (this.$socket.connected === false) {\n          this.userStatus = \"offline\"\n         \n\n      }\n\n    },\n    async connect () {\n      console.log(\"Socket 连接成功\");\n      if (this.$socket.connected === true) {\n          this.userStatus = \"online\"\n          \n      }\n\n    },\n\n    async error (error) {\n        console.log(\"Socket错误:\",error);\n        console.log(this.$socket.connected);\n        this.handleClose(\"服务器出错，请联系管理员！！！\");\n    },\n \n       \n},\nmethods: {\n  roomUserList(val) {\n    // 聊天室详情\n    this.roomInfo = this.$store.state.user.roomInfo\n    this.timer = this.roomInfo.room_id\n    console.log(\" this.timer\", this.timer);\n  },\n  handleClose(error){\n      this.$confirm(error,'错误',{\n        confirmButtonText: '确定',\n          type: 'error'\n      })\n        .then(_ => {\n          this.$message({\n            type: 'success',\n            message: error\n          });\n        })\n        .catch(_ => {});\n  },\n  onfocus(e){\n      console.log('得到焦点');\n      \n      // this.$store.dispatch(\"getTitle\", {\n      //     \"user_id\":this.$store.state.user.userInfo.user_id,\n      //     \"contactList\":\"\"\n      //   })\n    },\n    visibilitychange(e){\n        console.log(document.visibilityState);\n        let state = document.visibilityState\n        if(state == 'hidden'){\n            console.log(document.visibilityState,'用户离开了');\n        }\n        if(state == 'visible'){\n            console.log(document.visibilityState,'回来了');       \n        }\n    },\n    beforeunloadHandler(e) {\n      e = e || window.event\n      if (e) {\n        e.returnValue = '关闭提示'\n      }\n      return '关闭提示'\n    },\n    \n    onblur(e) {\n      console.log('失去焦点');\n    }\n}\n\n \n}\n\n\n</script>\n\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f98c3a42\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Register from '@/pages/Register'\nimport Login from '@/pages/Login'\nimport Home  from '@/pages/Home'\n\nexport default [\n\n    /**\n     * 登录\n     */\n    {\n        path: '/login',\n        name:'Login',\n        component: Login,\n        meta: { requiresGuest: true }, // 需要未登录\n    },\n\n    /**\n     * 注册\n     */\n    {\n        path: '/register',\n        name:'Register',\n        component: Register,\n        meta: { requiresGuest: true }, // 需要未登录\n    },\n\n\n\n    /**\n     * 首页\n     */\n    {\n        path: '/',\n        name:'Home',\n        component: Home,\n        meta: { requiresAuth: true }, // 需要身份验证\n    }\n]","//存储token\nexport const setToken = (token) => {\n  localStorage.setItem(\"TOKEN\", token);\n};\n//获取token\nexport const getToken = () => {\n  return localStorage.getItem(\"TOKEN\");\n};\n\n//清除本地存储的token\nexport const removeToken=()=>{\n   localStorage.removeItem(\"TOKEN\");\n}\n","//对于axios进行二次封装\nimport axios from \"axios\";\nimport nprogress, { done } from \"nprogress\";\n//在当前模块中引入store\nimport store from '@/store';\n\n//引入路由相关文件\nimport router from \"@/router\";\n//如果出现进度条没有显示：一定是你忘记了引入样式了\nimport \"nprogress/nprogress.css\";\nimport { setToken, getToken,removeToken} from \"@/utils/token\";\n\n//底下的代码也是创建axios实例\nlet requests = axios.create({\n  //基础路径\n  baseURL: \"/api\",\n  //请求不能超过10s\n  timeout: 5000, \n});\n\n//请求拦截器----在项目中发请求（请求没有发出去）可以做一些事情\nrequests.interceptors.request.use(\n  (config) => {\n    //需要携带token带给服务器\n    let token = store.state.user.token\n    if(token){\n      config.headers.Authorization = 'Bearer'+' '+ token;\n    }\n    nprogress.start();\n    return config;\n  },(err) => {\n    console.log(\"服务器请求数据失败\",err)\n    return Promise.reject(err);\n  }\n);\n\n//响应拦截器----当服务器手动请求之后，做出响应（相应成功）会执行的\nrequests.interceptors.response.use(\n  (res) => {\n    let data = res.data;\n    //进度条结束\n    nprogress.done();\n    if (data.code === 10000){   \n        //相应成功做的事情\n        return data;\n    } else {\n      // // token 校验失效\n      if (data.code === 20401) {\n       router.push({path:'/login'})\n        \n        return;\n      }\n      return data;\n    }\n  },\n  (err) => {\n    console.log(\"服务器响应数据失败\",err)\n    if (err.response.status === 500 || err.response.status === 401 ) {\n      router.push({path:'/login'})\n    }\n    return ;\n  }\n);\n//最终需要对外暴露（不对外暴露外面模块没办法使用）\n//这里的代码是暴露一个axios实例\nexport default requests;\n","//对于axios进行二次封装\nimport axios from \"axios\";\nimport nprogress from \"nprogress\";\n//如果出现进度条没有显示：一定是你忘记了引入样式了\nimport \"nprogress/nprogress.css\";\n//底下的代码也是创建axios实例\nlet requests = axios.create({\n  //基础路径\n  baseURL: \"/mock\",\n  //请求不能超过5S\n  timeout: 5000,\n});\n\n//请求拦截器----在项目中发请求（请求没有发出去）可以做一些事情\nrequests.interceptors.request.use((config) => {\n  //现在的问题是config是什么?配置对象\n  //可以让进度条开始动\n  nprogress.start();\n  return config;\n});\n\n//响应拦截器----当服务器手动请求之后，做出响应（相应成功）会执行的\nrequests.interceptors.response.use(\n  (res) => {\n    //进度条结束\n    nprogress.done();\n    //相应成功做的事情\n    return res.data;\n  },\n  (err) => {\n    console.log(\"服务器响应数据失败\", err)\n    alert(\"服务器响应数据失败\");\n  }\n);\n//最终需要对外暴露（不对外暴露外面模块没办法使用）\n//这里的代码是暴露一个axios实例\nexport default requests;\n","import requests from \"./ajax\";\nimport mockRequests  from \"./mockAjax\";\n//登录\n//URL:/api/v1/login  method:post phone password\nexport const reqUserLogin = (data)=>requests({url:'user/v1/login',data,method:'post'});\n\n//注册\n\nexport const reqUserRegister = (data)=>requests({url:'user/v1/register',data,method:'post'});\n\n// 授权\nexport const reqAuth = (type)=>requests({url:`user/v1/get/auth/${type}`,type,method:'get'});\n// 第三方登录\nexport const reqAuthLogin = (data)=>requests({url:'user/v1/auth/login',data,method:'post'});\n\n//聊天室的基本信息\n//URL:/api/v1/room/info\nexport const reqRoomInfo = (id)=>requests({url:`room/v1/room/info/${id}`,method:'get'});\n\n// 聊天室的用户列表\n\nexport const reqRoomUserList = (data)=>requests({url:`room/v1/room/user/list/${data}`,method:'get'});\nexport const reqRoomList = ()=>requests({url:`room/v1/room/index`,method:'get'});\n\n//添加登录日志\n// export const reqUerLoginLogs = ()=>requests({url:'/v1/add/login/logs',method:'post'});\n//reqLogout 登出out\nexport const reqLogout = ()=>requests({url:'user/v1/out',method:'post'});\n// 所有消息\nexport const reqGetMsg = (data)=>requests({url:`message/v1/user/msg/${data}`,data,method:'get'});\n// 上传音频 /upload/audio\nexport const reqUploadAudio =  (data)=>requests({url:'upload/v1/audio',data,method:'post'});\n// 上传文件\nexport const reqUploadFiles =  (data)=>requests({url:'upload/v1/files',data,method:'post'});\n// 上传base64 \nexport const reqUploadBase64 =  (data)=>requests({url:'upload/v1/base64',data,method:'post'});\n\n// 上传二進制\nexport const reqUploadPut =  (data)=>requests({url:'upload/v1/put',data,method:'post'});\n// 检测文件状态\nexport const reqcheckChunkExis =  (data)=>requests({url:'upload/v1/checkChunkExist',data,method:'post'});\n\n// 上传分片\nexport const reqUploadChunk =  (data)=>requests({url:'upload/v1/chunk',data,method:'post'});\n\n// 合并分片\nexport const reqUploadMerge =  (data)=>requests({url:'upload/v1/merge',data,method:'post'});\n// 生成縮略圖\nexport const reqCreateThumb =  (data)=>requests({url:'upload/v1/create/thumb',data,method:'post'});\n\n","\n\n// 导入api\nimport {\n    reqUserRegister,\n    reqUserLogin,\n    reqRoomInfo,\n    reqRoomUserList,\n    reqLogout,\n    reqAuth,\n    reqAuthLogin,\n    reqRoomList\n\n} from \"@/api\";\n\nimport { setToken, getToken,removeToken} from \"@/utils/token\";\nimport { setCache, getCache,removeCache} from \"@/utils/cookie\";\n//登录与注册的模块\nconst state = {\n  code: \"\",\n  userIsOnLine:\"offline\",\n  token: getToken(),\n  userInfo: {},\n  roomInfo:{},\n  roomUserList:[],\n  isAuthLogin:false,\n  roomList:{}\n};\n// \nconst mutations = {\n    USERLOGIN(state, token) {\n        state.token = token;\n    },\n    GETUSERINFO(state, userInfo) {\n        state.userInfo = userInfo\n        state.userIsOnLine = userInfo.is_online\n    },  \n   \n    GETROOMINFO(state, roomInfo) {\n        state.roomInfo = roomInfo;\n\n    },  \n    ROOMUSERLIST(state, data) {\n        state.roomUserList = data\n    },\n    ISAUTHLOGIN(state, data) {\n        state.isAuthLogin = data\n    },\n    GETROOMList(state, data) {\n        state.roomList = data\n    }\n\n};\n\nconst actions = {\n\n    // 登录业务\n    async userLogin({ commit }, data) {\n        // 请求参数\n        let result = await reqUserLogin(data);\n        if (result.code === 10000) {\n            //用户已经登录成功且获取到token\n            commit(\"USERLOGIN\", result.data.token);\n            //持久化存储token\n            setToken(result.data.token);\n        } \n        return result;\n    },\n\n     // 注册\n     async userRegister({ commit }, data) {\n        // 请求参数\n        let result = await reqUserRegister(data);\n         \n        return result;\n    },\n\n\n    /**\n     * gitee 登录\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n    async authLogin({ commit }, data) {\n        let result = await reqAuthLogin(data);\n        if (result.code == 10000) {\n            console.log(result);\n            //用户已经登录成功且获取到token\n            commit(\"USERLOGIN\", result.data.token);\n            //持久化存储token\n            setToken(result.data.token);\n            //删除auth\n            removeCache(\"isAuthLogin\");\n           \n        } \n        return result;\n\n    },\n\n    /**\n     * 授权\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n    async getAuthLogin({ commit }, data) {\n        let result = await reqAuth(data);\n        if (result.code == 10000) {\n            // 设置 Auth 标识\n            setCache(\"isAuthLogin\",true)\n            return result.data;\n        } else {\n            return false;\n        }\n\n    },\n    \n\n    // 获取聊天室中用户列表\n    async getRoomUserList({commit}, data) {\n        // 请求参数\n        let where = `${state.roomInfo.room_id}/${data.pages}/${data.size}`\n        \n        let result = await reqRoomUserList(where);\n        if (result.code == 10000) {\n            commit(\"ROOMUSERLIST\",result.data);\n\n            return result.data;\n        } \n        return false;\n    },\n\n    //获取聊天室信息\n    async getRoomInfo({ commit },id) {\n        let result = await reqRoomInfo(id);\n        let code = result?.code;\n\n        if (code === 10000) {       \n            let list = result?.data;\n            //提交用户信息\n            commit(\"GETUSERINFO\", list?.userInfo);\n            // 提交 聊天室的基本信息\n            commit(\"GETROOMINFO\", list?.roomInfo);\n            \n            return true;\n        }\n        return false;\n    },\n\n    async getRoomList({ commit }){\n        let result = await reqRoomList();\n        let code = result?.code;\n        if (code === 10000) {  \n            let list = result?.data;  \n            commit(\"GETROOMList\", list?.list);\n            return list?.list;\n        }\n        return false;    \n    },\n\n    //退出登录\n    async userLogout({commit}) {\n        //只是向服务器发起一次请求，通知服务器清除token\n        let result = await reqLogout();\n        //action里面不能操作state，提交mutation修改state\n        if(result.code === 10000){\n            commit(\"USERLOGIN\",false);\n            // 删除 token\n            removeToken();\n            // 删除授权\n            removeCache('isAuthLogin')\n            return true;\n        }\n        return result;    \n  },\n\n\n\n}\n\nconst getters = {\n\n};\nexport default {\n  state,\n  mutations,\n  actions,\n  getters,\n};\n\n\n","\n// 导入api\nimport {\n    reqGetMsg,\n    reqUploadAudio,\n    reqUploadBase64\n} from \"@/api\";\nimport { setCache, getCache,removeCache} from \"@/utils/cache\";\nimport store from \"@/store\";\n\nconst state = {\n    title: \"闪电\",\n    messageList:[],\n    historyMessageList:[],\n    offTotal:0,\n    offMessageList:[]\n};\n// \nconst mutations = {\n    GETOFFMSGTOTAL(state, data) {\n        state.offTotal = data\n    },\n   \n    GETMESSAGELIST(state, data) {      \n        state.messageList = data\n    },\n\n    GETHISTORYMESSAGELIST(state,data) {   \n        if(Object.keys(data).length > 0)\n        {\n            state.historyMessageList = data\n        } \n    },\n    \n    GETTITLE(state,data) {\n        state.title = data\n    },\n    GETOFFMESSAGELIST(state,data) {\n        state.offMessageList = data\n    }\n\n\n};\n\nconst actions = {\n    /**\n     * 获取title 状态\n     */\n    async getTitle({commit}, data){\n        let title = \"闪电\"\n        let context = \"新消息\"  \n        let user_id = store.state.user.userInfo.user_id; \n        if (data.contactList.length > 0) {      \n            let contactList = data.contactList.split(',')     \n        \n            if ( contactList.includes(user_id.toString()) === true) {\n                    context = \"有人@我\"\n            } \n        }  \n        if (user_id == data.user_id) {\n            commit(\"GETTITLE\",title);\n            return title;\n        }\n        if (Object.keys(data).length > 0) {\n            title = '【'+ context + '】' + '闪电'\n        }\n        \n        commit(\"GETTITLE\",title);\n        return title;\n        \n\n    },\n   \n    /**\n     * 获取所有消息\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n\n    async getGetMsg({commit}, data) {\n        let room_id = data.room_id\n        let parms = `${room_id}`\n        if (data.page) {\n            parms = `${room_id}/${data.page}/${data.limit}`\n        }     \n        // 请求参数\n        let result = await reqGetMsg(parms);\n        console.log(\"getGetMsg::\",result)\n        if (result.code === 10000) {        \n            let list = result.data.list;\n            let msg = [];\n            let user_id = store.state.user.userInfo.user_id;\n            let oldMsg = state.historyMessageList || [];            \n            for (var i = 0; i < list.length; i++) {                \n                if (list[i].msg_form && room_id == list[i].room_id ) {\n\n                    var tag = 0; // 0 自己发的  1 被人发的\n                    if (user_id != list[i].msg_form) {\n                        tag = 1;\n                    }\n                    // url的处理\n                    let msg = list[i].msg_content;\n                    let pattern = /\\b(https?:\\/\\/[^\\s]+)/g;\n                    let matches = msg.match(pattern); \n                    let content_type = list[i].content_type; \n                    if (matches !== null && content_type == 0) {   \n                       \n                        for (var urlKey=0;urlKey < matches.length;urlKey++) {\n                        \n                            msg = msg.replace(matches[urlKey], `<a href=${matches[urlKey]}>${matches[urlKey]}</a>`);\n                            \n                        }\n                    }\n                    let totalSize = list[i].file_size\n                    let file_size =  totalSize/1024\n                    \n                    let messageList = {\n                        \"user_id\": list[i].msg_form,\n                        \"tag\":tag,\n                        \"nick_name\":list[i].nick_name,\n                        \"msg\":msg,\n                        \"room_id\":list[i].room_id,\n                        \"seq\":list[i].seq,\n                        \"send_time\":list[i].send_time,\n                        \"userLogo\":list[i].photo,\n                        \"content_type\":content_type,\n                        \"file_name\":list[i].file_name,\n                        \"original_file_name\":list[i].original_file_name,\n                        \"fileSize\":file_size.toFixed(2),\n                        \"totalSize\":totalSize,\n                        \"md5\":list[i].md5,\n                        \"total_chunks\":list[i].total_chunks,\n                        \"upload_status\":list[i].upload_status,\n                        \"chunk_number\":list[i].chunk_number,\n                        \"merge_number\":list[i].merge_number,\n                        \"is_revoke\":list[i].is_revoke ? list[i].is_revoke :0,\n                        \"delivered\":list[i].delivered,\n                        \"file_path\":list[i].file_path,\n                        \"thumb_path\":list[i].thumb_path?list[i].thumb_path:list[i].file_path\n                    }\n                    \n                    oldMsg.unshift(messageList)  \n                }\n\n            }\n\n\n            console.log(\"服务端发过来了一个数据:\",oldMsg);\n            let total = result.data.offTotal\n            commit(\"GETHISTORYMESSAGELIST\", oldMsg);\n\n            //用户已经登录成功且获取到token \n            return {msg:oldMsg,offTotal:total};\n        } \n\n        return false;\n\n\n\n    },\n    /**\n     * 上传音频\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n    async uploadAudio({commit}, data) {\n        let result = await reqUploadAudio(data);\n        if (result.code === 10000) {\n            return result.data;\n        } \n        return false;\n    },\n\n    \n    /**\n     * 上传base64图片\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n    async uploadBase64({commit}, data) {\n        let result = await reqUploadBase64(data);\n        if (result.code === 10000) {\n            return result.data;\n        } \n    },\n\n\n\n\n    async getMessage({commit}, data) {\n       \n        if ( Object.keys(data).length > 0) {\n            if (data.code == 20014 ) {\n                next('/login');\n\n            }        \n            const user_id = store.state.user.userInfo.user_id;           \n            var tag = 0; // 0 自己发的  1 被人发的\n            if (user_id !== data.user_id ) {\n              tag = 1;\n            }\n            let messages = [];\n            let msg = data.sensitiveMsg;\n            let pattern = /\\b(https?:\\/\\/[^\\s]+)/g;\n            let matches = msg.match(pattern); \n            let content_type = data.content_type; \n            if (matches !== null && content_type == 0) {   \n                       \n                for (var urlKey=0;urlKey < matches.length;urlKey++) {\n             \n                    msg = msg.replace(matches[urlKey], `<a href=${matches[urlKey]}>${matches[urlKey]}</a>`);\n                    \n                }\n            }\n           \n            let totalSize  =  data.file_size\n            let file_size = totalSize/1024\n            let room_id = store.state.user.roomInfo.room_id\n            let messageList = []\n           \n            messageList = {\n                \"user_id\": data.user_id,\n                \"tag\":tag,\n                \"nick_name\":data.nick_name,\n                \"msg\":msg,\n                \"room_id\":data.room_id,\n                \"seq\":data.seq,\n                \"send_time\":data.send_time,\n                \"userLogo\":data.userLogo,\n                \"content_type\":data.content_type,\n                \"file_name\":data.file_name,\n                \"totalSize\":totalSize,\n                \"original_file_name\":data.original_file_name,\n                \"fileSize\":file_size.toFixed(2),\n                \"md5\":data.md5,\n                \"total_chunks\":data.total_chunks,\n                \"upload_status\":data.upload_status,\n                \"chunk_number\":data.chunk_number,\n                \"merge_number\":data.merge_number,\n                \"is_revoke\":data.is_revoke ? data.is_revoke : 0,\n                \"delivered\":0,\n                \"file_path\":data.file_path,\n                \"thumb_path\":data.thumb_path?data.thumb_path:data.file_path\n            }\n            if (room_id == data.room_id) {\n                let oldMsg = state.historyMessageList || []; \n                oldMsg.push(messageList)\n                console.log(\"oldMsg\",oldMsg);\n                // 聊天记录\n                commit(\"GETMESSAGELIST\", messageList)\n            } else {\n                commit(\"GETOFFMESSAGELIST\", messageList)\n            }\n            console.log(\"getMessage服务端发过来了一个数据:\",messageList);\n            return true;\n        } \n    \n    },\n \n\n}\n\nconst getters = {\n\n};\nexport default {\n  state,\n  mutations,\n  actions,\n  getters,\n};\n\n\n","\n// 导入api\nimport {\n    reqUploadMerge,\n    reqcheckChunkExis,\n    reqUploadChunk,\n    reqUploadFiles,\n    reqUploadPut,\n    reqCreateThumb,\n} from \"@/api\";\nimport { setCache, getCache,removeCache} from \"@/utils/cache\";\nimport store from \"@/store\";\n\nconst state = {\n   \n};\n// \nconst mutations = {\n   \n};\n\nconst actions = {\n\n\n    \n    /**\n     * 检测文件状态\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n    async checkChunkExis({commit}, data) {\n        let result = await reqcheckChunkExis(data);\n        return result \n    },\n\n\n\n    /**\n     * 上传分片\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n    async uploadChunk({commit}, data) {\n        let result = await reqUploadChunk(data);\n        if (result.code === 10000) {\n            return result.data;\n        } \n        return false;\n    },\n\n    /**\n     * 合并文件\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n    async uploadMerge({commit}, data) {\n        let result = await reqUploadMerge(data);\n        if (result.code === 10000) {\n            return result.data;\n        } \n\n        return false;\n    },\n\n    \n    async uploadFiles({commit}, data) {\n        let result = await reqUploadFiles(data);\n        if (result.code === 10000) {\n            return result.data;\n        } \n    },\n\n    async uploadPut({commit}, data) {\n        let result = await reqUploadPut(data);\n        if (result.code === 10000) {\n            return result.data;\n        } \n\n        return false;\n    },\n    /**\n     * 生成縮略圖\n     * @param {*} param0 \n     * @param {*} data \n     * @returns \n     */\n    async createThumb({commit}, data) {\n        let result = await reqCreateThumb(data);\n        if (result.code === 10000) {\n            return result.data;\n        } \n\n        return false;\n    },\n\n}\n\nconst getters = {\n\n};\nexport default {\n  state,\n  mutations,\n  actions,\n  getters,\n};\n\n\n","//引入Vuex -----相当于咱们最大的仓库\nimport Vuex from \"vuex\";\n//引入Vue\nimport Vue from \"vue\";\n//使用插件\nVue.use(Vuex);\n\nimport user from \"./user\";\nimport message from \"./message\";\nimport upload from \"./upload\";\n\n\n//需要暴露Vuex.Store类的实例(你需要暴露这个类的实例，如果你不对外暴露，外部是不能使用的)\nexport default new Vuex.Store({\n    //模块：把小仓库进行合并变为大仓库\n    modules: {\n      user,\n      message,\n      upload,\n    },\n  });","//引入vue-router路由插件\nimport VueRouter from \"vue-router\";\n//引入Vue\nimport Vue from \"vue\";\nimport routes from \"./routes\";\n//使用插件\nVue.use(VueRouter);\n\nimport VueSocketIO from 'vue-socket.io' ;\nimport Manager from \"socket.io-client\";\nimport { setCache, getCache,removeCache} from \"@/utils/cache\";\nimport { setToken, getToken,removeToken} from \"@/utils/token\";\n//引入store\nimport store from \"@/store\";\n//需要重写VueRouter.prototype原型对象身上的push|replace方法\n//先把VueRouter.prototype身上的push|replace方法进行保存一份\nlet originPush = VueRouter.prototype.push;\nlet originReplace = VueRouter.prototype.replace;\n//重写VueRouter.prototype身上的push方法了\nVueRouter.prototype.push = function(location, resolve, reject) {\n  //第一个形参：路由跳转的配置对象（query|params）\n  //第二个参数：undefined|箭头函数（成功的回调）\n  //第三个参数:undefined|箭头函数（失败的回调）\n  if (resolve && reject) {\n    //push方法传递第二个参数|第三个参数（箭头函数）\n    //originPush：利用call修改上下文，变为(路由组件.$router)这个对象，第二参数：配置对象、第三、第四个参数：成功和失败回调函数\n    originPush.call(this, location, resolve, reject);\n  } else {\n    //push方法没有产地第二个参数|第三个参数\n    originPush.call(\n      this,\n      location,\n      () => {},\n      () => {}\n    );\n  }\n};\n//重写VueRouter.prototype身上的replace方法了\nVueRouter.prototype.replace = function(location, resolve, reject) {\n  if (resolve && reject) {\n    originReplace.call(this, location, resolve, reject);\n  } else {\n    originReplace.call(\n      this,\n      location,\n      () => {},\n      () => {}\n    );\n  }\n};\n//对外暴露VueRouter类的实例\nlet router = new VueRouter({\n  mode : 'history',\n  //配置路由\n  //第一:路径的前面需要有/(不是二级路由)\n  //路径中单词都是小写的\n  //component右侧V别给我加单引号【字符串：组件是对象（VueComponent类的实例）】\n  routes,\n  //滚动行为\n  scrollBehavior(to, from, savedPosition) {\n    //返回的这个y=0，代表的滚动条在最上方\n    return { y: 0 };\n  },\n});\n\n//全局守卫：前置守卫（在路由跳转之间进行判断）\nrouter.beforeEach(async (to, from, next) => {\n   //to:获取到要跳转到的路由信息\n   //from：获取到从哪个路由跳转过来来的信息\n   //next: next() 放行  next(path) 放行  \n   //方便测试 统一放行\n  //  next();\n  //获取仓库中的token-----可以确定用户是登录了\n   let token  = store.state.user.token;\n   //用户登录了\n   if(token != null && to.meta.requiresAuth ){\n     //已经登录而且还想去登录------不行\n        try {\n          // 获取房间信息\n          Vue.use(new VueSocketIO({\n            debug: true,\n            // 正式 https://teaim.cn\n            // 测试 http://127.0.0.1:9502\n            connection: Manager.connect(\"https://teaim.cn\", {\n              connectionStateRecovery: {\n                // the backup duration of the sessions and the packets\n                maxDisconnectionDuration: 2 * 60 * 1000,\n                // whether to skip middlewares upon successful recovery\n                skipMiddlewares: true,\n              },\n                reconnectionDelayMax: 100,\n                transports: [\"websocket\"],//默认使用的请求方式\n              \n                query: {\n                  \"token\":store.state.user.token,\n                    \n               },\n                autoConnect: false,//是否自动连接 \n              })\n            \n          }));\n          \n          let room_id = store.state.user.roomInfo.room_id??1;\n          console.log(\"room_id::\",room_id)\n          await store.dispatch('getRoomInfo',room_id).then(res => {\n          console.log('res::',res);\n          if(res){\n            // 登录成功跳转页面\n            next();\n          }\n         });          \n         \n       \n        } catch (error) {        \n          //token失效从新登录\n          await store.dispatch('userLogout');\n          next({ name: 'Login' })\n        }\n       \n  } else {\n   \n    \n    // let toPath = to.path; //把未登录的时候向去而没有去成的信息，存储于地址栏中【路由】\n    console.log(\"未登录1\")\n\n    if (to.name == 'Home') {\n      console.log(\"未登录\"+to.name )\n      // 游客登录\n      await store.dispatch('userLogin',{\"user_role\":1}).then(res=>{\n        if (res.code !== 10000) {\n          next({ name: 'Login' })\n        }\n        // 登录成功跳转页面\n        router.push('/');\n\n      })\n      return\n\n      \n    }\n    \n   \n    // 删除 token\n    removeToken();\n    // 删除授权\n    removeCache('isAuthLogin')\n    if(!to.meta.requiresGuest){\n     \n      next({ name: 'Login' })\n    } else if(to.name == 'Login' || to.name == 'Register') {\n      next();\n    }\n       \n    \n  }\n});\n\nexport default router;\n","export const monitorZoom = () => {\n  let ratio = 0,\n    screen = window.screen,\n    ua = navigator.userAgent.toLowerCase();\n  if (window.devicePixelRatio !== undefined) {\n    ratio = window.devicePixelRatio;\n  } else if (~ua.indexOf(\"msie\")) {\n    if (screen.deviceXDPI && screen.logicalXDPI) {\n      ratio = screen.deviceXDPI / screen.logicalXDPI;\n    }\n  } else if (\n    window.outerWidth !== undefined &&\n    window.innerWidth !== undefined\n  ) {\n    ratio = window.outerWidth / window.innerWidth;\n  }\n  if (ratio) {\n    ratio = Math.round(ratio * 100);\n  }\n  return ratio;\n};","import Vue from 'vue';\n\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\n// import VueAudio from 'vue-audio-better'\nimport MetaInfo from 'vue-meta-info';\nimport VueCookies from 'vue-cookies'\nimport AudioVisual from 'vue-audio-visual'\nimport uploader from 'vue-simple-uploader'\nimport App from './App.vue';\n\n//引入路由相关文件\nimport router from \"@/router\";\n//引入仓库进行注册\nimport store from \"@/store\";\n\nimport { Button,MessageBox} from 'element-ui';\n//引入表单校验插件\n// import \"@/plugins/validate\";\n\t\n//注册全局组件\nVue.component(Button.name,Button);\n\n//ElementUI注册组件的时候，还有一种写法，挂在原型上\nVue.prototype.$msgbox = MessageBox;\nVue.prototype.$alert = MessageBox.alert;\n//统一引入\nimport * as API from '@/api';\n//引入表单校验插件\nVue.config.productionTip = false\nVue.use(ElementUI);\n// Vue.use(VueAudio);\nVue.use(MetaInfo);\nVue.use(VueCookies)\nVue.use(AudioVisual)\nVue.use(uploader)\n// 屏幕自适应穿透px为rem模板\n/* 调整缩放比例 start */\nimport { monitorZoom } from \"@/utils/monitorZoom.js\";\nconst m = monitorZoom();\nconsole.log(window.screen.width * window.devicePixelRatio);\nif (window.screen.width * window.devicePixelRatio >= 3840) {\n  document.body.style.zoom = 100 / (Number(m) / 2); // 屏幕为 4k 时\n} else if (window.screen.width * window.devicePixelRatio >= 2560) {\n  document.body.style.zoom = 0.75; // 屏幕为 2k 时\n} else if (window.screen.width * window.devicePixelRatio >= 1920) {\n  document.body.style.zoom = 100 / (Number(m) / 1.5); // 屏幕为 2k 时\n} else if (window.screen.width * window.devicePixelRatio >= 1440) {\n  document.body.style.zoom = 100 / (Number(m) / 1.1); // 屏幕为 2k 时\n} else {\n  document.body.style.zoom = 100 / Number(m);\n\n}\n\n \n/* 调整缩放比例 end */\nnew Vue({\n  \n  //全局事件总线$bus配置\n  beforeCreate() {\n    Vue.prototype.$bus = this;\n    Vue.prototype.$API = API;\n  },\n  //router进行注册\n  router,\n  //注册store\n  store,\n  render: h => h(App),\n}).$mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebchat_view\"] = self[\"webpackChunkwebchat_view\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(3107); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["render","_vm","this","_c","_self","attrs","staticRenderFns","name","metaInfo","title","$store","state","message","meta","content","link","rel","href","data","mounted","document","oncontextmenu","e","browerWidth","window","innerWidth","console","log","baseWidth","zoomValue","getElementById","style","transform","onresize","destroyed","methods","component","staticClass","_v","ref","ruleForm","rules","required","type","min","model","value","nick_name","callback","$$v","$set","expression","login","password","confirm_password","on","$event","submitForm","formName","$refs","validate","valid","$alert","dispatch","then","res","code","msg","$router","push","catch","error","getAuthLogin","register","setCache","Cookies","set","getCache","get","removeCache","remove","oauthToken","isAuthLogin","url","length","location","origin","host","staticStyle","roomInfo","userStatus","key","timer","roomUserList","_s","room","roomName","countOnline","props","userLogo","_e","nickName","onClick","logout","user","userInfo","photo","user_id","room_id","components","$confirm","_","$socket","close","$message","_b","historyMessageList","itemComponent","keeps","estimateSize","totop","bottom","onScroll","composeFile","msgNum","isBottom","getLocation","findNewMsg","directives","rawName","showDialog","selectMsg","toogleDialogEmoji","audioPermission","audioData","statusClass","btnClick","upload","fileSuccess","userRole","stateStatus","members","filterMatch","deleteMatch","getValue","scopedSlots","_u","fn","s","domProps","item","userList","send","emo","uploadFile","fileList","localStorage","setItem","removeItem","chunkSize","maxSize","loadingFile","msgInfo","file","watch","computed","File","raw","currentFile","fileSize","size","fileMd5","getFileMd5","reader","FileReader","readAsDataURL","onload","target","result","sendMsg","newFileName","path","thumbPath","chunkCount","Math","ceil","JSON","stringify","initUploadParams","checkChunkExis","filename","totalChunks","totalSize","mergePath","uploadStatus","$emit","Promise","resolve","reject","blobSlice","prototype","slice","mozSlice","webkitSlice","chunks","currentChunk","spark","SparkMD5","fileReader","loadNext","start","end","readAsArrayBuffer","call","append","md5","onerror","getMsg","content_type","total_chunks","file_size","file_name","seq","chunk","num","i","chunkNumber","_chunkFile","uploadProgress","toFixed","emit","sockets","created","isShowPermission","indexOf","_k","keyCode","startRecorder","require","outPlay","startEnd","countdownimes","satrtTime","lamejs","recorder","Recorder","sampleBits","sampleRate","numChannels","compiling","drawRecordId","oCanvas","ctx","drawPlayId","pCanvas","pCtx","endTime","startCanvas","getContext","stopRecorder","drawRecord","getRecorder","resumeRecorder","resume","pauseRecorder","pause","cancelAnimationFrame","stop","playRecorder","play","drawPlay","pausePlayRecorder","pausePlay","resumePlayRecorder","resumePlay","stopPlayRecorder","stopPlay","destroyRecorder","destroy","toltime","parseInt","duration","mp3Blob","convertToMp3","getWAV","uploadWAVData","downPCM","downloadPCM","downWAV","downloadWAV","wavBlob","formData","FormData","fileName","Date","getTime","fileOfBlob","getPermission","getMp3Data","download","wavDataView","wav","WavHeader","readHeader","channels","mp3enc","Mp3Encoder","getChannelData","buffer","leftData","left","Int16Array","byteLength","rightData","right","remaining","maxSamples","subarray","mp3buf","encodeBuffer","enc","flush","Blob","countdownime","requestAnimationFrame","dataArray","getRecordAnalyseData","bufferLength","fillStyle","fillRect","width","height","lineWidth","strokeStyle","beginPath","sliceWidth","x","v","y","moveTo","lineTo","stroke","getPlayAnalyseData","VEmojiPicker","Audio","At","uploadPut","text","drawer","direction","user_role","audio","atStatus","sumNoticeOtherUser","countStr","contactList","headers","token","imagesExt","audioExt","videoExt","roomCallback","addEventListener","handleMousedown","removeEventListener","$el","contains","event","msgSend","permission","handleBeforeupload","handleError","err","fileLis","handleSuccess","response","Object","keys","index","lastIndexOf","ext","substr","fileExt","sendAudio","toLowerCase","filebutton","uploadfileBut","click","ScreenShort","enableWebRtc","level","completeCallback","closeCallback","closeFn","canvasWidth","canvasHeight","innerHeight","base64data","cutInfo","input","innerHTML","val","convertImageToCanvas","image","canvas","createElement","drawImage","suffix","filter","trim","is_robot","tihs","alert","original_file_name","identifier","status","lastEditRange","selection","getSelection","focus","range","rangeCount","getRangeAt","removeAllRanges","addRange","textNode","startContainer","rangeStartOffset","startOffset","insertData","setStart","collapse","open","html","spaceTrim","innerText","messgae","msgData","volatile","preventDefault","replace","file_path","upload_status","thumb_path","source","send_time","is_revoke","class","tag","isRevokeHidden","onContextmenu","apply","arguments","down","_m","slot","Vue","use","VueAudio","Contextmenu","synth","speechSynthesis","speech","SpeechSynthesisUtterance","voices","getVoices","progress","is_stop","curr","volume","balance","isloading","list","Number","default","time","parse","nowTime","$contextmenu","items","label","copyOrderId2","hidden","handleSpeak","getAttribute","customClass","zIndex","minWidth","textContent","body","appendChild","select","execCommand","removeChild","success","textMsg","lang","voice","rate","pitch","speak","openImagesClick","display","closeImagesClick","msgList","mergeNumber","merge_number","chunk_number","composeData","downFile","Clipboard","roomNum","tabshow","isLoading","isEnd","page","limit","Item","totalNum","chunkFileCallback","isChunk","updateStatus","updateMsgStatusCallback","targetObject","find","obj","mergeFileCallback","revokeMsgCallback","initLoadMsg","returnBottom","scrollToIndex","$nextTick","sendUserId","userId","div","reset","scrollToBottom","getdata","offTotal","MsgSend","virtualList","load","_l","is_online","count","noMore","loading","pages","showUser","Boolean","disabled","getUserList","datas","total","selectRoom","selectRoomId","max","off_delivered_count","msgNumList","wsmessageList","offMessageList","roomList","MsgTop","MsgBase","Messages","UserList","Room","onblur","onfocus","beforeDestroy","connecting","disconnect","reason","connected","connect_error","connect","handleClose","confirmButtonText","visibilitychange","visibilityState","beforeunloadHandler","returnValue","Login","requiresGuest","Register","Home","requiresAuth","setToken","getToken","getItem","removeToken","requests","axios","create","baseURL","timeout","interceptors","request","config","store","Authorization","nprogress","router","reqUserLogin","method","reqUserRegister","reqAuth","reqAuthLogin","reqRoomInfo","id","reqRoomUserList","reqRoomList","reqLogout","reqGetMsg","reqUploadAudio","reqUploadFiles","reqUploadBase64","reqUploadPut","reqcheckChunkExis","reqUploadChunk","reqUploadMerge","reqCreateThumb","userIsOnLine","mutations","USERLOGIN","GETUSERINFO","GETROOMINFO","ROOMUSERLIST","ISAUTHLOGIN","GETROOMList","actions","userLogin","commit","userRegister","authLogin","getRoomUserList","where","getRoomInfo","getRoomList","userLogout","getters","messageList","GETOFFMSGTOTAL","GETMESSAGELIST","GETHISTORYMESSAGELIST","GETTITLE","GETOFFMESSAGELIST","getTitle","context","split","includes","toString","getGetMsg","parms","oldMsg","msg_form","msg_content","pattern","matches","match","urlKey","delivered","unshift","uploadAudio","uploadBase64","getMessage","next","sensitiveMsg","uploadChunk","uploadMerge","uploadFiles","createThumb","Vuex","modules","VueRouter","originPush","originReplace","mode","routes","scrollBehavior","to","from","savedPosition","beforeEach","async","VueSocketIO","debug","connection","Manager","connectionStateRecovery","maxDisconnectionDuration","skipMiddlewares","reconnectionDelayMax","transports","query","autoConnect","monitorZoom","ratio","screen","ua","navigator","userAgent","undefined","devicePixelRatio","deviceXDPI","logicalXDPI","outerWidth","round","Button","$msgbox","MessageBox","productionTip","ElementUI","MetaInfo","VueCookies","AudioVisual","uploader","m","zoom","beforeCreate","$bus","$API","API","h","App","$mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","amdO","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","prop","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}